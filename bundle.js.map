{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"CanvasViewController","document","addEventListener","controller","body","appendChild","view","./CanvasViewController",2,"module","global","baseCompareAscending","value","other","valIsReflexive","othIsReflexive","baseIndexOf","array","fromIndex","indexOfNaN","index","baseIsFunction","baseSortBy","comparer","sort","baseToString","charAtCallback","string","charCodeAt","charsLeftIndex","chars","indexOf","charAt","charsRightIndex","compareAscending","object","criteria","compareMultipleAscending","objCriteria","othCriteria","result","deburrLetter","letter","deburredLetters","escapeHtmlChar","chr","htmlEscapes","escapeStringChar","stringEscapes","fromRight","isObjectLike","isSpace","charCode","replaceHolders","placeholder","resIndex","PLACEHOLDER","sortedUniq","iteratee","seen","computed","trimmedLeftIndex","trimmedRightIndex","unescapeHtmlChar","htmlUnescapes","runInContext","context","lodash","isArray","LazyWrapper","LodashWrapper","hasOwnProperty","wrapperClone","baseLodash","chainAll","actions","this","__wrapped__","__actions__","__chain__","__dir__","__dropCount__","__filtered__","__iteratees__","__takeCount__","POSITIVE_INFINITY","__views__","lazyClone","iteratees","views","arrayCopy","lazyReverse","clone","lazyValue","baseWrapperValue","dir","isRight","getView","start","end","dropCount","takeCount","nativeMin","iterLength","outer","iterIndex","data","type","LAZY_MAP_FLAG","LAZY_FILTER_FLAG","MapCache","__data__","mapDelete","key","has","mapGet","undefined","mapHas","mapSet","SetCache","values","hash","nativeCreate","set","Set","push","cacheIndexOf","cache","isObject","cachePush","add","source","Array","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","arrayMap","arrayMax","NEGATIVE_INFINITY","arrayMin","arrayReduce","accumulator","initFromArray","arrayReduceRight","arraySome","assignDefaults","objectValue","sourceValue","assignOwnDefaults","baseAssign","customizer","props","keys","baseCopy","baseAt","collection","isArr","isLength","propsLength","parseFloat","isIndex","baseBindAll","methodNames","createWrapper","BIND_FLAG","baseCallback","func","thisArg","argCount","isBindable","bindCallback","identity","baseMatches","baseProperty","baseMatchesProperty","baseClone","isDeep","stackA","stackB","initCloneArray","tag","objToString","isFunc","funcTag","objectTag","argsTag","cloneableTags","initCloneByTag","initCloneObject","baseForOwn","subValue","baseDelay","wait","args","TypeError","FUNC_ERROR_TEXT","setTimeout","apply","baseSlice","baseDifference","getIndexOf","isCommon","createCache","valuesLength","valuesIndex","baseEach","iterable","toObject","baseEachRight","baseForOwnRight","baseEvery","baseFill","baseFilter","baseFind","eachFunc","retKey","baseFlatten","isStrict","isArguments","valIndex","valLength","baseFor","keysFunc","baseForRight","baseForIn","keysIn","baseFunctions","isFunction","baseInvoke","methodName","baseIsEqual","isWhere","valType","othType","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","arrayTag","othTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","valWrapped","othWrapped","equalArrays","equalObjects","pop","baseIsMatch","strictCompareFlags","noCustomizer","objValue","srcValue","baseMap","isStrictComparable","baseMerge","isSrcArr","baseMergeDeep","mergeFunc","isPlainObject","toPlainObject","basePullAt","indexes","previous","splice","baseRandom","min","max","floor","nativeRandom","baseReduce","initFromCollection","baseSome","baseUniq","isLarge","seenIndex","baseValues","action","binaryIndex","retHighest","low","high","HALF_MAX_ARRAY_LENGTH","mid","binaryIndexBy","valIsNaN","valIsUndef","isReflexive","setLow","MAX_ARRAY_INDEX","arguments","bufferClone","buffer","bufferSlice","composeArgs","partials","holders","holdersLength","argsIndex","argsLength","nativeMax","leftIndex","leftLength","composeArgsRight","holdersIndex","rightIndex","rightLength","pad","createAggregator","setter","initializer","getCallback","createAssigner","assigner","isIterateeCall","createBindWrapper","wrapper","Ctor","createCtorWrapper","createCompounder","callback","words","deburr","thisBinding","baseCreate","prototype","createExtremum","arrayFunc","isMin","noIteratee","isString","toIterable","extremumBy","createHybridWrapper","bitmask","partialsRight","holdersRight","argPos","ary","arity","isCurry","isCurryRight","argsHolders","newArgPos","newArity","newsHolders","newHoldersRight","newPartials","newPartialsRight","PARTIAL_FLAG","PARTIAL_RIGHT_FLAG","isCurryBound","BIND_KEY_FLAG","isBind","isBindKey","reorder","isAry","ARY_FLAG","CURRY_FLAG","CURRY_BOUND_FLAG","CURRY_RIGHT_FLAG","createPad","strLength","nativeIsFinite","padLength","repeat","ceil","slice","createPartialWrapper","getData","newData","mergeData","baseSetData","setData","arrLength","othLength","arrValue","othValue","othIndex","boolTag","dateTag","errorTag","name","message","numberTag","regexpTag","stringTag","objProps","objLength","othProps","hasCtor","objCtor","constructor","othCtor","exValue","current","target","transforms","size","input","Object","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","byteOffset","reFlags","exec","lastIndex","support","funcNames","funcDecomp","fnToString","reFuncName","test","reThis","isNative","MAX_SAFE_INTEGER","prereq","srcBitmask","newBitmask","arityFlags","REARG_FLAG","bindFlags","comboFlags","isRearg","isCombo","pickByArray","pickByCallback","oldArray","shimIsPlainObject","shimKeys","allowIndexes","nonEnumArgs","chunk","guard","compact","difference","drop","dropRight","dropRightWhile","dropWhile","fill","findIndex","findLastIndex","first","flatten","flattenDeep","initial","intersection","caches","last","lastIndexOf","pull","pullAt","remove","rest","sortedIndex","sortedLastIndex","take","takeRight","takeRightWhile","takeWhile","union","uniq","isSorted","unzip","getLength","without","xor","concat","zip","zipObject","chain","tap","interceptor","thru","wrapperChain","wrapperCommit","wrapperPlant","parent","wrapperReverse","reverse","wrapperToString","wrapperValue","at","every","filter","find","findLast","findWhere","forEach","forEachRight","includes","invoke","map","pluck","reduce","reduceRight","reject","sample","shuffle","rand","some","sortBy","sortByAll","where","after","temp","before","bind","bindAll","functions","bindKey","curry","curryRight","debounce","options","cancel","timeoutId","clearTimeout","maxTimeoutId","trailingCall","delayed","remaining","now","stamp","isCalled","lastCalled","maxDelayed","trailing","maxWait","debounced","leading","leadingCall","defer","delay","flow","funcs","flowRight","memoize","resolver","memoized","get","Cache","negate","once","partial","partialRight","rearg","spread","throttle","debounceOptions","wrap","cloneDeep","isBoolean","isDate","isElement","nodeType","isEmpty","isEqual","isError","isMatch","isNaN","isNumber","reNative","reHostCtor","isNull","isRegExp","typedArrayTags","isUndefined","toArray","create","properties","defaults","assign","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","invert","multiValue","isProto","skipIndexes","mapValues","omit","String","pairs","pick","defaultValue","transform","valuesIn","inRange","random","floating","noMin","noMax","capitalize","toUpperCase","replace","reLatin1","endsWith","position","escape","reHasUnescapedHtml","reUnescapedHtml","escapeRegExp","reHasRegExpChars","reRegExpChars","padLeft","padRight","parseInt","radix","nativeParseInt","startsWith","template","otherOptions","settings","templateSettings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reNoMatch","reDelimiters","RegExp","reInterpolate","reEsTemplate","evaluate","sourceURL","templateCounter","match","escapeValue","interpolateValue","esTemplateValue","evaluateValue","offset","reUnescapedString","variable","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","attempt","Function","trim","trimLeft","trimRight","trunc","DEFAULT_TRUNC_LENGTH","omission","DEFAULT_TRUNC_OMISSION","separator","search","newEnd","substring","unescape","reHasEscapedHtml","reEscapedHtml","pattern","reWords","matches","constant","matchesProperty","mixin","isObj","noConflict","_","oldDash","noop","property","propertyOf","range","step","times","MAX_ARRAY_LENGTH","uniqueId","prefix","id","idCounter","root","contextProps","Date","Math","Number","arrayProto","objectProto","window","toString","ArrayBuffer","getPrototypeOf","propertyIsEnumerable","Uint8Array","WeakMap","Float64Array","nativeIsArray","isFinite","nativeKeys","nativeNow","nativeNumIsFinite","pow","FLOAT64_BYTES_PER_ELEMENT","BYTES_PER_ELEMENT","metaMap","WinRTError","dom","createDocumentFragment","reEscape","reEvaluate","byteLength","floatLength","count","HOT_SPAN","HOT_COUNT","countBy","groupBy","indexBy","partition","getTime","valueOf","objProto","merge","camelCase","word","toLowerCase","kebabCase","whitespace","reHexPrefix","snakeCase","startCase","backflow","collect","compose","each","eachRight","extend","methods","select","tail","unique","all","any","contains","detect","foldl","foldr","head","include","inject","VERSION","isFilter","isWhile","LAZY_WHILE_FLAG","filtered","countName","whileName","takeName","dropName","operationName","createCallback","done","lodashFunc","retUnwrapped","isHybrid","isLazy","onlyLazy","otherArgs","chainName","commit","plant","run","toJSON","mapTag","setTag","weakMapTag","upper","lower","À","Á","Â","Ã","Ä","Å","à","á","â","ã","ä","å","Ç","ç","Ð","ð","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ñ","ñ","Ò","Ó","Ô","Õ","Ö","Ø","ò","ó","ô","õ","ö","ø","Ù","Ú","Û","Ü","ù","ú","û","ü","Ý","ý","ÿ","Æ","æ","Þ","þ","ß","&","<",">","\"","'","`","&amp;","&lt;","&gt;","&quot;","&#39;","&#96;","objectTypes","function","\\","\n","\r"," "," ","freeExports","freeModule","freeGlobal","self","moduleExports","define","amd",3,"touchPoint","touch","Point","clientX","clientY","InteractionState","Renderer","Stroke","Color","Transform","interactionState","initialTransform","isStroking","strokeWidth","strokeColor","renderer","currentStrokeRenderer","createElement","style","width","height","onMouseMove","onMouseDown","onMouseUp","onTouchMove","onTouchStart","onTouchEnd","onWheel","pinchStart","points","pinchStartPoints","pinchMove","scale","sub","centerStart","mul","center","diff","translation","updateTransform","update","pinchEnd","pressStart","pos","stroke","currentStroke","color","strokes","pressMove","pressEnd","_this","requestAnimationFrame","drawOther","clear","ev","touches","preventDefault","translate","deltaX","deltaY","./Color","./Point","./Renderer","./Stroke","./Transform",4,"g","b",5,"Rect","Bezier","Curve","control1","control2","boundingRect","bezier","bbox","x","y","catmullRom","prev","next","div","bSpline","c0","c1","c2","c3","./Rect","./vendor/bezier",6,"defineProperty","sqrt","enumerable","configurable","m11","m21","dx","m12","m22","dy",7,"outset","p1","p2","fromPoints","boundingIntegerRect","empty",8,"isRenderQueued","devicePixelRatio","getContext","onResize","render","clearTransform","clearRect","setTransform","clearStrokes","rect","createTransform","console","log","drawImage","renderStroke","smooth","globalCompositeOperation","composition","lineCap","lineJoin","fillStyle","beginPath","arc","PI","lineWidth","strokeStyle","moveTo","curve","curveAt","bezierCurveTo","innerWidth","innerHeight",9,"toCurves","p","radius","./Curve",10,"det","delta",11,"abs","cos","sin","acos","atan2","asin","crt","v","pi","tau","ZERO","z","utils","Tvalues","Cvalues","arcfn","derivativeFn","d","sum","len","ds","de","ts","te","d1","d2","v2","lerp","v1","ret","pointToString","pointsToString","join","copy","obj","JSON","parse","stringify","angle","dot","dx1","dy1","dx2","dy2","cross","m1","m2","lli8","x1","y1","x2","y2","x3","y3","x4","y4","nx","ny","lli4","p3","p4","lli","c","makeline","findbbox","sections","mx","my","MX","MY","shapeintersections","s1","bbox1","s2","bbox2","bboxoverlap","intersections","a1","startcap","forward","back","endcap","a2","l1","virtual","l2","iss","intersects","makeshape","bpl","fpl","shape","getminmax","list","align","line","tx","ty","roots","order","u1","pa","pb","pc","pd","q","q2","discriminant","mp3","mp33","cosphi","phi","crtr","t1","sd","droots","b1","b2","dim","dims","expandbox","_bbox","pairiteration","c1b","c2b","threshold","_t1","_t2","cc1","split","cc2","left","right","pair","results","PolyBezier","curves","_3d","addCurve","idx","coords","point","dimlen","_linear","toSVG","dpoints","dpt","j","computedirection","clockwise","derivative","getLUT","steps","compute","mt","mt2","t2","raise","pim","np","k","normal","__normal3","__normal2","r1","r2","q1","m","R","pt","_p","span","subsplit","inflections","mfn","overlaps","lbbox","tbbox","nv","reduced","simple","n1","n2","segment","pass1","pass2","distanceFn","ov","rc","outline","d3","d4","linearDistanceFunction","tlen","alen","slen","f1","f2","fcurves","bcurves","graduated","fs","fe","bs","be","ls","le","segments","outlineshapes","shapes","lineIntersects","curveintersects","selfintersects"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,GAExc,YACA,IAAIU,GAAuBV,EAAQ,yBACnCW,UAASC,iBAAiB,mBAAoB,WAC1C,GAAIC,GAAa,GAAIH,EACrBC,UAASG,KAAKC,YAAYF,EAAWG,UAGtCC,yBAAyB,IAAIC,GAAG,SAASlB,EAAQmB,EAAOb,IAC3D,SAAWc,IAUT,WAwRA,QAASC,GAAqBC,EAAOC,GACnC,GAAID,IAAUC,EAAO,CACnB,GAAIC,GAAiBF,IAAUA,EAC3BG,EAAiBF,IAAUA,CAE/B,IAAID,EAAQC,IAAUC,GAAmC,mBAATF,IAAwBG,EACtE,MAAO,EAET,IAAYF,EAARD,IAAkBG,GAAmC,mBAATF,IAAwBC,EACtE,MAAO,GAGX,MAAO,GAYT,QAASE,GAAYC,EAAOL,EAAOM,GACjC,GAAIN,IAAUA,EACZ,MAAOO,GAAWF,EAAOC,EAK3B,KAHA,GAAIE,IAASF,GAAa,GAAK,EAC3BpB,EAASmB,EAAMnB,SAEVsB,EAAQtB,GACf,GAAImB,EAAMG,KAAWR,EACnB,MAAOQ,EAGX,OAAO,GAWT,QAASC,GAAeT,GAGtB,MAAuB,kBAATA,KAAuB,EAavC,QAASU,GAAWL,EAAOM,GACzB,GAAIzB,GAASmB,EAAMnB,MAGnB,KADAmB,EAAMO,KAAKD,GACJzB,KACLmB,EAAMnB,GAAUmB,EAAMnB,GAAQc,KAEhC,OAAOK,GAWT,QAASQ,GAAab,GACpB,MAAoB,gBAATA,GACFA,EAEO,MAATA,EAAgB,GAAMA,EAAQ,GAUvC,QAASc,GAAeC,GACtB,MAAOA,GAAOC,WAAW,GAY3B,QAASC,GAAeF,EAAQG,GAI9B,IAHA,GAAIV,GAAQ,GACRtB,EAAS6B,EAAO7B,SAEXsB,EAAQtB,GAAUgC,EAAMC,QAAQJ,EAAOK,OAAOZ,IAAU,KACjE,MAAOA,GAYT,QAASa,GAAgBN,EAAQG,GAG/B,IAFA,GAAIV,GAAQO,EAAO7B,OAEZsB,KAAWU,EAAMC,QAAQJ,EAAOK,OAAOZ,IAAU,KACxD,MAAOA,GAYT,QAASc,GAAiBC,EAAQtB,GAChC,MAAOF,GAAqBwB,EAAOC,SAAUvB,EAAMuB,WAAcD,EAAOf,MAAQP,EAAMO,MAYxF,QAASiB,GAAyBF,EAAQtB,GAMxC,IALA,GAAIO,GAAQ,GACRkB,EAAcH,EAAOC,SACrBG,EAAc1B,EAAMuB,SACpBtC,EAASwC,EAAYxC,SAEhBsB,EAAQtB,GAAQ,CACvB,GAAI0C,GAAS7B,EAAqB2B,EAAYlB,GAAQmB,EAAYnB,GAClE,IAAIoB,EACF,MAAOA,GAUX,MAAOL,GAAOf,MAAQP,EAAMO,MAU9B,QAASqB,GAAaC,GACpB,MAAOC,IAAgBD,GAUzB,QAASE,GAAeC,GACtB,MAAOC,IAAYD,GAWrB,QAASE,GAAiBF,GACxB,MAAO,KAAOG,GAAcH,GAa9B,QAAS1B,GAAWF,EAAOC,EAAW+B,GAIpC,IAHA,GAAInD,GAASmB,EAAMnB,OACfsB,EAAQ6B,EAAa/B,GAAapB,GAAYoB,GAAa,GAAK,EAE5D+B,EAAY7B,MAAYA,EAAQtB,GAAS,CAC/C,GAAIe,GAAQI,EAAMG,EAClB,IAAIP,IAAUA,EACZ,MAAOO,GAGX,MAAO,GAUT,QAAS8B,GAAatC,GACpB,MAAQA,IAAyB,gBAATA,KAAsB,EAWhD,QAASuC,GAAQC,GACf,MAAqB,MAAZA,GAAoBA,GAAY,GAAiB,IAAZA,GAA+B,IAAZA,GAA8B,KAAZA,GAAgC,MAAZA,GAAgC,MAAZA,GACxHA,GAAY,OAAqB,MAAZA,GAAgC,MAAZA,GAAgC,MAAZA,GAAgC,MAAZA,GAAgC,MAAZA,GAAgC,OAAZA,GAAiC,OAAZA,GAYnJ,QAASC,GAAepC,EAAOqC,GAM7B,IALA,GAAIlC,GAAQ,GACRtB,EAASmB,EAAMnB,OACfyD,EAAW,GACXf,OAEKpB,EAAQtB,GACXmB,EAAMG,KAAWkC,IACnBrC,EAAMG,GAASoC,EACfhB,IAASe,GAAYnC,EAGzB,OAAOoB,GAYT,QAASiB,GAAWxC,EAAOyC,GAOzB,IANA,GAAIC,GACAvC,EAAQ,GACRtB,EAASmB,EAAMnB,OACfyD,EAAW,GACXf,OAEKpB,EAAQtB,GAAQ,CACvB,GAAIc,GAAQK,EAAMG,GACdwC,EAAWF,EAAWA,EAAS9C,EAAOQ,EAAOH,GAASL,CAErDQ,IAASuC,IAASC,IACrBD,EAAOC,EACPpB,IAASe,GAAY3C,GAGzB,MAAO4B,GAWT,QAASqB,GAAiBlC,GAIxB,IAHA,GAAIP,GAAQ,GACRtB,EAAS6B,EAAO7B,SAEXsB,EAAQtB,GAAUqD,EAAQxB,EAAOC,WAAWR,MACrD,MAAOA,GAWT,QAAS0C,GAAkBnC,GAGzB,IAFA,GAAIP,GAAQO,EAAO7B,OAEZsB,KAAW+B,EAAQxB,EAAOC,WAAWR,MAC5C,MAAOA,GAUT,QAAS2C,GAAiBlB,GACxB,MAAOmB,IAAcnB,GAwCvB,QAASoB,GAAaC,GA6MpB,QAASC,GAAOvD,GACd,GAAIsC,EAAatC,KAAWwD,GAAQxD,MAAYA,YAAiByD,IAAc,CAC7E,GAAIzD,YAAiB0D,GACnB,MAAO1D,EAET,IAAI2D,GAAe1E,KAAKe,EAAO,cAAgB2D,GAAe1E,KAAKe,EAAO,eACxE,MAAO4D,IAAa5D,GAGxB,MAAO,IAAI0D,GAAc1D,GAQ3B,QAAS6D,MAYT,QAASH,GAAc1D,EAAO8D,EAAUC,GACtCC,KAAKC,YAAcjE,EACnBgE,KAAKE,YAAcH,MACnBC,KAAKG,YAAcL,EAoIrB,QAASL,GAAYzD,GACnBgE,KAAKC,YAAcjE,EACnBgE,KAAKE,YAAc,KACnBF,KAAKI,QAAU,EACfJ,KAAKK,cAAgB,EACrBL,KAAKM,cAAe,EACpBN,KAAKO,cAAgB,KACrBP,KAAKQ,cAAgBC,GACrBT,KAAKU,UAAY,KAWnB,QAASC,MACP,GAAIZ,GAAUC,KAAKE,YACfU,EAAYZ,KAAKO,cACjBM,EAAQb,KAAKU,UACb9C,EAAS,GAAI6B,GAAYO,KAAKC,YASlC,OAPArC,GAAOsC,YAAcH,EAAUe,GAAUf,GAAW,KACpDnC,EAAOwC,QAAUJ,KAAKI,QACtBxC,EAAOyC,cAAgBL,KAAKK,cAC5BzC,EAAO0C,aAAeN,KAAKM,aAC3B1C,EAAO2C,cAAgBK,EAAYE,GAAUF,GAAa,KAC1DhD,EAAO4C,cAAgBR,KAAKQ,cAC5B5C,EAAO8C,UAAYG,EAAQC,GAAUD,GAAS,KACvCjD,EAWT,QAASmD,MACP,GAAIf,KAAKM,aAAc,CACrB,GAAI1C,GAAS,GAAI6B,GAAYO,KAC7BpC,GAAOwC,QAAU,GACjBxC,EAAO0C,cAAe,MAEtB1C,GAASoC,KAAKgB,QACdpD,EAAOwC,SAAW,EAEpB,OAAOxC,GAWT,QAASqD,MACP,GAAI5E,GAAQ2D,KAAKC,YAAYjE,OAC7B,KAAKwD,GAAQnD,GACX,MAAO6E,IAAiB7E,EAAO2D,KAAKE,YAEtC,IAAIiB,GAAMnB,KAAKI,QACXgB,EAAgB,EAAND,EACVzF,EAAO2F,GAAQ,EAAGhF,EAAMnB,OAAQ8E,KAAKU,WACrCY,EAAQ5F,EAAK4F,MACbC,EAAM7F,EAAK6F,IACXrG,EAASqG,EAAMD,EACfE,EAAYxB,KAAKK,cACjBoB,EAAYC,GAAUxG,EAAQ8E,KAAKQ,eACnChE,EAAQ4E,EAAUG,EAAMD,EAAQ,EAChCV,EAAYZ,KAAKO,cACjBoB,EAAaf,EAAYA,EAAU1F,OAAS,EAC5CyD,EAAW,EACXf,IAEJgE,GACA,KAAO1G,KAAuBuG,EAAX9C,GAAsB,CACvCnC,GAAS2E,CAKT,KAHA,GAAIU,GAAY,GACZ7F,EAAQK,EAAMG,KAETqF,EAAYF,GAAY,CAC/B,GAAIG,GAAOlB,EAAUiB,GACjB/C,EAAWgD,EAAKhD,SAChBE,EAAWF,EAAS9C,EAAOQ,EAAOH,GAClC0F,EAAOD,EAAKC,IAEhB,IAAIA,GAAQC,EACVhG,EAAQgD,MACH,KAAKA,EAAU,CACpB,GAAI+C,GAAQE,EACV,QAASL,EAET,MAAMA,IAIRJ,EACFA,IAEA5D,EAAOe,KAAc3C,EAGzB,MAAO4B,GAaT,QAASsE,MACPlC,KAAKmC,YAYP,QAASC,IAAUC,GACjB,MAAOrC,MAAKsC,IAAID,UAAerC,MAAKmC,SAASE,GAY/C,QAASE,IAAOF,GACd,MAAc,aAAPA,EAAqBG,EAAYxC,KAAKmC,SAASE,GAYxD,QAASI,IAAOJ,GACd,MAAc,aAAPA,GAAsB1C,GAAe1E,KAAK+E,KAAKmC,SAAUE,GAalE,QAASK,IAAOL,EAAKrG,GAInB,MAHW,aAAPqG,IACFrC,KAAKmC,SAASE,GAAOrG,GAEhBgE,KAYT,QAAS2C,IAASC,GAChB,GAAI1H,GAAS0H,EAASA,EAAO1H,OAAS,CAGtC,KADA8E,KAAK8B,MAASe,KAAQC,GAAa,MAAOC,IAAO,GAAIC,KAC9C9H,KACL8E,KAAKiD,KAAKL,EAAO1H,IAarB,QAASgI,IAAaC,EAAOnH,GAC3B,GAAI8F,GAAOqB,EAAMrB,KACblE,EAA0B,gBAAT5B,IAAqBoH,GAASpH,GAAU8F,EAAKiB,IAAIT,IAAItG,GAAS8F,EAAKe,KAAK7G,EAE7F,OAAO4B,GAAS,EAAI,GAWtB,QAASyF,IAAUrH,GACjB,GAAI8F,GAAO9B,KAAK8B,IACI,iBAAT9F,IAAqBoH,GAASpH,GACvC8F,EAAKiB,IAAIO,IAAItH,GAEb8F,EAAKe,KAAK7G,IAAS,EAcvB,QAAS8E,IAAUyC,EAAQlH,GACzB,GAAIG,GAAQ,GACRtB,EAASqI,EAAOrI,MAGpB,KADAmB,IAAUA,EAAQmH,GAAMtI,MACfsB,EAAQtB,GACfmB,EAAMG,GAAS+G,EAAO/G,EAExB,OAAOH,GAYT,QAASoH,IAAUpH,EAAOyC,GAIxB,IAHA,GAAItC,GAAQ,GACRtB,EAASmB,EAAMnB,SAEVsB,EAAQtB,GACX4D,EAASzC,EAAMG,GAAQA,EAAOH,MAAW,IAI/C,MAAOA,GAYT,QAASqH,IAAerH,EAAOyC,GAG7B,IAFA,GAAI5D,GAASmB,EAAMnB,OAEZA,KACD4D,EAASzC,EAAMnB,GAASA,EAAQmB,MAAW,IAIjD,MAAOA,GAaT,QAASsH,IAAWtH,EAAOuH,GAIzB,IAHA,GAAIpH,GAAQ,GACRtB,EAASmB,EAAMnB,SAEVsB,EAAQtB,GACf,IAAK0I,EAAUvH,EAAMG,GAAQA,EAAOH,GAClC,OAAO,CAGX,QAAO,EAYT,QAASwH,IAAYxH,EAAOuH,GAM1B,IALA,GAAIpH,GAAQ,GACRtB,EAASmB,EAAMnB,OACfyD,EAAW,GACXf,OAEKpB,EAAQtB,GAAQ,CACvB,GAAIc,GAAQK,EAAMG,EACdoH,GAAU5H,EAAOQ,EAAOH,KAC1BuB,IAASe,GAAY3C,GAGzB,MAAO4B,GAYT,QAASkG,IAASzH,EAAOyC,GAKvB,IAJA,GAAItC,GAAQ,GACRtB,EAASmB,EAAMnB,OACf0C,EAAS4F,GAAMtI,KAEVsB,EAAQtB,GACf0C,EAAOpB,GAASsC,EAASzC,EAAMG,GAAQA,EAAOH,EAEhD,OAAOuB,GAUT,QAASmG,IAAS1H,GAKhB,IAJA,GAAIG,GAAQ,GACRtB,EAASmB,EAAMnB,OACf0C,EAASoG,KAEJxH,EAAQtB,GAAQ,CACvB,GAAIc,GAAQK,EAAMG,EACdR,GAAQ4B,IACVA,EAAS5B,GAGb,MAAO4B,GAUT,QAASqG,IAAS5H,GAKhB,IAJA,GAAIG,GAAQ,GACRtB,EAASmB,EAAMnB,OACf0C,EAAS6C,KAEJjE,EAAQtB,GAAQ,CACvB,GAAIc,GAAQK,EAAMG,EACNoB,GAAR5B,IACF4B,EAAS5B,GAGb,MAAO4B,GAeT,QAASsG,IAAY7H,EAAOyC,EAAUqF,EAAaC,GACjD,GAAI5H,GAAQ,GACRtB,EAASmB,EAAMnB,MAKnB,KAHIkJ,GAAiBlJ,IACnBiJ,EAAc9H,IAAQG,MAEfA,EAAQtB,GACfiJ,EAAcrF,EAASqF,EAAa9H,EAAMG,GAAQA,EAAOH,EAE3D,OAAO8H,GAeT,QAASE,IAAiBhI,EAAOyC,EAAUqF,EAAaC,GACtD,GAAIlJ,GAASmB,EAAMnB,MAInB,KAHIkJ,GAAiBlJ,IACnBiJ,EAAc9H,IAAQnB,IAEjBA,KACLiJ,EAAcrF,EAASqF,EAAa9H,EAAMnB,GAASA,EAAQmB,EAE7D,OAAO8H,GAaT,QAASG,IAAUjI,EAAOuH,GAIxB,IAHA,GAAIpH,GAAQ,GACRtB,EAASmB,EAAMnB,SAEVsB,EAAQtB,GACf,GAAI0I,EAAUvH,EAAMG,GAAQA,EAAOH,GACjC,OAAO,CAGX,QAAO,EAWT,QAASkI,IAAeC,EAAaC,GACnC,MAA6B,mBAAfD,GAA6BC,EAAcD,EAgB3D,QAASE,IAAkBF,EAAaC,EAAapC,EAAK9E,GACxD,MAA8B,mBAAfiH,IAA+B7E,GAAe1E,KAAKsC,EAAQ8E,GAEtEmC,EADAC,EAcN,QAASE,IAAWpH,EAAQgG,EAAQqB,GAClC,GAAIC,GAAQC,GAAKvB,EACjB,KAAKqB,EACH,MAAOG,IAASxB,EAAQhG,EAAQsH,EAKlC,KAHA,GAAIrI,GAAQ,GACRtB,EAAS2J,EAAM3J,SAEVsB,EAAQtB,GAAQ,CACvB,GAAImH,GAAMwC,EAAMrI,GACZR,EAAQuB,EAAO8E,GACfzE,EAASgH,EAAW5I,EAAOuH,EAAOlB,GAAMA,EAAK9E,EAAQgG,IAEpD3F,IAAWA,EAASA,IAAW5B,EAAQA,IAAUA,KACjC,mBAATA,IAA0BqG,IAAO9E,MAC3CA,EAAO8E,GAAOzE,GAGlB,MAAOL,GAYT,QAASyH,IAAOC,EAAYJ,GAO1B,IANA,GAAIrI,GAAQ,GACRtB,EAAS+J,EAAW/J,OACpBgK,EAAQC,GAASjK,GACjBkK,EAAcP,EAAM3J,OACpB0C,EAAS4F,GAAM4B,KAEX5I,EAAQ4I,GAAa,CAC3B,GAAI/C,GAAMwC,EAAMrI,EACZ0I,IACF7C,EAAMgD,WAAWhD,GACjBzE,EAAOpB,GAAS8I,GAAQjD,EAAKnH,GAAU+J,EAAW5C,GAAOG,GAEzD5E,EAAOpB,GAASyI,EAAW5C,GAG/B,MAAOzE,GAYT,QAASmH,IAASxB,EAAQhG,EAAQsH,GAC3BA,IACHA,EAAQtH,EACRA,KAKF,KAHA,GAAIf,GAAQ,GACRtB,EAAS2J,EAAM3J,SAEVsB,EAAQtB,GAAQ,CACvB,GAAImH,GAAMwC,EAAMrI,EAChBe,GAAO8E,GAAOkB,EAAOlB,GAEvB,MAAO9E,GAYT,QAASgI,IAAYhI,EAAQiI,GAI3B,IAHA,GAAIhJ,GAAQ,GACRtB,EAASsK,EAAYtK,SAEhBsB,EAAQtB,GAAQ,CACvB,GAAImH,GAAMmD,EAAYhJ,EACtBe,GAAO8E,GAAOoD,GAAclI,EAAO8E,GAAMqD,EAAWnI,GAEtD,MAAOA,GAaT,QAASoI,IAAaC,EAAMC,EAASC,GACnC,GAAI/D,SAAc6D,EAClB,OAAY,YAAR7D,EACwB,mBAAX8D,IAA0BE,GAAWH,GAChDI,GAAaJ,EAAMC,EAASC,GAC5BF,EAEM,MAARA,EACKK,GAEG,UAARlE,EACKmE,GAAYN,GAEI,mBAAXC,GACVM,GAAaP,EAAO,IACpBQ,GAAoBR,EAAO,GAAIC,GAiBrC,QAASQ,IAAUrK,EAAOsK,EAAQ1B,EAAYvC,EAAK9E,EAAQgJ,EAAQC,GACjE,GAAI5I,EAIJ,IAHIgH,IACFhH,EAASL,EAASqH,EAAW5I,EAAOqG,EAAK9E,GAAUqH,EAAW5I,IAE3C,mBAAV4B,GACT,MAAOA,EAET,KAAKwF,GAASpH,GACZ,MAAOA,EAET,IAAIkJ,GAAQ1F,GAAQxD,EACpB,IAAIkJ,GAEF,GADAtH,EAAS6I,GAAezK,IACnBsK,EACH,MAAOxF,IAAU9E,EAAO4B,OAErB,CACL,GAAI8I,GAAMC,GAAY1L,KAAKe,GACvB4K,EAASF,GAAOG,CAEpB,IAAIH,GAAOI,GAAaJ,GAAOK,KAAYH,GAAWrJ,GAMpD,MAAOyJ,IAAcN,GACjBO,GAAejL,EAAO0K,EAAKJ,GAC1B/I,EAASvB,IANd,IADA4B,EAASsJ,GAAgBN,KAAc5K,IAClCsK,EACH,MAAOvB,IAAS/I,EAAO4B,EAAQkH,GAAK9I,IAS1CuK,IAAWA,MACXC,IAAWA,KAGX,KADA,GAAItL,GAASqL,EAAOrL,OACbA,KACL,GAAIqL,EAAOrL,IAAWc,EACpB,MAAOwK,GAAOtL,EAWlB,OAPAqL,GAAOtD,KAAKjH,GACZwK,EAAOvD,KAAKrF,IAGXsH,EAAQzB,GAAY0D,IAAYnL,EAAO,SAASoL,EAAU/E,GACzDzE,EAAOyE,GAAOgE,GAAUe,EAAUd,EAAQ1B,EAAYvC,EAAKrG,EAAOuK,EAAQC,KAErE5I,EAiCT,QAASyJ,IAAUzB,EAAM0B,EAAMC,EAAMjL,GACnC,GAAmB,kBAARsJ,GACT,KAAM,IAAI4B,IAAUC,EAEtB,OAAOC,IAAW,WAAa9B,EAAK+B,MAAMnF,EAAWoF,GAAUL,EAAMjL,KAAgBgL,GAYvF,QAASO,IAAexL,EAAOuG,GAC7B,GAAI1H,GAASmB,EAAQA,EAAMnB,OAAS,EAChC0C,IAEJ,KAAK1C,EACH,MAAO0C,EAET,IAAIpB,GAAQ,GACRW,EAAU2K,KACVC,EAAW5K,GAAWf,EACtB+G,EAAQ4E,GAAYnF,EAAO1H,QAAU,KAAO8M,GAAYpF,GACxDqF,EAAerF,EAAO1H,MAEtBiI,KACFhG,EAAU+F,GACV6E,GAAW,EACXnF,EAASO,EAEXvB,GACA,OAASpF,EAAQtB,GAAQ,CACvB,GAAIc,GAAQK,EAAMG,EAElB,IAAIuL,GAAY/L,IAAUA,EAAO,CAE/B,IADA,GAAIkM,GAAcD,EACXC,KACL,GAAItF,EAAOsF,KAAiBlM,EAC1B,QAAS4F,EAGbhE,GAAOqF,KAAKjH,OAELmB,GAAQyF,EAAQ5G,GAAS,GAChC4B,EAAOqF,KAAKjH,GAGhB,MAAO4B,GAYT,QAASuK,IAASlD,EAAYnG,GAC5B,GAAI5D,GAAS+J,EAAaA,EAAW/J,OAAS,CAC9C,KAAKiK,GAASjK,GACZ,MAAOiM,IAAWlC,EAAYnG,EAKhC,KAHA,GAAItC,GAAQ,GACR4L,EAAWC,GAASpD,KAEfzI,EAAQtB,GACX4D,EAASsJ,EAAS5L,GAAQA,EAAO4L,MAAc,IAIrD,MAAOnD,GAYT,QAASqD,IAAcrD,EAAYnG,GACjC,GAAI5D,GAAS+J,EAAaA,EAAW/J,OAAS,CAC9C,KAAKiK,GAASjK,GACZ,MAAOqN,IAAgBtD,EAAYnG,EAGrC,KADA,GAAIsJ,GAAWC,GAASpD,GACjB/J,KACD4D,EAASsJ,EAASlN,GAASA,EAAQkN,MAAc,IAIvD,MAAOnD,GAaT,QAASuD,IAAUvD,EAAYrB,GAC7B,GAAIhG,IAAS,CAKb,OAJAuK,IAASlD,EAAY,SAASjJ,EAAOQ,EAAOyI,GAE1C,MADArH,KAAWgG,EAAU5H,EAAOQ,EAAOyI,KAG9BrH,EAaT,QAAS6K,IAASpM,EAAOL,EAAOsF,EAAOC,GACrC,GAAIrG,GAASmB,EAAMnB,MAanB,KAXAoG,EAAiB,MAATA,EAAgB,GAAMA,GAAS,EAC3B,EAARA,IACFA,GAASA,EAAQpG,EAAS,EAAKA,EAASoG,GAE1CC,EAAqB,mBAAPA,IAAsBA,EAAMrG,EAAUA,GAAWqG,GAAO,EAC5D,EAANA,IACFA,GAAOrG,GAETA,EAASoG,EAAQC,EAAM,EAAIA,IAAQ,EACnCD,KAAW,EAEIpG,EAARoG,GACLjF,EAAMiF,KAAWtF,CAEnB,OAAOK,GAYT,QAASqM,IAAWzD,EAAYrB,GAC9B,GAAIhG,KAMJ,OALAuK,IAASlD,EAAY,SAASjJ,EAAOQ,EAAOyI,GACtCrB,EAAU5H,EAAOQ,EAAOyI,IAC1BrH,EAAOqF,KAAKjH,KAGT4B,EAgBT,QAAS+K,IAAS1D,EAAYrB,EAAWgF,EAAUC,GACjD,GAAIjL,EAOJ,OANAgL,GAAS3D,EAAY,SAASjJ,EAAOqG,EAAK4C,GACxC,MAAIrB,GAAU5H,EAAOqG,EAAK4C,IACxBrH,EAASiL,EAASxG,EAAMrG,GACjB,GAFT,SAKK4B,EAcT,QAASkL,IAAYzM,EAAOiK,EAAQyC,EAAUzM,GAM5C,IALA,GAAIE,IAASF,GAAa,GAAK,EAC3BpB,EAASmB,EAAMnB,OACfyD,EAAW,GACXf,OAEKpB,EAAQtB,GAAQ,CACvB,GAAIc,GAAQK,EAAMG,EAElB,IAAI8B,EAAatC,IAAUmJ,GAASnJ,EAAMd,UAAYsE,GAAQxD,IAAUgN,GAAYhN,IAAS,CACvFsK,IAEFtK,EAAQ8M,GAAY9M,EAAOsK,EAAQyC,GAErC,IAAIE,GAAW,GACXC,EAAYlN,EAAMd,MAGtB,KADA0C,EAAO1C,QAAUgO,IACRD,EAAWC,GAClBtL,IAASe,GAAY3C,EAAMiN,OAEnBF,KACVnL,IAASe,GAAY3C,GAGzB,MAAO4B,GAeT,QAASuL,IAAQ5L,EAAQuB,EAAUsK,GAMjC,IALA,GAAI5M,GAAQ,GACR4L,EAAWC,GAAS9K,GACpBsH,EAAQuE,EAAS7L,GACjBrC,EAAS2J,EAAM3J,SAEVsB,EAAQtB,GAAQ,CACvB,GAAImH,GAAMwC,EAAMrI,EAChB,IAAIsC,EAASsJ,EAAS/F,GAAMA,EAAK+F,MAAc,EAC7C,MAGJ,MAAO7K,GAaT,QAAS8L,IAAa9L,EAAQuB,EAAUsK,GAKtC,IAJA,GAAIhB,GAAWC,GAAS9K,GACpBsH,EAAQuE,EAAS7L,GACjBrC,EAAS2J,EAAM3J,OAEZA,KAAU,CACf,GAAImH,GAAMwC,EAAM3J,EAChB,IAAI4D,EAASsJ,EAAS/F,GAAMA,EAAK+F,MAAc,EAC7C,MAGJ,MAAO7K,GAYT,QAAS+L,IAAU/L,EAAQuB,GACzB,MAAOqK,IAAQ5L,EAAQuB,EAAUyK,IAYnC,QAASpC,IAAW5J,EAAQuB,GAC1B,MAAOqK,IAAQ5L,EAAQuB,EAAUgG,IAYnC,QAASyD,IAAgBhL,EAAQuB,GAC/B,MAAOuK,IAAa9L,EAAQuB,EAAUgG,IAYxC,QAAS0E,IAAcjM,EAAQsH,GAM7B,IALA,GAAIrI,GAAQ,GACRtB,EAAS2J,EAAM3J,OACfyD,EAAW,GACXf,OAEKpB,EAAQtB,GAAQ,CACvB,GAAImH,GAAMwC,EAAMrI,EACZiN,IAAWlM,EAAO8E,MACpBzE,IAASe,GAAY0D,GAGzB,MAAOzE,GAcT,QAAS8L,IAAWzE,EAAY0E,EAAYpC,GAC1C,GAAI/K,GAAQ,GACRoK,EAA8B,kBAAd+C,GAChBzO,EAAS+J,EAAaA,EAAW/J,OAAS,EAC1C0C,EAASuH,GAASjK,GAAUsI,GAAMtI,KAMtC,OAJAiN,IAASlD,EAAY,SAASjJ,GAC5B,GAAI4J,GAAOgB,EAAS+C,EAAuB,MAAT3N,GAAiBA,EAAM2N,EACzD/L,KAASpB,GAASoJ,EAAOA,EAAK+B,MAAM3L,EAAOuL,GAAQ/E,IAE9C5E,EAgBT,QAASgM,IAAY5N,EAAOC,EAAO2I,EAAYiF,EAAStD,EAAQC,GAE9D,GAAIxK,IAAUC,EAEZ,MAAiB,KAAVD,GAAgB,EAAIA,GAAS,EAAIC,CAE1C,IAAI6N,SAAiB9N,GACjB+N,QAAiB9N,EAGrB,OAAgB,YAAX6N,GAAoC,UAAXA,GAAkC,YAAXC,GAAoC,UAAXA,GACjE,MAAT/N,GAA0B,MAATC,EAEZD,IAAUA,GAASC,IAAUA,EAE/B+N,GAAgBhO,EAAOC,EAAO2N,GAAahF,EAAYiF,EAAStD,EAAQC,GAkBjF,QAASwD,IAAgBzM,EAAQtB,EAAOgO,EAAWrF,EAAYiF,EAAStD,EAAQC,GAC9E,GAAI0D,GAAW1K,GAAQjC,GACnB4M,EAAW3K,GAAQvD,GACnBmO,EAASC,EACTC,EAASD,CAERH,KACHE,EAASzD,GAAY1L,KAAKsC,GACtB6M,GAAUrD,EACZqD,EAAStD,EACAsD,GAAUtD,IACnBoD,EAAWK,GAAahN,KAGvB4M,IACHG,EAAS3D,GAAY1L,KAAKgB,GACtBqO,GAAUvD,EACZuD,EAASxD,EACAwD,GAAUxD,IACnBqD,EAAWI,GAAatO,IAG5B,IAAIuO,GAAWJ,GAAUtD,EACrB2D,EAAWH,GAAUxD,EACrB4D,EAAYN,GAAUE,CAE1B,IAAII,IAAeR,IAAYM,EAC7B,MAAOG,IAAWpN,EAAQtB,EAAOmO,EAEnC,IAAIQ,GAAaJ,GAAY7K,GAAe1E,KAAKsC,EAAQ,eACrDsN,EAAaJ,GAAY9K,GAAe1E,KAAKgB,EAAO,cAExD,IAAI2O,GAAcC,EAChB,MAAOZ,GAAUW,EAAarN,EAAOvB,QAAUuB,EAAQsN,EAAa5O,EAAMD,QAAUC,EAAO2I,EAAYiF,EAAStD,EAAQC,EAE1H,KAAKkE,EACH,OAAO,CAITnE,KAAWA,MACXC,IAAWA,KAGX,KADA,GAAItL,GAASqL,EAAOrL,OACbA,KACL,GAAIqL,EAAOrL,IAAWqC,EACpB,MAAOiJ,GAAOtL,IAAWe,CAI7BsK,GAAOtD,KAAK1F,GACZiJ,EAAOvD,KAAKhH,EAEZ,IAAI2B,IAAUsM,EAAWY,GAAcC,IAAcxN,EAAQtB,EAAOgO,EAAWrF,EAAYiF,EAAStD,EAAQC,EAK5G,OAHAD,GAAOyE,MACPxE,EAAOwE,MAEApN,EAeT,QAASqN,IAAY1N,EAAQsH,EAAOjC,EAAQsI,EAAoBtG,GAC9D,GAAI1J,GAAS2J,EAAM3J,MACnB,IAAc,MAAVqC,EACF,OAAQrC,CAKV,KAHA,GAAIsB,GAAQ,GACR2O,GAAgBvG,IAEXpI,EAAQtB,GACf,GAAKiQ,GAAgBD,EAAmB1O,GAChCoG,EAAOpG,KAAWe,EAAOsH,EAAMrI,KAC9BmD,GAAe1E,KAAKsC,EAAQsH,EAAMrI,IAEzC,OAAO,CAIX,KADAA,EAAQ,KACCA,EAAQtB,GAAQ,CACvB,GAAImH,GAAMwC,EAAMrI,EAChB,IAAI2O,GAAgBD,EAAmB1O,GACrC,GAAIoB,GAAS+B,GAAe1E,KAAKsC,EAAQ8E,OACpC,CACL,GAAI+I,GAAW7N,EAAO8E,GAClBgJ,EAAWzI,EAAOpG,EAEtBoB,GAASgH,EAAaA,EAAWwG,EAAUC,EAAUhJ,GAAOG,EACvC,mBAAV5E,KACTA,EAASgM,GAAYyB,EAAUD,EAAUxG,GAAY,IAGzD,IAAKhH,EACH,OAAO,EAGX,OAAO,EAYT,QAAS0N,IAAQrG,EAAYnG,GAC3B,GAAIlB,KAIJ,OAHAuK,IAASlD,EAAY,SAASjJ,EAAOqG,EAAK4C,GACxCrH,EAAOqF,KAAKnE,EAAS9C,EAAOqG,EAAK4C,MAE5BrH,EAUT,QAASsI,IAAY3C,GACnB,GAAIsB,GAAQC,GAAKvB,GACbrI,EAAS2J,EAAM3J,MAEnB,IAAc,GAAVA,EAAa,CACf,GAAImH,GAAMwC,EAAM,GACZ7I,EAAQuH,EAAOlB,EAEnB,IAAIkJ,GAAmBvP,GACrB,MAAO,UAASuB,GACd,MAAiB,OAAVA,GAAkBA,EAAO8E,KAASrG,GAAS2D,GAAe1E,KAAKsC,EAAQ8E,IAOpF,IAHA,GAAIO,GAASY,GAAMtI,GACfgQ,EAAqB1H,GAAMtI,GAExBA,KACLc,EAAQuH,EAAOsB,EAAM3J,IACrB0H,EAAO1H,GAAUc,EACjBkP,EAAmBhQ,GAAUqQ,GAAmBvP,EAElD,OAAO,UAASuB,GACd,MAAO0N,IAAY1N,EAAQsH,EAAOjC,EAAQsI,IAa9C,QAAS9E,IAAoB/D,EAAKrG,GAChC,MAAIuP,IAAmBvP,GACd,SAASuB,GACd,MAAiB,OAAVA,GAAkBA,EAAO8E,KAASrG,GAGtC,SAASuB,GACd,MAAiB,OAAVA,GAAkBqM,GAAY5N,EAAOuB,EAAO8E,GAAM,MAAM,IAgBnE,QAASmJ,IAAUjO,EAAQgG,EAAQqB,EAAY2B,EAAQC,GACrD,IAAKpD,GAAS7F,GACZ,MAAOA,EAET,IAAIkO,GAAWtG,GAAS5B,EAAOrI,UAAYsE,GAAQ+D,IAAWgH,GAAahH,GAmB3E,QAlBCkI,EAAWhI,GAAY0D,IAAY5D,EAAQ,SAAS8H,EAAUhJ,EAAKkB,GAClE,GAAIjF,EAAa+M,GAGf,MAFA9E,KAAWA,MACXC,IAAWA,MACJkF,GAAcnO,EAAQgG,EAAQlB,EAAKmJ,GAAW5G,EAAY2B,EAAQC,EAE3E,IAAIxK,GAAQuB,EAAO8E,GACfzE,EAASgH,EAAaA,EAAW5I,EAAOqP,EAAUhJ,EAAK9E,EAAQgG,GAAUf,EACzEuF,EAA4B,mBAAVnK,EAElBmK,KACFnK,EAASyN,IAENI,GAA6B,mBAAV7N,KACnBmK,IAAanK,IAAWA,EAASA,IAAW5B,EAAQA,IAAUA,KACjEuB,EAAO8E,GAAOzE,KAGXL,EAkBT,QAASmO,IAAcnO,EAAQgG,EAAQlB,EAAKsJ,EAAW/G,EAAY2B,EAAQC,GAIzE,IAHA,GAAItL,GAASqL,EAAOrL,OAChBmQ,EAAW9H,EAAOlB,GAEfnH,KACL,GAAIqL,EAAOrL,IAAWmQ,EAEpB,YADA9N,EAAO8E,GAAOmE,EAAOtL,GAIzB,IAAIc,GAAQuB,EAAO8E,GACfzE,EAASgH,EAAaA,EAAW5I,EAAOqP,EAAUhJ,EAAK9E,EAAQgG,GAAUf,EACzEuF,EAA4B,mBAAVnK,EAElBmK,KACFnK,EAASyN,EACLlG,GAASkG,EAASnQ,UAAYsE,GAAQ6L,IAAad,GAAac,IAClEzN,EAAS4B,GAAQxD,GACbA,EACCA,EAAQ8E,GAAU9E,MAEhB4P,GAAcP,IAAarC,GAAYqC,GAC9CzN,EAASoL,GAAYhN,GACjB6P,GAAc7P,GACb4P,GAAc5P,GAASA,KAG5B+L,GAAW,GAKfxB,EAAOtD,KAAKoI,GACZ7E,EAAOvD,KAAKrF,GAERmK,EAEFxK,EAAO8E,GAAOsJ,EAAU/N,EAAQyN,EAAUzG,EAAY2B,EAAQC,IACrD5I,IAAWA,EAASA,IAAW5B,EAAQA,IAAUA,KAC1DuB,EAAO8E,GAAOzE,GAWlB,QAASuI,IAAa9D,GACpB,MAAO,UAAS9E,GACd,MAAiB,OAAVA,EAAiBiF,EAAYjF,EAAO8E,IAa/C,QAASyJ,IAAWzP,EAAO0P,GACzB,GAAI7Q,GAAS6Q,EAAQ7Q,OACjB0C,EAASoH,GAAO3I,EAAO0P,EAG3B,KADAA,EAAQnP,KAAKb,GACNb,KAAU,CACf,GAAIsB,GAAQ6I,WAAW0G,EAAQ7Q,GAC/B,IAAIsB,GAASwP,GAAY1G,GAAQ9I,GAAQ,CACvC,GAAIwP,GAAWxP,CACfyP,IAAOhR,KAAKoB,EAAOG,EAAO,IAG9B,MAAOoB,GAYT,QAASsO,IAAWC,EAAKC,GACvB,MAAOD,GAAME,GAAMC,MAAkBF,EAAMD,EAAM,IAiBnD,QAASI,IAAWtH,EAAYnG,EAAUqF,EAAaqI,EAAoB5D,GAMzE,MALAA,GAAS3D,EAAY,SAASjJ,EAAOQ,EAAOyI,GAC1Cd,EAAcqI,GACTA,GAAqB,EAAOxQ,GAC7B8C,EAASqF,EAAanI,EAAOQ,EAAOyI,KAEnCd,EAyBT,QAASyD,IAAUvL,EAAOiF,EAAOC,GAC/B,GAAI/E,GAAQ,GACRtB,EAASmB,EAAMnB,MAEnBoG,GAAiB,MAATA,EAAgB,GAAMA,GAAS,EAC3B,EAARA,IACFA,GAASA,EAAQpG,EAAS,EAAKA,EAASoG,GAE1CC,EAAqB,mBAAPA,IAAsBA,EAAMrG,EAAUA,GAAWqG,GAAO,EAC5D,EAANA,IACFA,GAAOrG,GAETA,EAASoG,EAAQC,EAAM,EAAKA,EAAMD,IAAW,EAC7CA,KAAW,CAGX,KADA,GAAI1D,GAAS4F,GAAMtI,KACVsB,EAAQtB,GACf0C,EAAOpB,GAASH,EAAMG,EAAQ8E,EAEhC,OAAO1D,GAaT,QAAS6O,IAASxH,EAAYrB,GAC5B,GAAIhG,EAMJ,OAJAuK,IAASlD,EAAY,SAASjJ,EAAOQ,EAAOyI,GAE1C,MADArH,GAASgG,EAAU5H,EAAOQ,EAAOyI,IACzBrH,MAEDA,EAYX,QAAS8O,IAASrQ,EAAOyC,GACvB,GAAItC,GAAQ,GACRW,EAAU2K,KACV5M,EAASmB,EAAMnB,OACf6M,EAAW5K,GAAWf,EACtBuQ,EAAU5E,GAAY7M,GAAU,IAChC6D,EAAO4N,GAAW3E,KAClBpK,IAEAmB,IACF5B,EAAU+F,GACV6E,GAAW,IAEX4E,GAAU,EACV5N,EAAOD,KAAgBlB,EAEzBgE,GACA,OAASpF,EAAQtB,GAAQ,CACvB,GAAIc,GAAQK,EAAMG,GACdwC,EAAWF,EAAWA,EAAS9C,EAAOQ,EAAOH,GAASL,CAE1D,IAAI+L,GAAY/L,IAAUA,EAAO,CAE/B,IADA,GAAI4Q,GAAY7N,EAAK7D,OACd0R,KACL,GAAI7N,EAAK6N,KAAe5N,EACtB,QAAS4C,EAGT9C,IACFC,EAAKkE,KAAKjE,GAEZpB,EAAOqF,KAAKjH,OAELmB,GAAQ4B,EAAMC,GAAY,KAC7BF,GAAY6N,IACd5N,EAAKkE,KAAKjE,GAEZpB,EAAOqF,KAAKjH,IAGhB,MAAO4B,GAaT,QAASiP,IAAWtP,EAAQsH,GAK1B,IAJA,GAAIrI,GAAQ,GACRtB,EAAS2J,EAAM3J,OACf0C,EAAS4F,GAAMtI,KAEVsB,EAAQtB,GACf0C,EAAOpB,GAASe,EAAOsH,EAAMrI,GAE/B,OAAOoB,GAaT,QAASsD,IAAiBlF,EAAO+D,GAC/B,GAAInC,GAAS5B,CACT4B,aAAkB6B,KACpB7B,EAASA,EAAO5B,QAKlB,KAHA,GAAIQ,GAAQ,GACRtB,EAAS6E,EAAQ7E,SAEZsB,EAAQtB,GAAQ,CACvB,GAAIqM,IAAQ3J,GACRkP,EAAS/M,EAAQvD,EAErByG,IAAK0E,MAAMJ,EAAMuF,EAAOvF,MACxB3J,EAASkP,EAAOlH,KAAK+B,MAAMmF,EAAOjH,QAAS0B,GAE7C,MAAO3J,GAeT,QAASmP,IAAY1Q,EAAOL,EAAOgR,GACjC,GAAIC,GAAM,EACNC,EAAO7Q,EAAQA,EAAMnB,OAAS+R,CAElC,IAAoB,gBAATjR,IAAqBA,IAAUA,GAAiBmR,IAARD,EAA+B,CAChF,KAAaA,EAAND,GAAY,CACjB,GAAIG,GAAOH,EAAMC,IAAU,EACvBlO,EAAW3C,EAAM+Q,IAEjBJ,EAA0BhR,GAAZgD,EAAiChD,EAAXgD,GACtCiO,EAAMG,EAAM,EAEZF,EAAOE,EAGX,MAAOF,GAET,MAAOG,IAAchR,EAAOL,EAAOiK,GAAU+G,GAiB/C,QAASK,IAAchR,EAAOL,EAAO8C,EAAUkO,GAC7ChR,EAAQ8C,EAAS9C,EAOjB,KALA,GAAIiR,GAAM,EACNC,EAAO7Q,EAAQA,EAAMnB,OAAS,EAC9BoS,EAAWtR,IAAUA,EACrBuR,EAA6B,mBAATvR,GAEXkR,EAAND,GAAY,CACjB,GAAIG,GAAMf,IAAOY,EAAMC,GAAQ,GAC3BlO,EAAWF,EAASzC,EAAM+Q,IAC1BI,EAAcxO,IAAaA,CAE/B,IAAIsO,EACF,GAAIG,GAASD,GAAeR,MAE5BS,GADSF,EACAC,IAAgBR,GAAiC,mBAAZhO,IAErCgO,EAA0BhR,GAAZgD,EAAiChD,EAAXgD,CAE3CyO,GACFR,EAAMG,EAAM,EAEZF,EAAOE,EAGX,MAAO1L,IAAUwL,EAAMQ,IAazB,QAAS1H,IAAaJ,EAAMC,EAASC,GACnC,GAAmB,kBAARF,GACT,MAAOK,GAET,IAAsB,mBAAXJ,GACT,MAAOD,EAET,QAAQE,GACN,IAAK,GAAG,MAAO,UAAS9J,GACtB,MAAO4J,GAAK3K,KAAK4K,EAAS7J,GAE5B,KAAK,GAAG,MAAO,UAASA,EAAOQ,EAAOyI,GACpC,MAAOW,GAAK3K,KAAK4K,EAAS7J,EAAOQ,EAAOyI,GAE1C,KAAK,GAAG,MAAO,UAASd,EAAanI,EAAOQ,EAAOyI,GACjD,MAAOW,GAAK3K,KAAK4K,EAAS1B,EAAanI,EAAOQ,EAAOyI,GAEvD,KAAK,GAAG,MAAO,UAASjJ,EAAOC,EAAOoG,EAAK9E,EAAQgG,GACjD,MAAOqC,GAAK3K,KAAK4K,EAAS7J,EAAOC,EAAOoG,EAAK9E,EAAQgG,IAGzD,MAAO,YACL,MAAOqC,GAAK+B,MAAM9B,EAAS8H,YAW/B,QAASC,IAAYC,GACnB,MAAOC,IAAY7S,KAAK4S,EAAQ,GAgClC,QAASE,IAAYxG,EAAMyG,EAAUC,GAQnC,IAPA,GAAIC,GAAgBD,EAAQ/S,OACxBiT,EAAY,GACZC,EAAaC,GAAU9G,EAAKrM,OAASgT,EAAe,GACpDI,EAAY,GACZC,EAAaP,EAAS9S,OACtB0C,EAAS4F,GAAM4K,EAAaG,KAEvBD,EAAYC,GACnB3Q,EAAO0Q,GAAaN,EAASM,EAE/B,QAASH,EAAYD,GACnBtQ,EAAOqQ,EAAQE,IAAc5G,EAAK4G,EAEpC,MAAOC,KACLxQ,EAAO0Q,KAAe/G,EAAK4G,IAE7B,OAAOvQ,GAaT,QAAS4Q,IAAiBjH,EAAMyG,EAAUC,GASxC,IARA,GAAIQ,GAAe,GACfP,EAAgBD,EAAQ/S,OACxBiT,EAAY,GACZC,EAAaC,GAAU9G,EAAKrM,OAASgT,EAAe,GACpDQ,EAAa,GACbC,EAAcX,EAAS9S,OACvB0C,EAAS4F,GAAM4K,EAAaO,KAEvBR,EAAYC,GACnBxQ,EAAOuQ,GAAa5G,EAAK4G,EAG3B,KADA,GAAIS,GAAMT,IACDO,EAAaC,GACpB/Q,EAAOgR,EAAMF,GAAcV,EAASU,EAEtC,QAASD,EAAeP,GACtBtQ,EAAOgR,EAAMX,EAAQQ,IAAiBlH,EAAK4G,IAE7C,OAAOvQ,GAaT,QAASiR,IAAiBC,EAAQC,GAChC,MAAO,UAAS9J,EAAYnG,EAAU+G,GACpC,GAAIjI,GAASmR,EAAcA,MAG3B,IAFAjQ,EAAWkQ,GAAYlQ,EAAU+G,EAAS,GAEtCrG,GAAQyF,GAIV,IAHA,GAAIzI,GAAQ,GACRtB,EAAS+J,EAAW/J,SAEfsB,EAAQtB,GAAQ,CACvB,GAAIc,GAAQiJ,EAAWzI,EACvBsS,GAAOlR,EAAQ5B,EAAO8C,EAAS9C,EAAOQ,EAAOyI,GAAaA,OAG5DkD,IAASlD,EAAY,SAASjJ,EAAOqG,EAAK4C,GACxC6J,EAAOlR,EAAQ5B,EAAO8C,EAAS9C,EAAOqG,EAAK4C,GAAaA,IAG5D,OAAOrH,IAYX,QAASqR,IAAeC,GACtB,MAAO,YACL,GAAIhU,GAASyS,UAAUzS,OACnBqC,EAASoQ,UAAU,EAEvB,IAAa,EAATzS,GAAwB,MAAVqC,EAChB,MAAOA,EAMT,IAJIrC,EAAS,GAAKiU,GAAexB,UAAU,GAAIA,UAAU,GAAIA,UAAU,MACrEzS,EAAS,GAGPA,EAAS,GAAqC,kBAAzByS,WAAUzS,EAAS,GAC1C,GAAI0J,GAAaoB,GAAa2H,YAAYzS,EAAS,GAAIyS,UAAUzS,KAAW,OACnEA,GAAS,GAAqC,kBAAzByS,WAAUzS,EAAS,KACjD0J,EAAa+I,YAAYzS,GAG3B,KADA,GAAIsB,GAAQ,IACHA,EAAQtB,GAAQ,CACvB,GAAIqI,GAASoK,UAAUnR,EACnB+G,IACF2L,EAAS3R,EAAQgG,EAAQqB,GAG7B,MAAOrH,IAaX,QAAS6R,IAAkBxJ,EAAMC,GAG/B,QAASwJ,KACP,OAAQrP,eAAgBqP,GAAUC,EAAO1J,GAAM+B,MAAM9B,EAAS8H,WAHhE,GAAI2B,GAAOC,GAAkB3J,EAK7B,OAAOyJ,GAsBT,QAASG,IAAiBC,GACxB,MAAO,UAAS1S,GAMd,IALA,GAAIP,GAAQ,GACRH,EAAQqT,GAAMC,GAAO5S,IACrB7B,EAASmB,EAAMnB,OACf0C,EAAS,KAEJpB,EAAQtB,GACf0C,EAAS6R,EAAS7R,EAAQvB,EAAMG,GAAQA,EAE1C,OAAOoB,IAYX,QAAS2R,IAAkBD,GACzB,MAAO,YACL,GAAIM,GAAcC,GAAWP,EAAKQ,WAC9BlS,EAAS0R,EAAK3H,MAAMiI,EAAajC,UAIrC,OAAOvK,IAASxF,GAAUA,EAASgS,GAavC,QAASG,IAAeC,EAAWC,GACjC,MAAO,UAAShL,EAAYnG,EAAU+G,GAChCA,GAAWsJ,GAAelK,EAAYnG,EAAU+G,KAClD/G,EAAW,KAEb,IAAI8G,GAAOoJ,KACPkB,EAAyB,MAAZpR,CAMjB,IAJM8G,IAASD,IAAgBuK,IAC7BA,GAAa,EACbpR,EAAW8G,EAAK9G,EAAU+G,EAAS,IAEjCqK,EAAY,CACd,GAAIhL,GAAQ1F,GAAQyF,EACpB,IAAKC,IAASiL,GAASlL,GAGrB,MAAO+K,GAAU9K,EAAQD,EAAamL,GAAWnL,GAFjDnG,GAAWhC,EAKf,MAAOuT,IAAWpL,EAAYnG,EAAUmR,IAqB5C,QAASK,IAAoB1K,EAAM2K,EAAS1K,EAASmI,EAAUC,EAASuC,EAAeC,EAAcC,EAAQC,EAAKC,GAWhH,QAASvB,KAOP,IAJA,GAAInU,GAASyS,UAAUzS,OACnBsB,EAAQtB,EACRqM,EAAO/D,GAAMtI,GAEVsB,KACL+K,EAAK/K,GAASmR,UAAUnR,EAQ1B,IANIwR,IACFzG,EAAOwG,GAAYxG,EAAMyG,EAAUC,IAEjCuC,IACFjJ,EAAOiH,GAAiBjH,EAAMiJ,EAAeC,IAE3CI,GAAWC,EAAc,CAC3B,GAAIpS,GAAc2Q,EAAQ3Q,YACtBqS,EAActS,EAAe8I,EAAM7I,EAGvC,IADAxD,GAAU6V,EAAY7V,OACT0V,EAAT1V,EAAgB,CAClB,GAAI8V,GAAYN,EAAS5P,GAAU4P,GAAU,KACzCO,EAAW5C,GAAUuC,EAAQ1V,EAAQ,GACrCgW,EAAcL,EAAUE,EAAc,KACtCI,EAAkBN,EAAU,KAAOE,EACnCK,EAAcP,EAAUtJ,EAAO,KAC/B8J,EAAmBR,EAAU,KAAOtJ,CAExCgJ,IAAYM,EAAUS,EAAeC,EACrChB,KAAaM,EAAUU,EAAqBD,GAEvCE,IACHjB,KAAa7K,EAAY+L,GAE3B,IAAI7T,GAAS0S,GAAoB1K,EAAM2K,EAAS1K,EAASuL,EAAaF,EAAaG,EAAkBF,EAAiBH,EAAWL,EAAKM,EAEtI,OADArT,GAAOc,YAAcA,EACdd,GAGX,GAAIgS,GAAc8B,EAAS7L,EAAU7F,IAUrC,OATI2R,KACF/L,EAAOgK,EAAYvN,IAEjBqO,IACFnJ,EAAOqK,GAAQrK,EAAMmJ,IAEnBmB,GAASlB,EAAMpJ,EAAKrM,SACtBqM,EAAKrM,OAASyV,IAER3Q,eAAgBqP,GAAWC,GAAQC,GAAkB3J,GAASA,GAAM+B,MAAMiI,EAAarI,GA5DjG,GAAIsK,GAAQtB,EAAUuB,EAClBJ,EAASnB,EAAU7K,EACnBiM,EAAYpB,EAAUkB,EACtBZ,EAAUN,EAAUwB,EACpBP,EAAejB,EAAUyB,EACzBlB,EAAeP,EAAU0B,EAEzB3C,GAAQqC,GAAapC,GAAkB3J,GACvCvD,EAAMuD,CAsDV,OAAOyJ,GAcT,QAAS6C,IAAUnV,EAAQ7B,EAAQgC,GACjC,GAAIiV,GAAYpV,EAAO7B,MAGvB,IAFAA,GAAUA,EAENiX,GAAajX,IAAWkX,GAAelX,GACzC,MAAO,EAET,IAAImX,GAAYnX,EAASiX,CAEzB,OADAjV,GAAiB,MAATA,EAAgB,IAAOA,EAAQ,GAChCoV,GAAOpV,EAAOqV,GAAKF,EAAYnV,EAAMhC,SAASsX,MAAM,EAAGH,GAehE,QAASI,IAAqB7M,EAAM2K,EAAS1K,EAASmI,GAIpD,QAASqB,KASP,IANA,GAAIlB,GAAY,GACZC,EAAaT,UAAUzS,OACvBoT,EAAY,GACZC,EAAaP,EAAS9S,OACtBqM,EAAO/D,GAAM4K,EAAaG,KAErBD,EAAYC,GACnBhH,EAAK+G,GAAaN,EAASM,EAE7B,MAAOF,KACL7G,EAAK+G,KAAeX,YAAYQ,EAElC,QAAQnO,eAAgBqP,GAAUC,EAAO1J,GAAM+B,MAAM+J,EAAS7L,EAAU7F,KAAMuH,GAlBhF,GAAImK,GAASnB,EAAU7K,EACnB4J,EAAOC,GAAkB3J,EAmB7B,OAAOyJ,GA4BT,QAAS5J,IAAcG,EAAM2K,EAAS1K,EAASmI,EAAUC,EAASyC,EAAQC,EAAKC,GAC7E,GAAIe,GAAYpB,EAAUkB,CAC1B,KAAKE,GAA4B,kBAAR/L,GACvB,KAAM,IAAI4B,IAAUC,EAEtB,IAAIvM,GAAS8S,EAAWA,EAAS9S,OAAS,CAM1C,IALKA,IACHqV,KAAae,EAAeC,GAC5BvD,EAAWC,EAAU,MAEvB/S,GAAW+S,EAAUA,EAAQ/S,OAAS,EAClCqV,EAAUgB,EAAoB,CAChC,GAAIf,GAAgBxC,EAChByC,EAAexC,CAEnBD,GAAWC,EAAU,KAEvB,GAAInM,IAAQ6P,GAAae,GAAQ9M,GAC7B+M,GAAW/M,EAAM2K,EAAS1K,EAASmI,EAAUC,EAASuC,EAAeC,EAAcC,EAAQC,EAAKC,EAWpG,IATI9O,GAAQA,KAAS,IACnB8Q,GAAUD,EAAS7Q,GACnByO,EAAUoC,EAAQ,GAClB/B,EAAQ+B,EAAQ,IAElBA,EAAQ,GAAc,MAAT/B,EACRe,EAAY,EAAI/L,EAAK1K,OACrBmT,GAAUuC,EAAQ1V,EAAQ,IAAM,EAEjCqV,GAAW7K,EACb,GAAI9H,GAASwR,GAAkBuD,EAAQ,GAAIA,EAAQ,QAInD/U,GAHU2S,GAAWe,GAAgBf,IAAY7K,EAAY4L,IAAmBqB,EAAQ,GAAGzX,OAGlFoV,GAAoB3I,MAAMnF,EAAWmQ,GAFrCF,GAAqB9K,MAAMnF,EAAWmQ,EAIjD,IAAI7D,GAAShN,EAAO+Q,GAAcC,EAClC,OAAOhE,GAAOlR,EAAQ+U,GAiBxB,QAAS7H,IAAYzO,EAAOJ,EAAOgO,EAAWrF,EAAYiF,EAAStD,EAAQC,GACzE,GAAIhK,GAAQ,GACRuW,EAAY1W,EAAMnB,OAClB8X,EAAY/W,EAAMf,OAClB0C,GAAS,CAEb,IAAImV,GAAaC,KAAenJ,GAAWmJ,EAAYD,GACrD,OAAO,CAGT,MAAOnV,KAAYpB,EAAQuW,GAAW,CACpC,GAAIE,GAAW5W,EAAMG,GACjB0W,EAAWjX,EAAMO,EAQrB,IANAoB,EAAS4E,EACLoC,IACFhH,EAASiM,EACLjF,EAAWsO,EAAUD,EAAUzW,GAC/BoI,EAAWqO,EAAUC,EAAU1W,IAEhB,mBAAVoB,GAET,GAAIiM,EAEF,IADA,GAAIsJ,GAAWH,EACRG,MACLD,EAAWjX,EAAMkX,KACjBvV,EAAUqV,GAAYA,IAAaC,GAAajJ,EAAUgJ,EAAUC,EAAUtO,EAAYiF,EAAStD,EAAQC,WAM7G5I,GAAUqV,GAAYA,IAAaC,GAAajJ,EAAUgJ,EAAUC,EAAUtO,EAAYiF,EAAStD,EAAQC,GAIjH,QAAS5I,EAgBX,QAAS+M,IAAWpN,EAAQtB,EAAOyK,GACjC,OAAQA,GACN,IAAK0M,GACL,IAAKC,GAGH,OAAQ9V,IAAWtB,CAErB,KAAKqX,GACH,MAAO/V,GAAOgW,MAAQtX,EAAMsX,MAAQhW,EAAOiW,SAAWvX,EAAMuX,OAE9D,KAAKC,GAEH,MAAQlW,KAAWA,EACftB,IAAUA,EAEC,GAAVsB,EAAgB,EAAIA,GAAY,EAAItB,EAAUsB,IAAWtB,CAEhE,KAAKyX,IACL,IAAKC,IAGH,MAAOpW,IAAWtB,EAAQ,GAE9B,OAAO,EAiBT,QAAS8O,IAAaxN,EAAQtB,EAAOgO,EAAWrF,EAAYiF,EAAStD,EAAQC,GAC3E,GAAIoN,GAAW9O,GAAKvH,GAChBsW,EAAYD,EAAS1Y,OACrB4Y,EAAWhP,GAAK7I,GAChB+W,EAAYc,EAAS5Y,MAEzB,IAAI2Y,GAAab,IAAcnJ,EAC7B,OAAO,CAKT,KAHA,GAAIkK,GACAvX,EAAQ,KAEHA,EAAQqX,GAAW,CAC1B,GAAIxR,GAAMuR,EAASpX,GACfoB,EAAS+B,GAAe1E,KAAKgB,EAAOoG,EAExC,IAAIzE,EAAQ,CACV,GAAIwN,GAAW7N,EAAO8E,GAClB6Q,EAAWjX,EAAMoG,EAErBzE,GAAS4E,EACLoC,IACFhH,EAASiM,EACLjF,EAAWsO,EAAU9H,EAAU/I,GAC/BuC,EAAWwG,EAAU8H,EAAU7Q,IAEhB,mBAAVzE,KAETA,EAAUwN,GAAYA,IAAa8H,GAAajJ,EAAUmB,EAAU8H,EAAUtO,EAAYiF,EAAStD,EAAQC,IAG/G,IAAK5I,EACH,OAAO,CAETmW,KAAYA,EAAiB,eAAP1R,GAExB,IAAK0R,EAAS,CACZ,GAAIC,GAAUzW,EAAO0W,YACjBC,EAAUjY,EAAMgY,WAGpB,IAAID,GAAWE,GAAY,eAAiB3W,IAAU,eAAiBtB,MAC/C,kBAAX+X,IAAyBA,YAAmBA,IAA6B,kBAAXE,IAAyBA,YAAmBA,IACrH,OAAO,EAGX,OAAO,EAeT,QAAS7D,IAAWpL,EAAYnG,EAAUmR,GACxC,GAAIkE,GAAUlE,EAAQxP,GAAoBuD,GACtChF,EAAWmV,EACXvW,EAASoB,CASb,OAPAmJ,IAASlD,EAAY,SAASjJ,EAAOQ,EAAOyI,GAC1C,GAAImP,GAAUtV,EAAS9C,EAAOQ,EAAOyI,KAChCgL,EAAkBjR,EAAVoV,EAAqBA,EAAUpV,IAAcoV,IAAYD,GAAWC,IAAYxW,KAC3FoB,EAAWoV,EACXxW,EAAS5B,KAGN4B,EAYT,QAASoR,IAAYpJ,EAAMC,EAASC,GAClC,GAAIlI,GAAS2B,EAAOkQ,UAAYA,EAEhC,OADA7R,GAASA,IAAW6R,GAAW9J,GAAe/H,EACvCkI,EAAWlI,EAAOgI,EAAMC,EAASC,GAAYlI,EAuBtD,QAASkK,IAAW7C,EAAYoP,EAAQ/X,GACtC,GAAIsB,GAAS2B,EAAOpC,SAAWA,EAE/B,OADAS,GAASA,IAAWT,GAAUf,EAAcwB,EACrCqH,EAAarH,EAAOqH,EAAYoP,EAAQ/X,GAAasB,EAa9D,QAASyD,IAAQC,EAAOC,EAAK+S,GAI3B,IAHA,GAAI9X,GAAQ,GACRtB,EAASoZ,EAAaA,EAAWpZ,OAAS,IAErCsB,EAAQtB,GAAQ,CACvB,GAAI4G,GAAOwS,EAAW9X,GAClB+X,EAAOzS,EAAKyS,IAEhB,QAAQzS,EAAKC,MACX,IAAK,OAAaT,GAASiT,CAAM,MACjC,KAAK,YAAahT,GAAOgT,CAAM,MAC/B,KAAK,OAAahT,EAAMG,GAAUH,EAAKD,EAAQiT,EAAO,MACtD,KAAK,YAAajT,EAAQ+M,GAAU/M,EAAOC,EAAMgT,IAGrD,OAASjT,MAASA,EAAOC,IAAOA,GAUlC,QAASkF,IAAepK,GACtB,GAAInB,GAASmB,EAAMnB,OACf0C,EAAS,GAAIvB,GAAM4X,YAAY/Y,EAOnC,OAJIA,IAA6B,gBAAZmB,GAAM,IAAkBsD,GAAe1E,KAAKoB,EAAO,WACtEuB,EAAOpB,MAAQH,EAAMG,MACrBoB,EAAO4W,MAAQnY,EAAMmY,OAEhB5W,EAUT,QAASsJ,IAAgB3J,GACvB,GAAI+R,GAAO/R,EAAO0W,WAIlB,OAHqB,kBAAR3E,IAAsBA,YAAgBA,KACjDA,EAAOmF,IAEF,GAAInF,GAgBb,QAASrI,IAAe1J,EAAQmJ,EAAKJ,GACnC,GAAIgJ,GAAO/R,EAAO0W,WAClB,QAAQvN,GACN,IAAKgO,IACH,MAAO9G,IAAYrQ,EAErB,KAAK6V,GACL,IAAKC,GACH,MAAO,IAAI/D,IAAM/R,EAEnB,KAAKoX,IAAY,IAAKC,IACtB,IAAKC,IAAS,IAAKC,IAAU,IAAKC,IAClC,IAAKC,IAAU,IAAKC,IAAiB,IAAKC,IAAW,IAAKC,IACxD,GAAItH,GAAStQ,EAAOsQ,MACpB,OAAO,IAAIyB,GAAKhJ,EAASsH,GAAYC,GAAUA,EAAQtQ,EAAO6X,WAAY7X,EAAOrC,OAEnF,KAAKuY,GACL,IAAKE,IACH,MAAO,IAAIrE,GAAK/R,EAElB,KAAKmW,IACH,GAAI9V,GAAS,GAAI0R,GAAK/R,EAAOgG,OAAQ8R,GAAQC,KAAK/X,GAClDK,GAAO2X,UAAYhY,EAAOgY,UAE9B,MAAO3X,GAUT,QAASmI,IAAWH,GAClB,GAAI4P,GAAUjW,EAAOiW,QACjB5X,IAAW4X,EAAQC,UAAY7P,EAAK2N,KAAOiC,EAAQE,WAEvD,KAAK9X,EAAQ,CACX,GAAI2F,GAASoS,GAAW1a,KAAK2K,EACxB4P,GAAQC,YACX7X,GAAUgY,GAAWC,KAAKtS,IAEvB3F,IAEHA,EAASkY,GAAOD,KAAKtS,IAAWwS,GAASnQ,GACzCiN,GAAYjN,EAAMhI,IAGtB,MAAOA,GAWT,QAAS0H,IAAQtJ,EAAOd,GAGtB,MAFAc,IAASA,EACTd,EAAmB,MAAVA,EAAiB8a,GAAmB9a,EACtCc,EAAQ,IAAMA,EAAQ,GAAK,GAAad,EAARc,EAYzC,QAASmT,IAAenT,EAAOQ,EAAOe,GACpC,IAAK6F,GAAS7F,GACZ,OAAO,CAET,IAAIwE,SAAcvF,EAClB,IAAY,UAARuF,EACF,GAAI7G,GAASqC,EAAOrC,OAChB+a,EAAS9Q,GAASjK,IAAWoK,GAAQ9I,EAAOtB,OAEhD+a,GAAiB,UAARlU,GAAoBvF,IAASe,EAExC,IAAItB,GAAQsB,EAAOf,EACnB,OAAOyZ,KAAWja,IAAUA,EAAQA,IAAUC,EAAQA,IAAUA,GAclE,QAASkJ,IAASnJ,GAChB,MAAuB,gBAATA,IAAqBA,EAAQ,IAAMA,EAAQ,GAAK,GAAcga,IAATha,EAWrE,QAASuP,IAAmBvP,GAC1B,MAAOA,KAAUA,IAAoB,IAAVA,EAAgB,EAAIA,EAAS,GAAMoH,GAASpH,IAkBzE,QAAS4W,IAAU9Q,EAAMyB,GACvB,GAAIgN,GAAUzO,EAAK,GACfoU,EAAa3S,EAAO,GACpB4S,EAAa5F,EAAU2F,EAEvBE,EAAatE,EAAWuE,EACxBC,EAAY5Q,EAAY+L,EACxB8E,EAAaH,EAAaE,EAAYtE,EAAmBC,EAEzDJ,EAAQtB,EAAUuB,KAAcoE,EAAapE,GAC7C0E,EAAUjG,EAAU8F,KAAgBH,EAAaG,GACjD3F,GAAU8F,EAAU1U,EAAOyB,GAAQ,GACnCoN,GAAOkB,EAAQ/P,EAAOyB,GAAQ,GAE9BwE,IAAawI,GAAW8F,GAAcH,EAAaI,GACnD/F,EAAU+F,GAAaJ,GAAcG,GAErCI,EAAWN,GAAcC,GAA4BG,GAAdJ,IAC9BE,EAAV9F,IAA0BiG,GAAW3E,IAAUnB,EAAOxV,QAAUyV,EAGnE,KAAM5I,IAAY0O,EAChB,MAAO3U,EAGLoU,GAAaxQ,IACf5D,EAAK,GAAKyB,EAAO,GAEjB4S,GAAe5F,EAAU7K,EAAa,EAAIsM,EAG5C,IAAIhW,GAAQuH,EAAO,EACnB,IAAIvH,EAAO,CACT,GAAIgS,GAAWlM,EAAK,EACpBA,GAAK,GAAKkM,EAAWD,GAAYC,EAAUhS,EAAOuH,EAAO,IAAMzC,GAAU9E,GACzE8F,EAAK,GAAKkM,EAAWvP,EAAeqD,EAAK,GAAIlD,GAAekC,GAAUyC,EAAO,IA0B/E,MAvBAvH,GAAQuH,EAAO,GACXvH,IACFgS,EAAWlM,EAAK,GAChBA,EAAK,GAAKkM,EAAWQ,GAAiBR,EAAUhS,EAAOuH,EAAO,IAAMzC,GAAU9E,GAC9E8F,EAAK,GAAKkM,EAAWvP,EAAeqD,EAAK,GAAIlD,GAAekC,GAAUyC,EAAO,KAG/EvH,EAAQuH,EAAO,GACXvH,IACF8F,EAAK,GAAKhB,GAAU9E,IAGlBka,EAAapE,IACfhQ,EAAK,GAAgB,MAAXA,EAAK,GAAayB,EAAO,GAAK7B,GAAUI,EAAK,GAAIyB,EAAO,KAGrD,MAAXzB,EAAK,KACPA,EAAK,GAAKyB,EAAO,IAGnBzB,EAAK,GAAKyB,EAAO,GACjBzB,EAAK,GAAKqU,EAEHrU,EAYT,QAAS4U,IAAYnZ,EAAQsH,GAC3BtH,EAAS8K,GAAS9K,EAMlB,KAJA,GAAIf,GAAQ,GACRtB,EAAS2J,EAAM3J,OACf0C,OAEKpB,EAAQtB,GAAQ,CACvB,GAAImH,GAAMwC,EAAMrI,EACZ6F,KAAO9E,KACTK,EAAOyE,GAAO9E,EAAO8E,IAGzB,MAAOzE,GAYT,QAAS+Y,IAAepZ,EAAQqG,GAC9B,GAAIhG,KAMJ,OALA0L,IAAU/L,EAAQ,SAASvB,EAAOqG,EAAK9E,GACjCqG,EAAU5H,EAAOqG,EAAK9E,KACxBK,EAAOyE,GAAOrG,KAGX4B,EAaT,QAASgU,IAAQvV,EAAO0P,GAKtB,IAJA,GAAIgH,GAAY1W,EAAMnB,OAClBA,EAASwG,GAAUqK,EAAQ7Q,OAAQ6X,GACnC6D,EAAW9V,GAAUzE,GAElBnB,KAAU,CACf,GAAIsB,GAAQuP,EAAQ7Q,EACpBmB,GAAMnB,GAAUoK,GAAQ9I,EAAOuW,GAAa6D,EAASpa,GAASgG,EAEhE,MAAOnG,GA6CT,QAASwa,IAAkB7a,GACzB,CAAA,GAAIsT,EACU/P,GAAOiW,QAGrB,IAAMlX,EAAatC,IAAU2K,GAAY1L,KAAKe,IAAU8K,IAClDnH,GAAe1E,KAAKe,EAAO,iBAC1BsT,EAAOtT,EAAMiY,YAA4B,kBAAR3E,MAAwBA,YAAgBA,KAC9E,OAAO,CAKT,IAAI1R,EAOJ,OAHA0L,IAAUtN,EAAO,SAASoL,EAAU/E,GAClCzE,EAASyE,IAEa,mBAAVzE,IAAyB+B,GAAe1E,KAAKe,EAAO4B,GAWpE,QAASkZ,IAASvZ,GAYhB,IAXA,GAAIsH,GAAQ0E,GAAOhM,GACf6H,EAAcP,EAAM3J,OACpBA,EAASkK,GAAe7H,EAAOrC,OAC/Bsa,EAAUjW,EAAOiW,QAEjBuB,EAAe7b,GAAUiK,GAASjK,KACnCsE,GAAQjC,IAAYiY,EAAQwB,aAAehO,GAAYzL,IAEtDf,EAAQ,GACRoB,OAEKpB,EAAQ4I,GAAa,CAC5B,GAAI/C,GAAMwC,EAAMrI,IACXua,GAAgBzR,GAAQjD,EAAKnH,IAAYyE,GAAe1E,KAAKsC,EAAQ8E,KACxEzE,EAAOqF,KAAKZ,GAGhB,MAAOzE,GAUT,QAASwS,IAAWpU,GAClB,MAAa,OAATA,KAGCmJ,GAASnJ,EAAMd,QAGbkI,GAASpH,GAASA,EAAQyY,GAAOzY,GAF/B4G,GAAO5G,GAYlB,QAASqM,IAASrM,GAChB,MAAOoH,IAASpH,GAASA,EAAQyY,GAAOzY,GAU1C,QAAS4D,IAAayP,GACpB,MAAOA,aAAmB5P,GACtB4P,EAAQrO,QACR,GAAItB,GAAc2P,EAAQpP,YAAaoP,EAAQlP,UAAWW,GAAUuO,EAAQnP,cAyBlF,QAAS+W,IAAM5a,EAAOkY,EAAM2C,GAExB3C,GADE2C,EAAQ/H,GAAe9S,EAAOkY,EAAM2C,GAAiB,MAAR3C,GACxC,EAEAlG,IAAWkG,GAAQ,EAAG,EAO/B,KALA,GAAI/X,GAAQ,EACRtB,EAASmB,EAAQA,EAAMnB,OAAS,EAChCyD,EAAW,GACXf,EAAS4F,GAAM+O,GAAKrX,EAASqZ,IAElBrZ,EAARsB,GACLoB,IAASe,GAAYiJ,GAAUvL,EAAOG,EAAQA,GAAS+X,EAEzD,OAAO3W,GAiBT,QAASuZ,IAAQ9a,GAMf,IALA,GAAIG,GAAQ,GACRtB,EAASmB,EAAQA,EAAMnB,OAAS,EAChCyD,EAAW,GACXf,OAEKpB,EAAQtB,GAAQ,CACvB,GAAIc,GAAQK,EAAMG,EACdR,KACF4B,IAASe,GAAY3C,GAGzB,MAAO4B,GAuBT,QAASwZ,MAIP,IAHA,GAAI5a,GAAQ,GACRtB,EAASyS,UAAUzS,SAEdsB,EAAQtB,GAAQ,CACvB,GAAIc,GAAQ2R,UAAUnR,EACtB,IAAIgD,GAAQxD,IAAUgN,GAAYhN,GAChC,MAGJ,MAAO6L,IAAe7L,EAAO8M,GAAY6E,WAAW,GAAO,IAAQnR,IA2BrE,QAAS6a,IAAKhb,EAAOjC,EAAG8c,GACtB,GAAIhc,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,OAAKA,KAGDgc,EAAQ/H,GAAe9S,EAAOjC,EAAG8c,GAAc,MAAL9c,KAC5CA,EAAI,GAECwN,GAAUvL,EAAW,EAAJjC,EAAQ,EAAIA,OA2BtC,QAASkd,IAAUjb,EAAOjC,EAAG8c,GAC3B,GAAIhc,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,OAAKA,KAGDgc,EAAQ/H,GAAe9S,EAAOjC,EAAG8c,GAAc,MAAL9c,KAC5CA,EAAI,GAENA,EAAIc,IAAWd,GAAK,GACbwN,GAAUvL,EAAO,EAAO,EAAJjC,EAAQ,EAAIA,OAoDzC,QAASmd,IAAelb,EAAOuH,EAAWiC,GACxC,GAAI3K,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,KAAKA,EACH,QAGF,KADA0I,EAAYoL,GAAYpL,EAAWiC,EAAS,GACrC3K,KAAY0I,EAAUvH,EAAMnB,GAASA,EAAQmB,KACpD,MAAOuL,IAAUvL,EAAO,EAAGnB,EAAS,GAoDtC,QAASsc,IAAUnb,EAAOuH,EAAWiC,GACnC,GAAI3K,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,KAAKA,EACH,QAEF,IAAIsB,GAAQ,EAEZ,KADAoH,EAAYoL,GAAYpL,EAAWiC,EAAS,KACnCrJ,EAAQtB,GAAU0I,EAAUvH,EAAMG,GAAQA,EAAOH,KAC1D,MAAOuL,IAAUvL,EAAOG,GAkB1B,QAASib,IAAKpb,EAAOL,EAAOsF,EAAOC,GACjC,GAAIrG,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,OAAKA,IAGDoG,GAAyB,gBAATA,IAAqB6N,GAAe9S,EAAOL,EAAOsF,KACpEA,EAAQ,EACRC,EAAMrG,GAEDuN,GAASpM,EAAOL,EAAOsF,EAAOC,OAmDvC,QAASmW,IAAUrb,EAAOuH,EAAWiC,GACnC,GAAIrJ,GAAQ,GACRtB,EAASmB,EAAQA,EAAMnB,OAAS,CAGpC,KADA0I,EAAYoL,GAAYpL,EAAWiC,EAAS,KACnCrJ,EAAQtB,GACf,GAAI0I,EAAUvH,EAAMG,GAAQA,EAAOH,GACjC,MAAOG,EAGX,OAAO,GAmDT,QAASmb,IAActb,EAAOuH,EAAWiC,GACvC,GAAI3K,GAASmB,EAAQA,EAAMnB,OAAS,CAEpC,KADA0I,EAAYoL,GAAYpL,EAAWiC,EAAS,GACrC3K,KACL,GAAI0I,EAAUvH,EAAMnB,GAASA,EAAQmB,GACnC,MAAOnB,EAGX,OAAO,GAoBT,QAAS0c,IAAMvb,GACb,MAAOA,GAAQA,EAAM,GAAKmG,EAuB5B,QAASqV,IAAQxb,EAAOiK,EAAQ4Q,GAC9B,GAAIhc,GAASmB,EAAQA,EAAMnB,OAAS,CAIpC,OAHIgc,IAAS/H,GAAe9S,EAAOiK,EAAQ4Q,KACzC5Q,GAAS,GAEJpL,EAAS4N,GAAYzM,EAAOiK,MAgBrC,QAASwR,IAAYzb,GACnB,GAAInB,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,OAAOA,GAAS4N,GAAYzM,GAAO,MAmCrC,QAASc,IAAQd,EAAOL,EAAOM,GAC7B,GAAIpB,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,KAAKA,EACH,MAAO,EAET,IAAwB,gBAAboB,GACTA,EAAwB,EAAZA,EAAgB+R,GAAUnT,EAASoB,EAAW,GAAMA,GAAa,MACxE,IAAIA,EAAW,CACpB,GAAIE,GAAQuQ,GAAY1Q,EAAOL,GAC3BC,EAAQI,EAAMG,EAElB,QAAQR,IAAUA,EAAQA,IAAUC,EAAQA,IAAUA,GAASO,EAAQ,GAEzE,MAAOJ,GAAYC,EAAOL,EAAOM,GAgBnC,QAASyb,IAAQ1b,GACf,MAAOib,IAAUjb,EAAO,GAqB1B,QAAS2b,MAQP,IAPA,GAAIzQ,MACA4G,EAAY,GACZC,EAAaT,UAAUzS,OACvB+c,KACA9a,EAAU2K,KACVC,EAAW5K,GAAWf,IAEjB+R,EAAYC,GAAY,CAC/B,GAAIpS,GAAQ2R,UAAUQ,IAClB3O,GAAQxD,IAAUgN,GAAYhN,MAChCuL,EAAKtE,KAAKjH,GACVic,EAAOhV,KAAK8E,GAAY/L,EAAMd,QAAU,KAAO8M,GAAYmG,GAAanS,KAG5EoS,EAAa7G,EAAKrM,MAClB,IAAImB,GAAQkL,EAAK,GACb/K,EAAQ,GACRtB,EAASmB,EAAQA,EAAMnB,OAAS,EAChC0C,KACAmB,EAAOkZ,EAAO,EAElBrW,GACA,OAASpF,EAAQtB,GAEf,GADAc,EAAQK,EAAMG,IACTuC,EAAOmE,GAAanE,EAAM/C,GAASmB,EAAQS,EAAQ5B,IAAU,EAAG,CAEnE,IADAmS,EAAYC,IACHD,GAAW,CAClB,GAAIhL,GAAQ8U,EAAO9J,EACnB,KAAKhL,EAAQD,GAAaC,EAAOnH,GAASmB,EAAQoK,EAAK4G,GAAYnS,IAAU,EAC3E,QAAS4F,GAGT7C,GACFA,EAAKkE,KAAKjH,GAEZ4B,EAAOqF,KAAKjH,GAGhB,MAAO4B,GAgBT,QAASsa,IAAK7b,GACZ,GAAInB,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,OAAOA,GAASmB,EAAMnB,EAAS,GAAKsH,EA4BtC,QAAS2V,IAAY9b,EAAOL,EAAOM,GACjC,GAAIpB,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,KAAKA,EACH,MAAO,EAET,IAAIsB,GAAQtB,CACZ,IAAwB,gBAAboB,GACTE,GAAqB,EAAZF,EAAgB+R,GAAUnT,EAASoB,EAAW,GAAKoF,GAAUpF,GAAa,EAAGpB,EAAS,IAAM,MAChG,IAAIoB,EAAW,CACpBE,EAAQuQ,GAAY1Q,EAAOL,GAAO,GAAQ,CAC1C,IAAIC,GAAQI,EAAMG,EAClB,QAAQR,IAAUA,EAAQA,IAAUC,EAAQA,IAAUA,GAASO,EAAQ,GAEzE,GAAIR,IAAUA,EACZ,MAAOO,GAAWF,EAAOG,GAAO,EAElC,MAAOA,KACL,GAAIH,EAAMG,KAAWR,EACnB,MAAOQ,EAGX,OAAO,GA2BT,QAAS4b,MACP,GAAI/b,GAAQsR,UAAU,EACtB,KAAMtR,IAASA,EAAMnB,OACnB,MAAOmB,EAMT,KAJA,GAAIG,GAAQ,EACRW,EAAU2K,KACV5M,EAASyS,UAAUzS,SAEdsB,EAAQtB,GAIf,IAHA,GAAIoB,GAAY,EACZN,EAAQ2R,UAAUnR,IAEdF,EAAYa,EAAQd,EAAOL,EAAOM,IAAc,IACtD2P,GAAOhR,KAAKoB,EAAOC,EAAW,EAGlC,OAAOD,GA4BT,QAASgc,IAAOhc,GACd,MAAOyP,IAAWzP,MAAayM,GAAY6E,WAAW,GAAO,EAAO,IA0CtE,QAAS2K,IAAOjc,EAAOuH,EAAWiC,GAChC,GAAIrJ,GAAQ,GACRtB,EAASmB,EAAQA,EAAMnB,OAAS,EAChC0C,IAGJ,KADAgG,EAAYoL,GAAYpL,EAAWiC,EAAS,KACnCrJ,EAAQtB,GAAQ,CACvB,GAAIc,GAAQK,EAAMG,EACdoH,GAAU5H,EAAOQ,EAAOH,KAC1BuB,EAAOqF,KAAKjH,GACZiQ,GAAOhR,KAAKoB,EAAOG,IAAS,GAC5BtB,KAGJ,MAAO0C,GAiBT,QAAS2a,IAAKlc,GACZ,MAAOgb,IAAKhb,EAAO,GAiBrB,QAASmW,IAAMnW,EAAOiF,EAAOC,GAC3B,GAAIrG,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,OAAKA,IAGDqG,GAAqB,gBAAPA,IAAmB4N,GAAe9S,EAAOiF,EAAOC,KAChED,EAAQ,EACRC,EAAMrG,GAED0M,GAAUvL,EAAOiF,EAAOC,OAmDjC,QAASiX,IAAYnc,EAAOL,EAAO8C,EAAU+G,GAC3C,GAAID,GAAOoJ,GAAYlQ,EACvB,OAAQ8G,KAASD,IAA4B,MAAZ7G,EAC7BiO,GAAY1Q,EAAOL,GACnBqR,GAAchR,EAAOL,EAAO4J,EAAK9G,EAAU+G,EAAS,IAuB1D,QAAS4S,IAAgBpc,EAAOL,EAAO8C,EAAU+G,GAC/C,GAAID,GAAOoJ,GAAYlQ,EACvB,OAAQ8G,KAASD,IAA4B,MAAZ7G,EAC7BiO,GAAY1Q,EAAOL,GAAO,GAC1BqR,GAAchR,EAAOL,EAAO4J,EAAK9G,EAAU+G,EAAS,IAAI,GA2B9D,QAAS6S,IAAKrc,EAAOjC,EAAG8c,GACtB,GAAIhc,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,OAAKA,KAGDgc,EAAQ/H,GAAe9S,EAAOjC,EAAG8c,GAAc,MAAL9c,KAC5CA,EAAI,GAECwN,GAAUvL,EAAO,EAAO,EAAJjC,EAAQ,EAAIA,OA2BzC,QAASue,IAAUtc,EAAOjC,EAAG8c,GAC3B,GAAIhc,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,OAAKA,KAGDgc,EAAQ/H,GAAe9S,EAAOjC,EAAG8c,GAAc,MAAL9c,KAC5CA,EAAI,GAENA,EAAIc,IAAWd,GAAK,GACbwN,GAAUvL,EAAW,EAAJjC,EAAQ,EAAIA,OAoDtC,QAASwe,IAAevc,EAAOuH,EAAWiC,GACxC,GAAI3K,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,KAAKA,EACH,QAGF,KADA0I,EAAYoL,GAAYpL,EAAWiC,EAAS,GACrC3K,KAAY0I,EAAUvH,EAAMnB,GAASA,EAAQmB,KACpD,MAAOuL,IAAUvL,EAAOnB,EAAS,GAoDnC,QAAS2d,IAAUxc,EAAOuH,EAAWiC,GACnC,GAAI3K,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,KAAKA,EACH,QAEF,IAAIsB,GAAQ,EAEZ,KADAoH,EAAYoL,GAAYpL,EAAWiC,EAAS,KACnCrJ,EAAQtB,GAAU0I,EAAUvH,EAAMG,GAAQA,EAAOH,KAC1D,MAAOuL,IAAUvL,EAAO,EAAGG,GAsB7B,QAASsc,MACP,MAAOpM,IAAS5D,GAAY6E,WAAW,GAAO,IAuDhD,QAASoL,IAAK1c,EAAO2c,EAAUla,EAAU+G,GACvC,GAAI3K,GAASmB,EAAQA,EAAMnB,OAAS,CACpC,KAAKA,EACH,QAEc,OAAZ8d,GAAuC,iBAAZA,KAC7BnT,EAAU/G,EACVA,EAAWqQ,GAAe9S,EAAO2c,EAAUnT,GAAW,KAAOmT,EAC7DA,GAAW,EAEb,IAAIpT,GAAOoJ,IAIX,QAHMpJ,IAASD,IAA4B,MAAZ7G,KAC7BA,EAAW8G,EAAK9G,EAAU+G,EAAS,IAE7BmT,GAAYlR,MAAgB1L,EAChCyC,EAAWxC,EAAOyC,GAClB4N,GAASrQ,EAAOyC,GAqBtB,QAASma,IAAM5c,GAKb,IAJA,GAAIG,GAAQ,GACRtB,GAAUmB,GAASA,EAAMnB,QAAU6I,GAASD,GAASzH,EAAO6c,QAAiB,EAC7Etb,EAAS4F,GAAMtI,KAEVsB,EAAQtB,GACf0C,EAAOpB,GAASsH,GAASzH,EAAO8J,GAAa3J,GAE/C,OAAOoB,GAuBT,QAASub,IAAQ9c,GACf,MAAOwL,IAAexL,EAAOuL,GAAU+F,UAAW,IAkBpD,QAASyL,MAIP,IAHA,GAAI5c,GAAQ,GACRtB,EAASyS,UAAUzS,SAEdsB,EAAQtB,GAAQ,CACvB,GAAImB,GAAQsR,UAAUnR,EACtB,IAAIgD,GAAQnD,IAAU2M,GAAY3M,GAChC,GAAIuB,GAASA,EACTiK,GAAejK,EAAQvB,GAAOgd,OAAOxR,GAAexL,EAAOuB,IAC3DvB,EAGR,MAAOuB,GAAS8O,GAAS9O,MAkB3B,QAAS0b,MAIP,IAHA,GAAIpe,GAASyS,UAAUzS,OACnBmB,EAAQmH,GAAMtI,GAEXA,KACLmB,EAAMnB,GAAUyS,UAAUzS,EAE5B,OAAO+d,IAAM5c,GAoBf,QAASkd,IAAU1U,EAAOjC,GACxB,GAAIpG,GAAQ,GACRtB,EAAS2J,EAAQA,EAAM3J,OAAS,EAChC0C,IAKJ,MAHI1C,GAAW0H,GAAWpD,GAAQqF,EAAM,MACtCjC,QAEOpG,EAAQtB,GAAQ,CACvB,GAAImH,GAAMwC,EAAMrI,EACZoG,GACFhF,EAAOyE,GAAOO,EAAOpG,GACZ6F,IACTzE,EAAOyE,EAAI,IAAMA,EAAI,IAGzB,MAAOzE,GA+BT,QAAS4b,IAAMxd,GACb,GAAI4B,GAAS2B,EAAOvD,EAEpB,OADA4B,GAAOuC,WAAY,EACZvC,EA0BT,QAAS6b,IAAIzd,EAAO0d,EAAa7T,GAE/B,MADA6T,GAAYze,KAAK4K,EAAS7J,GACnBA,EAuBT,QAAS2d,IAAK3d,EAAO0d,EAAa7T,GAChC,MAAO6T,GAAYze,KAAK4K,EAAS7J,GA4BnC,QAAS4d,MACP,MAAOJ,IAAMxZ,MA4Bf,QAAS6Z,MACP,MAAO,IAAIna,GAAcM,KAAKhE,QAASgE,KAAKG,WA0B9C,QAAS2Z,IAAa9d,GAIpB,IAHA,GAAI4B,GACAmc,EAAS/Z,KAEN+Z,YAAkBla,IAAY,CACnC,GAAImB,GAAQpB,GAAama,EACrBnc,GACFoO,EAAS/L,YAAce,EAEvBpD,EAASoD,CAEX,IAAIgL,GAAWhL,CACf+Y,GAASA,EAAO9Z,YAGlB,MADA+L,GAAS/L,YAAcjE,EAChB4B,EAuBT,QAASoc,MACP,GAAIhe,GAAQgE,KAAKC,WACjB,OAAIjE,aAAiByD,IACfO,KAAKE,YAAYhF,SACnBc,EAAQ,GAAIyD,GAAYO,OAEnB,GAAIN,GAAc1D,EAAMie,UAAWja,KAAKG,YAE1CH,KAAK2Z,KAAK,SAAS3d,GACxB,MAAOA,GAAMie,YAgBjB,QAASC,MACP,MAAQla,MAAKhE,QAAU,GAgBzB,QAASme,MACP,MAAOjZ,IAAiBlB,KAAKC,YAAaD,KAAKE,aAyBjD,QAASka,IAAGnV,GACV,GAAI/J,GAAS+J,EAAaA,EAAW/J,OAAS,CAI9C,OAHIiK,IAASjK,KACX+J,EAAamL,GAAWnL,IAEnBD,GAAOC,EAAY6D,GAAY6E,WAAW,GAAO,EAAO,IAgGjE,QAAS0M,IAAMpV,EAAYrB,EAAWiC,GACpC,GAAID,GAAOpG,GAAQyF,GAActB,GAAa6E,EAI9C,QAHwB,kBAAb5E,IAA6C,mBAAXiC,MAC3CjC,EAAYoL,GAAYpL,EAAWiC,EAAS,IAEvCD,EAAKX,EAAYrB,GAoD1B,QAAS0W,IAAOrV,EAAYrB,EAAWiC,GACrC,GAAID,GAAOpG,GAAQyF,GAAcpB,GAAc6E,EAE/C,OADA9E,GAAYoL,GAAYpL,EAAWiC,EAAS,GACrCD,EAAKX,EAAYrB,GAqD1B,QAAS2W,IAAKtV,EAAYrB,EAAWiC,GACnC,GAAIrG,GAAQyF,GAAa,CACvB,GAAIzI,GAAQkb,GAAUzS,EAAYrB,EAAWiC,EAC7C,OAAOrJ,GAAQ,GAAKyI,EAAWzI,GAASgG,EAG1C,MADAoB,GAAYoL,GAAYpL,EAAWiC,EAAS,GACrC8C,GAAS1D,EAAYrB,EAAWuE,IAsBzC,QAASqS,IAASvV,EAAYrB,EAAWiC,GAEvC,MADAjC,GAAYoL,GAAYpL,EAAWiC,EAAS,GACrC8C,GAAS1D,EAAYrB,EAAW0E,IAgCzC,QAASmS,IAAUxV,EAAY1B,GAC7B,MAAOgX,IAAKtV,EAAYiB,GAAY3C,IAiCtC,QAASmX,IAAQzV,EAAYnG,EAAU+G,GACrC,MAA2B,kBAAZ/G,IAA4C,mBAAX+G,IAA0BrG,GAAQyF,GAC9ExB,GAAUwB,EAAYnG,GACtBqJ,GAASlD,EAAYe,GAAalH,EAAU+G,EAAS,IAsB3D,QAAS8U,IAAa1V,EAAYnG,EAAU+G,GAC1C,MAA2B,kBAAZ/G,IAA4C,mBAAX+G,IAA0BrG,GAAQyF,GAC9EvB,GAAeuB,EAAYnG,GAC3BwJ,GAAcrD,EAAYe,GAAalH,EAAU+G,EAAS,IAqFhE,QAAS+U,IAAS3V,EAAYoP,EAAQ/X,GACpC,GAAIpB,GAAS+J,EAAaA,EAAW/J,OAAS,CAK9C,OAJKiK,IAASjK,KACZ+J,EAAarC,GAAOqC,GACpB/J,EAAS+J,EAAW/J,QAEjBA,GAIHoB,EADsB,gBAAbA,GACe,EAAZA,EAAgB+R,GAAUnT,EAASoB,EAAW,GAAMA,GAAa,EAEjE,EAEe,gBAAd2I,KAA2BzF,GAAQyF,IAAekL,GAASlL,GACzD/J,EAAZoB,GAAsB2I,EAAW9H,QAAQkX,EAAQ/X,GAAa,GAC9DwL,GAAW7C,EAAYoP,EAAQ/X,GAAa,KATxC,EAoFX,QAASue,IAAO5V,EAAY0E,GAC1B,MAAOD,IAAWzE,EAAY0E,EAAY/B,GAAU+F,UAAW,IA2DjE,QAASmN,IAAI7V,EAAYnG,EAAU+G,GACjC,GAAID,GAAOpG,GAAQyF,GAAcnB,GAAWwH,EAE5C,OADAxM,GAAWkQ,GAAYlQ,EAAU+G,EAAS,GACnCD,EAAKX,EAAYnG,GA2L1B,QAASic,IAAM9V,EAAY5C,GACzB,MAAOyY,IAAI7V,EAAYkB,GAAa9D,IAuCtC,QAAS2Y,IAAO/V,EAAYnG,EAAUqF,EAAa0B,GACjD,GAAID,GAAOpG,GAAQyF,GAAcf,GAAcqI,EAC/C,OAAO3G,GAAKX,EAAY+J,GAAYlQ,EAAU+G,EAAS,GAAI1B,EAAawJ,UAAUzS,OAAS,EAAGiN,IAyBhG,QAAS8S,IAAYhW,EAAYnG,EAAUqF,EAAa0B,GACtD,GAAID,GAAOpG,GAAQyF,GAAcZ,GAAmBkI,EACpD,OAAO3G,GAAKX,EAAY+J,GAAYlQ,EAAU+G,EAAS,GAAI1B,EAAawJ,UAAUzS,OAAS,EAAGoN,IAkDhG,QAAS4S,IAAOjW,EAAYrB,EAAWiC,GACrC,GAAID,GAAOpG,GAAQyF,GAAcpB,GAAc6E,EAE/C,OADA9E,GAAYoL,GAAYpL,EAAWiC,EAAS,GACrCD,EAAKX,EAAY,SAASjJ,EAAOQ,EAAOyI,GAC7C,OAAQrB,EAAU5H,EAAOQ,EAAOyI,KAsBpC,QAASkW,IAAOlW,EAAY7K,EAAG8c,GAC7B,GAAIA,EAAQ/H,GAAelK,EAAY7K,EAAG8c,GAAc,MAAL9c,EAAW,CAC5D6K,EAAamL,GAAWnL,EACxB,IAAI/J,GAAS+J,EAAW/J,MACxB,OAAOA,GAAS,EAAI+J,EAAWiH,GAAW,EAAGhR,EAAS,IAAMsH,EAE9D,GAAI5E,GAASwd,GAAQnW,EAErB,OADArH,GAAO1C,OAASwG,GAAc,EAAJtH,EAAQ,GAAMA,GAAK,EAAIwD,EAAO1C,QACjD0C,EAkBT,QAASwd,IAAQnW,GACfA,EAAamL,GAAWnL,EAMxB,KAJA,GAAIzI,GAAQ,GACRtB,EAAS+J,EAAW/J,OACpB0C,EAAS4F,GAAMtI,KAEVsB,EAAQtB,GAAQ,CACvB,GAAImgB,GAAOnP,GAAW,EAAG1P,EACrBA,IAAS6e,IACXzd,EAAOpB,GAASoB,EAAOyd,IAEzBzd,EAAOyd,GAAQpW,EAAWzI,GAE5B,MAAOoB,GAuBT,QAAS2W,IAAKtP,GACZ,GAAI/J,GAAS+J,EAAaA,EAAW/J,OAAS,CAC9C,OAAOiK,IAASjK,GAAUA,EAAS4J,GAAKG,GAAY/J,OAoDtD,QAASogB,IAAKrW,EAAYrB,EAAWiC,GACnC,GAAID,GAAOpG,GAAQyF,GAAcX,GAAYmI,EAI7C,QAHwB,kBAAb7I,IAA6C,mBAAXiC,MAC3CjC,EAAYoL,GAAYpL,EAAWiC,EAAS,IAEvCD,EAAKX,EAAYrB,GAoD1B,QAAS2X,IAAOtW,EAAYnG,EAAU+G,GACpC,GAAIrJ,GAAQ,GACRtB,EAAS+J,EAAaA,EAAW/J,OAAS,EAC1C0C,EAASuH,GAASjK,GAAUsI,GAAMtI,KAStC,OAPI2K,IAAWsJ,GAAelK,EAAYnG,EAAU+G,KAClD/G,EAAW,MAEbA,EAAWkQ,GAAYlQ,EAAU+G,EAAS,GAC1CsC,GAASlD,EAAY,SAASjJ,EAAOqG,EAAK4C,GACxCrH,IAASpB,IAAWgB,SAAYsB,EAAS9C,EAAOqG,EAAK4C,GAAazI,MAASA,EAAOR,MAASA,KAEtFU,EAAWkB,EAAQN,GA0B5B,QAASke,IAAUvW,GACjB,GAAIsC,GAAOoG,SACPpG,GAAKrM,OAAS,GAAKiU,GAAe5H,EAAK,GAAIA,EAAK,GAAIA,EAAK,MAC3DA,GAAQtC,EAAYsC,EAAK,IAE3B,IAAI/K,GAAQ,GACRtB,EAAS+J,EAAaA,EAAW/J,OAAS,EAC1C2J,EAAQiE,GAAYvB,GAAM,GAAO,EAAO,GACxC3J,EAASuH,GAASjK,GAAUsI,GAAMtI,KAWtC,OATAiN,IAASlD,EAAY,SAASjJ,GAI5B,IAHA,GAAId,GAAS2J,EAAM3J,OACfsC,EAAWgG,GAAMtI,GAEdA,KACLsC,EAAStC,GAAmB,MAATc,EAAgBwG,EAAYxG,EAAM6I,EAAM3J,GAE7D0C,KAASpB,IAAWgB,SAAYA,EAAUhB,MAASA,EAAOR,MAASA,KAE9DU,EAAWkB,EAAQH,GAgC5B,QAASge,IAAMxW,EAAY1B,GACzB,MAAO+W,IAAOrV,EAAYiB,GAAY3C,IAgDxC,QAASmY,IAAMthB,EAAGwL,GAChB,GAAmB,kBAARA,GAAoB,CAC7B,GAAgB,kBAALxL,GAKT,KAAM,IAAIoN,IAAUC,EAJpB,IAAIkU,GAAOvhB,CACXA,GAAIwL,EACJA,EAAO+V,EAMX,MADAvhB,GAAIgY,GAAehY,GAAKA,GAAKA,EAAI,EAC1B,WACL,QAAMA,EAAI,EACDwL,EAAK+B,MAAM3H,KAAM2N,WAD1B,QAsBJ,QAASgD,IAAI/K,EAAMxL,EAAG8c,GAKpB,MAJIA,IAAS/H,GAAevJ,EAAMxL,EAAG8c,KACnC9c,EAAI,MAENA,EAAKwL,GAAa,MAALxL,EAAawL,EAAK1K,OAASmT,IAAWjU,GAAK,EAAG,GACpDqL,GAAcG,EAAMkM,EAAU,KAAM,KAAM,KAAM,KAAM1X,GAmB/D,QAASwhB,IAAOxhB,EAAGwL,GACjB,GAAIhI,EACJ,IAAmB,kBAARgI,GAAoB,CAC7B,GAAgB,kBAALxL,GAKT,KAAM,IAAIoN,IAAUC,EAJpB,IAAIkU,GAAOvhB,CACXA,GAAIwL,EACJA,EAAO+V,EAKX,MAAO,YAML,QALMvhB,EAAI,EACRwD,EAASgI,EAAK+B,MAAM3H,KAAM2N,WAE1B/H,EAAO,KAEFhI,GAuCX,QAASie,IAAKjW,EAAMC,GAClB,GAAI0K,GAAU7K,CACd,IAAIiI,UAAUzS,OAAS,EAAG,CACxB,GAAI8S,GAAWpG,GAAU+F,UAAW,GAChCM,EAAUxP,EAAeuP,EAAU6N,GAAKnd,YAE5C6R,IAAWe,EAEb,MAAO7L,IAAcG,EAAM2K,EAAS1K,EAASmI,EAAUC,GA+BzD,QAAS6N,IAAQve,GACf,MAAOgI,IAAYhI,EACjBoQ,UAAUzS,OAAS,EACf4N,GAAY6E,WAAW,GAAO,EAAO,GACrCoO,GAAUxe,IAgDlB,QAASye,IAAQze,EAAQ8E,GACvB,GAAIkO,GAAU7K,EAAY+L,CAC1B,IAAI9D,UAAUzS,OAAS,EAAG,CACxB,GAAI8S,GAAWpG,GAAU+F,UAAW,GAChCM,EAAUxP,EAAeuP,EAAUgO,GAAQtd,YAE/C6R,IAAWe,EAEb,MAAO7L,IAAcpD,EAAKkO,EAAShT,EAAQyQ,EAAUC,GA2CvD,QAASgO,IAAMrW,EAAMgL,EAAOsG,GACtBA,GAAS/H,GAAevJ,EAAMgL,EAAOsG,KACvCtG,EAAQ,KAEV,IAAIhT,GAAS6H,GAAcG,EAAMmM,EAAY,KAAM,KAAM,KAAM,KAAM,KAAMnB,EAE3E,OADAhT,GAAOc,YAAcud,GAAMvd,YACpBd,EAwCT,QAASse,IAAWtW,EAAMgL,EAAOsG,GAC3BA,GAAS/H,GAAevJ,EAAMgL,EAAOsG,KACvCtG,EAAQ,KAEV,IAAIhT,GAAS6H,GAAcG,EAAMqM,EAAkB,KAAM,KAAM,KAAM,KAAM,KAAMrB,EAEjF,OADAhT,GAAOc,YAAcwd,GAAWxd,YACzBd,EAiET,QAASue,IAASvW,EAAM0B,EAAM8U,GAyB5B,QAASC,KACHC,GACFC,GAAaD,GAEXE,GACFD,GAAaC,GAEfA,EAAeF,EAAYG,EAAeja,EAG5C,QAASka,KACP,GAAIC,GAAYrV,GAAQsV,KAAQC,EAChC,IAAiB,GAAbF,GAAkBA,EAAYrV,EAAM,CAClCkV,GACFD,GAAaC,EAEf,IAAIM,GAAWL,CACfD,GAAeF,EAAYG,EAAeja,EACtCsa,IACFC,EAAaH,KACbhf,EAASgI,EAAK+B,MAAM9B,EAAS0B,GACxB+U,GAAcE,IACjBjV,EAAO1B,EAAU,WAIrByW,GAAY5U,GAAWgV,EAASC,GAIpC,QAASK,KACHV,GACFC,GAAaD,GAEfE,EAAeF,EAAYG,EAAeja,GACtCya,GAAaC,IAAY5V,KAC3ByV,EAAaH,KACbhf,EAASgI,EAAK+B,MAAM9B,EAAS0B,GACxB+U,GAAcE,IACjBjV,EAAO1B,EAAU,OAKvB,QAASsX,KAMP,GALA5V,EAAOoG,UACPkP,EAAQD,KACR/W,EAAU7F,KACVyc,EAAeQ,IAAaX,IAAcc,GAEtCF,KAAY,EACd,GAAIG,GAAcD,IAAYd,MACzB,CACAE,GAAiBY,IACpBL,EAAaF,EAEf,IAAIF,GAAYO,GAAWL,EAAQE,GAC/BD,EAAwB,GAAbH,GAAkBA,EAAYO,CAEzCJ,IACEN,IACFA,EAAeD,GAAaC,IAE9BO,EAAaF,EACbjf,EAASgI,EAAK+B,MAAM9B,EAAS0B,IAErBiV,IACRA,EAAe9U,GAAWsV,EAAYL,IAgB1C,MAbIG,IAAYR,EACdA,EAAYC,GAAaD,GAEjBA,GAAahV,IAAS4V,IAC9BZ,EAAY5U,GAAWgV,EAASpV,IAE9B+V,IACFP,GAAW,EACXlf,EAASgI,EAAK+B,MAAM9B,EAAS0B,KAE3BuV,GAAaR,GAAcE,IAC7BjV,EAAO1B,EAAU,MAEZjI,EA3GT,GAAI2J,GACAiV,EACA5e,EACAif,EACAhX,EACAyW,EACAG,EACAM,EAAa,EACbG,GAAU,EACVD,GAAW,CAEf,IAAmB,kBAARrX,GACT,KAAM,IAAI4B,IAAUC,EAGtB,IADAH,EAAc,EAAPA,EAAW,EAAIA,EAClB8U,KAAY,EAAM,CACpB,GAAIgB,IAAU,CACdH,IAAW,MACF7Z,IAASgZ,KAClBgB,EAAUhB,EAAQgB,QAClBF,EAAU,WAAad,IAAW/N,IAAW+N,EAAQc,SAAW,EAAG5V,GACnE2V,EAAW,YAAcb,GAAUA,EAAQa,SAAWA,EAyFxD,OADAE,GAAUd,OAASA,EACZc,EAoBT,QAASG,IAAM1X,GACb,MAAOyB,IAAUzB,EAAM,EAAG+H,UAAW,GAqBvC,QAAS4P,IAAM3X,EAAM0B,GACnB,MAAOD,IAAUzB,EAAM0B,EAAMqG,UAAW,GA2B1C,QAAS6P,MACP,GAAIC,GAAQ9P,UACRzS,EAASuiB,EAAMviB,MAEnB,KAAKA,EACH,MAAO,YAAa,MAAOyS,WAAU,GAEvC,KAAKhK,GAAW8Z,EAAOhhB,GACrB,KAAM,IAAI+K,IAAUC,EAEtB,OAAO,YAIL,IAHA,GAAIjL,GAAQ,EACRoB,EAAS6f,EAAMjhB,GAAOmL,MAAM3H,KAAM2N,aAE7BnR,EAAQtB,GACf0C,EAAS6f,EAAMjhB,GAAOvB,KAAK+E,KAAMpC,EAEnC,OAAOA,IA4BX,QAAS8f,MACP,GAAID,GAAQ9P,UACRrR,EAAYmhB,EAAMviB,OAAS,CAE/B,IAAgB,EAAZoB,EACF,MAAO,YAAa,MAAOqR,WAAU,GAEvC,KAAKhK,GAAW8Z,EAAOhhB,GACrB,KAAM,IAAI+K,IAAUC,EAEtB,OAAO,YAIL,IAHA,GAAIjL,GAAQF,EACRsB,EAAS6f,EAAMjhB,GAAOmL,MAAM3H,KAAM2N,WAE/BnR,KACLoB,EAAS6f,EAAMjhB,GAAOvB,KAAK+E,KAAMpC,EAEnC,OAAOA,IAyDX,QAAS+f,IAAQ/X,EAAMgY,GACrB,GAAmB,kBAARhY,IAAuBgY,GAA+B,kBAAZA,GACnD,KAAM,IAAIpW,IAAUC,EAEtB,IAAIoW,GAAW,WACb,GAAI1a,GAAQ0a,EAAS1a,MACjBd,EAAMub,EAAWA,EAASjW,MAAM3H,KAAM2N,WAAaA,UAAU,EAEjE,IAAIxK,EAAMb,IAAID,GACZ,MAAOc,GAAM2a,IAAIzb,EAEnB,IAAIzE,GAASgI,EAAK+B,MAAM3H,KAAM2N,UAE9B,OADAxK,GAAMJ,IAAIV,EAAKzE,GACRA,EAGT,OADAigB,GAAS1a,MAAQ,GAAIwa,IAAQI,MACtBF,EAsBT,QAASG,IAAOpa,GACd,GAAwB,kBAAbA,GACT,KAAM,IAAI4D,IAAUC,EAEtB,OAAO,YACL,OAAQ7D,EAAU+D,MAAM3H,KAAM2N,YAqBlC,QAASsQ,IAAKrY,GACZ,MAAOgW,IAAOhW,EAAM,GAmCtB,QAASsY,IAAQtY,GACf,GAAIoI,GAAWpG,GAAU+F,UAAW,GAChCM,EAAUxP,EAAeuP,EAAUkQ,GAAQxf,YAE/C,OAAO+G,IAAcG,EAAM0L,EAAc,KAAMtD,EAAUC,GAkC3D,QAASkQ,IAAavY,GACpB,GAAIoI,GAAWpG,GAAU+F,UAAW,GAChCM,EAAUxP,EAAeuP,EAAUmQ,GAAazf,YAEpD,OAAO+G,IAAcG,EAAM2L,EAAoB,KAAMvD,EAAUC,GA+BjE,QAASmQ,IAAMxY,GACb,GAAImG,GAAUjD,GAAY6E,WAAW,GAAO,EAAO,EACnD,OAAOlI,IAAcG,EAAMyQ,EAAY,KAAM,KAAM,KAAMtK,GAiC3D,QAASsS,IAAOzY,GACd,GAAmB,kBAARA,GACT,KAAM,IAAI4B,IAAUC,EAEtB,OAAO,UAASpL,GACd,MAAOuJ,GAAK+B,MAAM3H,KAAM3D,IA2C5B,QAASiiB,IAAS1Y,EAAM0B,EAAM8U,GAC5B,GAAIgB,IAAU,EACVH,GAAW,CAEf,IAAmB,kBAARrX,GACT,KAAM,IAAI4B,IAAUC,EAWtB,OATI2U,MAAY,EACdgB,GAAU,EACDha,GAASgZ,KAClBgB,EAAU,WAAahB,KAAYA,EAAQgB,QAAUA,EACrDH,EAAW,YAAcb,KAAYA,EAAQa,SAAWA,GAE1DsB,GAAgBnB,QAAUA,EAC1BmB,GAAgBrB,SAAW5V,EAC3BiX,GAAgBtB,SAAWA,EACpBd,GAASvW,EAAM0B,EAAMiX,IAwB9B,QAASC,IAAKxiB,EAAOqT,GAEnB,MADAA,GAAqB,MAAXA,EAAkBpJ,GAAWoJ,EAChC5J,GAAc4J,EAASiC,EAAc,MAAOtV,OAwDrD,QAASgF,IAAMhF,EAAOsK,EAAQ1B,EAAYiB,GAUxC,MATIS,IAA2B,iBAAVA,IAAuB6I,GAAenT,EAAOsK,EAAQ1B,GACxE0B,GAAS,EAEe,kBAAVA,KACdT,EAAUjB,EACVA,EAAa0B,EACbA,GAAS,GAEX1B,EAAkC,kBAAdA,IAA4BoB,GAAapB,EAAYiB,EAAS,GAC3EQ,GAAUrK,EAAOsK,EAAQ1B,GAgDlC,QAAS6Z,IAAUziB,EAAO4I,EAAYiB,GAEpC,MADAjB,GAAkC,kBAAdA,IAA4BoB,GAAapB,EAAYiB,EAAS,GAC3EQ,GAAUrK,GAAO,EAAM4I,GAmBhC,QAASoE,IAAYhN,GACnB,GAAId,GAASoD,EAAatC,GAASA,EAAMd,OAASsH,CAClD,OAAQ2C,IAASjK,IAAWyL,GAAY1L,KAAKe,IAAU+K,IAAY,EAuCrE,QAAS2X,IAAU1iB,GACjB,MAAQA,MAAU,GAAQA,KAAU,GAASsC,EAAatC,IAAU2K,GAAY1L,KAAKe,IAAUoX,IAAY,EAmB7G,QAASuL,IAAO3iB,GACd,MAAQsC,GAAatC,IAAU2K,GAAY1L,KAAKe,IAAUqX,IAAY,EAmBxE,QAASuL,IAAU5iB,GACjB,MAAQA,IAA4B,IAAnBA,EAAM6iB,UAAkBvgB,EAAatC,IACpD2K,GAAY1L,KAAKe,GAAOmB,QAAQ,WAAa,KAAO,EAoCxD,QAAS2hB,IAAQ9iB,GACf,GAAa,MAATA,EACF,OAAO,CAET,IAAId,GAASc,EAAMd,MACnB,OAAIiK,IAASjK,KAAYsE,GAAQxD,IAAUmU,GAASnU,IAAUgN,GAAYhN,IACrEsC,EAAatC,IAAUyN,GAAWzN,EAAMiQ,UACnC/Q,GAEF4J,GAAK9I,GAAOd,OA8CtB,QAAS6jB,IAAQ/iB,EAAOC,EAAO2I,EAAYiB,GAEzC,GADAjB,EAAkC,kBAAdA,IAA4BoB,GAAapB,EAAYiB,EAAS,IAC7EjB,GAAc2G,GAAmBvP,IAAUuP,GAAmBtP,GACjE,MAAOD,KAAUC,CAEnB,IAAI2B,GAASgH,EAAaA,EAAW5I,EAAOC,GAASuG,CACrD,OAAwB,mBAAV5E,GAAwBgM,GAAY5N,EAAOC,EAAO2I,KAAgBhH,EAoBlF,QAASohB,IAAQhjB,GACf,MAAQsC,GAAatC,IAAkC,gBAAjBA,GAAMwX,SAAuB7M,GAAY1L,KAAKe,IAAUsX,IAAa,EAiF7G,QAASlQ,IAASpH,GAGhB,GAAI+F,SAAc/F,EAClB,OAAe,YAAR+F,GAAuB/F,GAAiB,UAAR+F,IAAqB,EA0C9D,QAASkd,IAAQ1hB,EAAQgG,EAAQqB,EAAYiB,GAC3C,GAAIhB,GAAQC,GAAKvB,GACbrI,EAAS2J,EAAM3J,MAGnB,IADA0J,EAAkC,kBAAdA,IAA4BoB,GAAapB,EAAYiB,EAAS,IAC7EjB,GAAwB,GAAV1J,EAAa,CAC9B,GAAImH,GAAMwC,EAAM,GACZ7I,EAAQuH,EAAOlB,EAEnB,IAAIkJ,GAAmBvP,GACrB,MAAiB,OAAVuB,GAAkBvB,IAAUuB,EAAO8E,IAAQ1C,GAAe1E,KAAKsC,EAAQ8E,GAMlF,IAHA,GAAIO,GAASY,GAAMtI,GACfgQ,EAAqB1H,GAAMtI,GAExBA,KACLc,EAAQ4G,EAAO1H,GAAUqI,EAAOsB,EAAM3J,IACtCgQ,EAAmBhQ,GAAUqQ,GAAmBvP,EAElD,OAAOiP,IAAY1N,EAAQsH,EAAOjC,EAAQsI,EAAoBtG,GA6BhE,QAASsa,IAAMljB,GAGb,MAAOmjB,IAASnjB,IAAUA,IAAUA,EAmBtC,QAAS+Z,IAAS/Z,GAChB,MAAa,OAATA,GACK,EAEL2K,GAAY1L,KAAKe,IAAU6K,EACtBuY,GAASvJ,KAAKF,GAAW1a,KAAKe,IAE/BsC,EAAatC,IAAUqjB,GAAWxJ,KAAK7Z,KAAW,EAmB5D,QAASsjB,IAAOtjB,GACd,MAAiB,QAAVA,EAyBT,QAASmjB,IAASnjB,GAChB,MAAuB,gBAATA,IAAsBsC,EAAatC,IAAU2K,GAAY1L,KAAKe,IAAUyX,IAAc,EA6DtG,QAAS8L,IAASvjB,GAChB,MAAQsC,GAAatC,IAAU2K,GAAY1L,KAAKe,IAAU0X,KAAc,EAmB1E,QAASvD,IAASnU,GAChB,MAAuB,gBAATA,IAAsBsC,EAAatC,IAAU2K,GAAY1L,KAAKe,IAAU2X,KAAc,EAmBtG,QAASpJ,IAAavO,GACpB,MAAQsC,GAAatC,IAAUmJ,GAASnJ,EAAMd,SAAWskB,GAAe7Y,GAAY1L,KAAKe,MAAY,EAmBvG,QAASyjB,IAAYzjB,GACnB,MAAuB,mBAATA,GAkBhB,QAAS0jB,IAAQ1jB,GACf,GAAId,GAASc,EAAQA,EAAMd,OAAS,CACpC,OAAKiK,IAASjK,GAGTA,EAGE4F,GAAU9E,MALR4G,GAAO5G,GA+BlB,QAAS6P,IAAc7P,GACrB,MAAO+I,IAAS/I,EAAOuN,GAAOvN,IAsEhC,QAAS2jB,IAAO7P,EAAW8P,EAAY1I,GACrC,GAAItZ,GAASiS,GAAWC,EAIxB,OAHIoH,IAAS/H,GAAeW,EAAW8P,EAAY1I,KACjD0I,EAAa,MAERA,EAAa7a,GAAS6a,EAAYhiB,EAAQkH,GAAK8a,IAAehiB,EAmBvE,QAASiiB,IAAStiB,GAChB,GAAc,MAAVA,EACF,MAAOA,EAET,IAAIgK,GAAOzG,GAAU6M,UAErB,OADApG,GAAKtE,KAAKsB,IACHub,GAAOnY,MAAMnF,EAAW+E,GAmDjC,QAASwY,IAAQxiB,EAAQqG,EAAWiC,GAElC,MADAjC,GAAYoL,GAAYpL,EAAWiC,EAAS,GACrC8C,GAASpL,EAAQqG,EAAWuD,IAAY,GAmDjD,QAAS6Y,IAAYziB,EAAQqG,EAAWiC,GAEtC,MADAjC,GAAYoL,GAAYpL,EAAWiC,EAAS,GACrC8C,GAASpL,EAAQqG,EAAW2E,IAAiB,GA8BtD,QAAS0X,IAAM1iB,EAAQuB,EAAU+G,GAI/B,OAHuB,kBAAZ/G,IAA4C,mBAAX+G,MAC1C/G,EAAWkH,GAAalH,EAAU+G,EAAS,IAEtCsD,GAAQ5L,EAAQuB,EAAUyK,IA4BnC,QAAS2W,IAAW3iB,EAAQuB,EAAU+G,GAEpC,MADA/G,GAAWkH,GAAalH,EAAU+G,EAAS,GACpCwD,GAAa9L,EAAQuB,EAAUyK,IA8BxC,QAAS4W,IAAO5iB,EAAQuB,EAAU+G,GAIhC,OAHuB,kBAAZ/G,IAA4C,mBAAX+G,MAC1C/G,EAAWkH,GAAalH,EAAU+G,EAAS,IAEtCsB,GAAW5J,EAAQuB,GA4B5B,QAASshB,IAAY7iB,EAAQuB,EAAU+G,GAErC,MADA/G,GAAWkH,GAAalH,EAAU+G,EAAS,GACpCwD,GAAa9L,EAAQuB,EAAUgG,IAkBxC,QAASiX,IAAUxe,GACjB,MAAOiM,IAAcjM,EAAQgM,GAAOhM,IAoBtC,QAAS+E,IAAI/E,EAAQ8E,GACnB,MAAO9E,GAASoC,GAAe1E,KAAKsC,EAAQ8E,IAAO,EA0BrD,QAASge,IAAO9iB,EAAQ+iB,EAAYpJ,GAC9BA,GAAS/H,GAAe5R,EAAQ+iB,EAAYpJ,KAC9CoJ,EAAa,KAOf,KALA,GAAI9jB,GAAQ,GACRqI,EAAQC,GAAKvH,GACbrC,EAAS2J,EAAM3J,OACf0C,OAEKpB,EAAQtB,GAAQ,CACvB,GAAImH,GAAMwC,EAAMrI,GACZR,EAAQuB,EAAO8E,EAEfie,GACE3gB,GAAe1E,KAAK2C,EAAQ5B,GAC9B4B,EAAO5B,GAAOiH,KAAKZ,GAEnBzE,EAAO5B,IAAUqG,GAInBzE,EAAO5B,GAASqG,EAGpB,MAAOzE,GAgET,QAAS2L,IAAOhM,GACd,GAAc,MAAVA,EACF,QAEG6F,IAAS7F,KACZA,EAASkX,GAAOlX,GAElB,IAAIrC,GAASqC,EAAOrC,MACpBA,GAAUA,GAAUiK,GAASjK,KAC1BsE,GAAQjC,IAAYiY,GAAQwB,aAAehO,GAAYzL,KAAarC,GAAW,CAQlF,KANA,GAAIoU,GAAO/R,EAAO0W,YACdzX,EAAQ,GACR+jB,EAAyB,kBAARjR,IAAsBA,EAAKQ,YAAcvS,EAC1DK,EAAS4F,GAAMtI,GACfslB,EAActlB,EAAS,IAElBsB,EAAQtB,GACf0C,EAAOpB,GAAUA,EAAQ,EAE3B,KAAK,GAAI6F,KAAO9E,GACRijB,GAAelb,GAAQjD,EAAKnH,IACrB,eAAPmH,IAAyBke,IAAY5gB,GAAe1E,KAAKsC,EAAQ8E,KACrEzE,EAAOqF,KAAKZ,EAGhB,OAAOzE,GA4CT,QAAS6iB,IAAUljB,EAAQuB,EAAU+G,GACnC,GAAIjI,KAMJ,OALAkB,GAAWkQ,GAAYlQ,EAAU+G,EAAS,GAE1CsB,GAAW5J,EAAQ,SAASvB,EAAOqG,EAAK9E,GACtCK,EAAOyE,GAAOvD,EAAS9C,EAAOqG,EAAK9E,KAE9BK,EAiFT,QAAS8iB,IAAKnjB,EAAQqG,EAAWiC,GAC/B,GAAc,MAAVtI,EACF,QAEF,IAAwB,kBAAbqG,GAAyB,CAClC,GAAIiB,GAAQf,GAASgF,GAAY6E,WAAW,GAAO,EAAO,GAAIgT,GAC9D,OAAOjK,IAAYnZ,EAAQsK,GAAe0B,GAAOhM,GAASsH,IAG5D,MADAjB,GAAYoC,GAAapC,EAAWiC,EAAS,GACtC8Q,GAAepZ,EAAQ,SAASvB,EAAOqG,EAAK9E,GACjD,OAAQqG,EAAU5H,EAAOqG,EAAK9E,KAkBlC,QAASqjB,IAAMrjB,GAMb,IALA,GAAIf,GAAQ,GACRqI,EAAQC,GAAKvH,GACbrC,EAAS2J,EAAM3J,OACf0C,EAAS4F,GAAMtI,KAEVsB,EAAQtB,GAAQ,CACvB,GAAImH,GAAMwC,EAAMrI,EAChBoB,GAAOpB,IAAU6F,EAAK9E,EAAO8E,IAE/B,MAAOzE,GA6BT,QAASijB,IAAKtjB,EAAQqG,EAAWiC,GAC/B,MAAc,OAAVtI,KAGuB,kBAAbqG,GACV+S,GAAepZ,EAAQyI,GAAapC,EAAWiC,EAAS,IACxD6Q,GAAYnZ,EAAQuL,GAAY6E,WAAW,GAAO,EAAO,IAiC/D,QAAS/P,IAAOL,EAAQ8E,EAAKye,GAC3B,GAAI9kB,GAAkB,MAAVuB,EAAiBiF,EAAYjF,EAAO8E,EAIhD,OAHoB,mBAATrG,KACTA,EAAQ8kB,GAEHrX,GAAWzN,GAASA,EAAMf,KAAKsC,GAAUvB,EAgClD,QAAS+kB,IAAUxjB,EAAQuB,EAAUqF,EAAa0B,GAChD,GAAIX,GAAQ1F,GAAQjC,IAAWgN,GAAahN,EAG5C,IAFAuB,EAAWkQ,GAAYlQ,EAAU+G,EAAS,GAEvB,MAAf1B,EACF,GAAIe,GAAS9B,GAAS7F,GAAS,CAC7B,GAAI+R,GAAO/R,EAAO0W,WAEhB9P,GADEe,EACY1F,GAAQjC,GAAU,GAAI+R,MAEtBO,GAAWpG,GAAW6F,IAASA,EAAKQ;KAGpD3L,KAMJ,QAHCe,EAAQzB,GAAY0D,IAAY5J,EAAQ,SAASvB,EAAOQ,EAAOe,GAC9D,MAAOuB,GAASqF,EAAanI,EAAOQ,EAAOe,KAEtC4G,EA4BT,QAASvB,IAAOrF,GACd,MAAOsP,IAAWtP,EAAQuH,GAAKvH,IA0BjC,QAASyjB,IAASzjB,GAChB,MAAOsP,IAAWtP,EAAQgM,GAAOhM,IAoCnC,QAAS0jB,IAAQjlB,EAAOsF,EAAOC,GAQ7B,MAPAD,IAASA,GAAS,EACC,mBAARC,IACTA,EAAMD,EACNA,EAAQ,GAERC,GAAOA,GAAO,EAETvF,GAASsF,GAAiBC,EAARvF,EA8B3B,QAASklB,IAAO/U,EAAKC,EAAK+U,GACpBA,GAAYhS,GAAehD,EAAKC,EAAK+U,KACvC/U,EAAM+U,EAAW,KAEnB,IAAIC,GAAe,MAAPjV,EACRkV,EAAe,MAAPjV,CAuBZ,IArBgB,MAAZ+U,IACEE,GAAuB,iBAAPlV,IAClBgV,EAAWhV,EACXA,EAAM,GAEe,iBAAPC,KACd+U,EAAW/U,EACXiV,GAAQ,IAGRD,GAASC,IACXjV,EAAM,EACNiV,GAAQ,GAEVlV,GAAOA,GAAO,EACVkV,GACFjV,EAAMD,EACNA,EAAM,GAENC,GAAOA,GAAO,EAEZ+U,GAAYhV,EAAM,GAAKC,EAAM,EAAG,CAClC,GAAIiP,GAAO/O,IACX,OAAO5K,IAAUyK,EAAOkP,GAAQjP,EAAMD,EAAM9G,WAAW,QAAUgW,EAAO,IAAIngB,OAAS,KAAOkR,GAE9F,MAAOF,IAAWC,EAAKC,GA2CzB,QAASkV,IAAWvkB,GAElB,MADAA,GAASF,EAAaE,GACfA,GAAWA,EAAOK,OAAO,GAAGmkB,cAAgBxkB,EAAOyV,MAAM,GAkBlE,QAAS7C,IAAO5S,GAEd,MADAA,GAASF,EAAaE,GACfA,GAAUA,EAAOykB,QAAQC,GAAU5jB,GAwB5C,QAAS6jB,IAAS3kB,EAAQsX,EAAQsN,GAChC5kB,EAASF,EAAaE,GACtBsX,GAAmB,EAEnB,IAAInZ,GAAS6B,EAAO7B,MAEpB,OADAymB,IAA+B,mBAAZA,GAA0BzmB,EAASwG,GAAqB,EAAXigB,EAAe,GAAMA,GAAY,EAAIzmB,IAAWmZ,EAAOnZ,OAChHymB,GAAY,GAAK5kB,EAAOI,QAAQkX,EAAQsN,IAAaA,EAmC9D,QAASC,IAAO7kB,GAGd,MADAA,GAASF,EAAaE,GACdA,GAAU8kB,GAAmBhM,KAAK9Y,GACtCA,EAAOykB,QAAQM,GAAiB9jB,GAChCjB,EAiBN,QAASglB,IAAahlB,GAEpB,MADAA,GAASF,EAAaE,GACdA,GAAUilB,GAAiBnM,KAAK9Y,GACpCA,EAAOykB,QAAQS,GAAe,QAC9BllB,EAmDN,QAAS6R,IAAI7R,EAAQ7B,EAAQgC,GAC3BH,EAASF,EAAaE,GACtB7B,GAAUA,CAEV,IAAIiX,GAAYpV,EAAO7B,MACvB,IAAIiX,GAAajX,IAAWkX,GAAelX,GACzC,MAAO6B,EAET,IAAIqQ,IAAOlS,EAASiX,GAAa,EAC7B5D,EAAalC,GAAMe,GACnBuB,EAAc4D,GAAKnF,EAGvB,OADAlQ,GAAQgV,GAAU,GAAIvD,EAAazR,GAC5BA,EAAMsV,MAAM,EAAGjE,GAAcxR,EAASG,EA0B/C,QAASglB,IAAQnlB,EAAQ7B,EAAQgC,GAE/B,MADAH,GAASF,EAAaE,GACfA,GAAWmV,GAAUnV,EAAQ7B,EAAQgC,GAASH,EA0BvD,QAASolB,IAASplB,EAAQ7B,EAAQgC,GAEhC,MADAH,GAASF,EAAaE,GACfA,GAAWA,EAASmV,GAAUnV,EAAQ7B,EAAQgC,GA0BvD,QAASklB,IAASrlB,EAAQslB,EAAOnL,GAI/B,MAHIA,IAAS/H,GAAepS,EAAQslB,EAAOnL,KACzCmL,EAAQ,GAEHC,GAAevlB,EAAQslB,GAsChC,QAAS/P,IAAOvV,EAAQ3C,GACtB,GAAIwD,GAAS,EAGb,IAFAb,EAASF,EAAaE,GACtB3C,GAAKA,EACG,EAAJA,IAAU2C,IAAWqV,GAAehY,GACtC,MAAOwD,EAIT,GACMxD,GAAI,IACNwD,GAAUb,GAEZ3C,EAAIiS,GAAMjS,EAAI,GACd2C,GAAUA,QACH3C,EAET,OAAOwD,GAyET,QAAS2kB,IAAWxlB,EAAQsX,EAAQsN,GAGlC,MAFA5kB,GAASF,EAAaE,GACtB4kB,EAAuB,MAAZA,EAAmB,EAAIjgB,GAAqB,EAAXigB,EAAe,GAAMA,GAAY,EAAI5kB,EAAO7B,QACjF6B,EAAOob,YAAY9D,EAAQsN,IAAaA,EAmGjD,QAASa,IAASzlB,EAAQqf,EAASqG,GAGjC,GAAIC,GAAWnjB,EAAOojB,gBAElBF,IAAgBtT,GAAepS,EAAQqf,EAASqG,KAClDrG,EAAUqG,EAAe,MAE3B1lB,EAASF,EAAaE,GACtBqf,EAAUzX,GAAWA,MAAe8d,GAAgBrG,GAAUsG,EAAUhe,GAExE,IAIIke,GACAC,EALAC,EAAUne,GAAWA,MAAeyX,EAAQ0G,SAAUJ,EAASI,QAASpe,IACxEqe,EAAcje,GAAKge,GACnBE,EAAgBnW,GAAWiW,EAASC,GAIpCvmB,EAAQ,EACRymB,EAAc7G,EAAQ6G,aAAeC,GACrC3f,EAAS,WAGT4f,EAAeC,IAChBhH,EAAQwF,QAAUsB,IAAW3f,OAAS,IACvC0f,EAAY1f,OAAS,KACpB0f,IAAgBI,GAAgBC,GAAeJ,IAAW3f,OAAS,KACnE6Y,EAAQmH,UAAYL,IAAW3f,OAAS,KACzC,KAGEigB,EAAY,kBACb,aAAepH,GACZA,EAAQoH,UACP,6BAA+BC,GAAmB,KACnD,IAEN1mB,GAAOykB,QAAQ2B,EAAc,SAASO,EAAOC,EAAaC,EAAkBC,EAAiBC,EAAeC,GAsB1G,MArBAH,KAAqBA,EAAmBC,GAGxCtgB,GAAUxG,EAAOyV,MAAMhW,EAAOunB,GAAQvC,QAAQwC,GAAmB7lB,GAG7DwlB,IACFf,GAAa,EACbrf,GAAU,YAAcogB,EAAc,UAEpCG,IACFjB,GAAe,EACftf,GAAU,OAASugB,EAAgB,eAEjCF,IACFrgB,GAAU,iBAAmBqgB,EAAmB,+BAElDpnB,EAAQunB,EAASL,EAAMxoB,OAIhBwoB,IAGTngB,GAAU,MAIV,IAAI0gB,GAAW7H,EAAQ6H,QAClBA,KACH1gB,EAAS,iBAAmBA,EAAS,SAGvCA,GAAUsf,EAAetf,EAAOie,QAAQ0C,GAAsB,IAAM3gB,GACjEie,QAAQ2C,GAAqB,MAC7B3C,QAAQ4C,GAAuB,OAGlC7gB,EAAS,aAAe0gB,GAAY,OAAS,SAC1CA,EACG,GACA,wBAEJ,qBACCrB,EACI,mBACA,KAEJC,EACG,uFAEA,OAEJtf,EACA,eAEF,IAAI3F,GAASymB,GAAQ,WACnB,MAAOC,IAASvB,EAAaS,EAAY,UAAYjgB,GAAQoE,MAAMnF,EAAWwgB,IAMhF,IADAplB,EAAO2F,OAASA,EACZyb,GAAQphB,GACV,KAAMA,EAER,OAAOA,GAwBT,QAAS2mB,IAAKxnB,EAAQG,EAAOga,GAC3B,GAAIlb,GAAQe,CAEZ,QADAA,EAASF,EAAaE,KAIlBma,EAAQ/H,GAAenT,EAAOkB,EAAOga,GAAkB,MAATha,GACzCH,EAAOyV,MAAMvT,EAAiBlC,GAASmC,EAAkBnC,GAAU,IAE5EG,GAAiB,GACVH,EAAOyV,MAAMvV,EAAeF,EAAQG,GAAQG,EAAgBN,EAAQG,GAAS,IAN3EH,EA2BX,QAASynB,IAASznB,EAAQG,EAAOga,GAC/B,GAAIlb,GAAQe,CAEZ,OADAA,GAASF,EAAaE,GACjBA,EAIIA,EAAOyV,OADZ0E,EAAQ/H,GAAenT,EAAOkB,EAAOga,GAAkB,MAATha,GAC5B+B,EAAiBlC,GAEnBE,EAAeF,EAASG,EAAQ,KAL3CH,EA0BX,QAAS0nB,IAAU1nB,EAAQG,EAAOga,GAChC,GAAIlb,GAAQe,CAEZ,OADAA,GAASF,EAAaE,GACjBA,GAGDma,EAAQ/H,GAAenT,EAAOkB,EAAOga,GAAkB,MAATha,GACzCH,EAAOyV,MAAM,EAAGtT,EAAkBnC,GAAU,GAE9CA,EAAOyV,MAAM,EAAGnV,EAAgBN,EAASG,EAAQ,IAAO,GALtDH,EAgDX,QAAS2nB,IAAM3nB,EAAQqf,EAASlF,GAC1BA,GAAS/H,GAAepS,EAAQqf,EAASlF,KAC3CkF,EAAU,KAEZ,IAAIlhB,GAASypB,EACTC,EAAWC,CAEf,IAAe,MAAXzI,EACF,GAAIhZ,GAASgZ,GAAU,CACrB,GAAI0I,GAAY,aAAe1I,GAAUA,EAAQ0I,UAAYA,CAC7D5pB,GAAS,UAAYkhB,IAAWA,EAAQlhB,QAAU,EAAIA,EACtD0pB,EAAW,YAAcxI,GAAUvf,EAAauf,EAAQwI,UAAYA,MAEpE1pB,IAAUkhB,GAAW,CAIzB,IADArf,EAASF,EAAaE,GAClB7B,GAAU6B,EAAO7B,OACnB,MAAO6B,EAET,IAAIwE,GAAMrG,EAAS0pB,EAAS1pB,MAC5B,IAAU,EAANqG,EACF,MAAOqjB,EAET,IAAIhnB,GAASb,EAAOyV,MAAM,EAAGjR,EAC7B,IAAiB,MAAbujB,EACF,MAAOlnB,GAASgnB,CAElB,IAAIrF,GAASuF,IACX,GAAI/nB,EAAOyV,MAAMjR,GAAKwjB,OAAOD,GAAY,CACvC,GAAIpB,GACAsB,EACAC,EAAYloB,EAAOyV,MAAM,EAAGjR,EAMhC,KAJKujB,EAAUhpB,SACbgpB,EAAY1B,GAAO0B,EAAUvhB,QAAS8R,GAAQC,KAAKwP,IAAc,IAAM,MAEzEA,EAAUvP,UAAY,EACdmO,EAAQoB,EAAUxP,KAAK2P,IAC7BD,EAAStB,EAAMlnB,KAEjBoB,GAASA,EAAO4U,MAAM,EAAa,MAAVwS,EAAiBzjB,EAAMyjB,QAE7C,IAAIjoB,EAAOI,QAAQ2nB,EAAWvjB,IAAQA,EAAK,CAChD,GAAI/E,GAAQoB,EAAOua,YAAY2M,EAC3BtoB,GAAQ,KACVoB,EAASA,EAAO4U,MAAM,EAAGhW,IAG7B,MAAOoB,GAASgnB,EAqBlB,QAASM,IAASnoB,GAEhB,MADAA,GAASF,EAAaE,GACdA,GAAUooB,GAAiBtP,KAAK9Y,GACpCA,EAAOykB,QAAQ4D,GAAejmB,GAC9BpC,EAqBN,QAAS2S,IAAM3S,EAAQsoB,EAASnO,GAK9B,MAJIA,IAAS/H,GAAepS,EAAQsoB,EAASnO,KAC3CmO,EAAU,MAEZtoB,EAASF,EAAaE,GACfA,EAAO2mB,MAAM2B,GAAWC,QAyBjC,QAASjB,MACP,GAAInpB,GAASyS,UAAUzS,OACnB0K,EAAO+H,UAAU,EAErB,KAEE,IADA,GAAIpG,GAAO/D,GAAMtI,EAASA,EAAS,EAAI,KAC9BA,EAAS,GAChBqM,EAAKrM,EAAS,GAAKyS,UAAUzS,EAE/B,OAAO0K,GAAK+B,MAAMnF,EAAW+E,GAC7B,MAAMrN,GACN,MAAO8kB,IAAQ9kB,GAAKA,EAAI,GAAIW,IAAMX,IA0CtC,QAASuV,IAAS7J,EAAMC,EAASqR,GAI/B,MAHIA,IAAS/H,GAAevJ,EAAMC,EAASqR,KACzCrR,EAAU,MAELvH,EAAasH,GAChB2f,GAAQ3f,GACRD,GAAaC,EAAMC,GAmBzB,QAAS2f,IAASxpB,GAChB,MAAO,YACL,MAAOA,IAmBX,QAASiK,IAASjK,GAChB,MAAOA,GA4BT,QAASupB,IAAQhiB,GACf,MAAO2C,IAAYG,GAAU9C,GAAQ,IA4BvC,QAASkiB,IAAgBpjB,EAAKrG,GAC5B,MAAOoK,IAAoB/D,EAAM,GAAIgE,GAAUrK,GAAO,IAuCxD,QAAS0pB,IAAMnoB,EAAQgG,EAAQ6Y,GAC7B,GAAe,MAAXA,EAAiB,CACnB,GAAIuJ,GAAQviB,GAASG,GACjBsB,EAAQ8gB,GAAS7gB,GAAKvB,GACtBiC,EAAcX,GAASA,EAAM3J,QAAUsO,GAAcjG,EAAQsB,IAE3DW,EAAcA,EAAYtK,OAASyqB,KACvCngB,GAAc,EACd4W,EAAU7Y,EACVA,EAAShG,EACTA,EAASyC,MAGRwF,IACHA,EAAcgE,GAAcjG,EAAQuB,GAAKvB,IAE3C,IAAIiW,IAAQ,EACRhd,EAAQ,GACRoK,EAAS6C,GAAWlM,GACpBrC,EAASsK,EAAYtK,MAErBkhB,MAAY,EACd5C,GAAQ,EACCpW,GAASgZ,IAAY,SAAWA,KACzC5C,EAAQ4C,EAAQ5C,MAElB,QAAShd,EAAQtB,GAAQ,CACvB,GAAIyO,GAAanE,EAAYhJ,GACzBoJ,EAAOrC,EAAOoG,EAElBpM,GAAOoM,GAAc/D,EACjBgB,IACFrJ,EAAOuS,UAAUnG,GAAe,SAAS/D,GACvC,MAAO,YACL,GAAI9F,GAAWE,KAAKG,SACpB,IAAIqZ,GAAS1Z,EAAU,CACrB,GAAIlC,GAASL,EAAOyC,KAAKC,YAGzB,QAFCrC,EAAOsC,YAAcY,GAAUd,KAAKE,cAAc+C,MAAO2C,KAAQA,EAAM2B,KAAQoG,UAAW9H,QAAWtI,IACtGK,EAAOuC,UAAYL,EACZlC,EAET,GAAI2J,IAAQvH,KAAKhE,QAEjB,OADAiH,IAAK0E,MAAMJ,EAAMoG,WACV/H,EAAK+B,MAAMpK,EAAQgK,KAE5B3B,IAGN,MAAOrI,GAeT,QAASqoB,MAEP,MADAtmB,GAAQumB,EAAIC,GACL9lB,KAiBT,QAAS+lB,OA2BT,QAASC,IAAS3jB,GAChB,MAAO8D,IAAa9D,EAAM,IAsB5B,QAAS4jB,IAAW1oB,GAClB,MAAO,UAAS8E,GACd,MAAiB,OAAV9E,EAAiBiF,EAAYjF,EAAO8E,IAqC/C,QAAS6jB,IAAM5kB,EAAOC,EAAK4kB,GACrBA,GAAQhX,GAAe7N,EAAOC,EAAK4kB,KACrC5kB,EAAM4kB,EAAO,MAEf7kB,GAASA,GAAS,EAClB6kB,EAAe,MAARA,EAAe,GAAMA,GAAQ,EAEzB,MAAP5kB,GACFA,EAAMD,EACNA,EAAQ,GAERC,GAAOA,GAAO,CAQhB,KAJA,GAAI/E,GAAQ,GACRtB,EAASmT,GAAUkE,IAAMhR,EAAMD,IAAU6kB,GAAQ,IAAK,GACtDvoB,EAAS4F,GAAMtI,KAEVsB,EAAQtB,GACf0C,EAAOpB,GAAS8E,EAChBA,GAAS6kB,CAEX,OAAOvoB,GA8BT,QAASwoB,IAAMhsB,EAAG0E,EAAU+G,GAK1B,GAJAzL,GAAKA,EAIG,EAAJA,IAAUgY,GAAehY,GAC3B,QAEF,IAAIoC,GAAQ,GACRoB,EAAS4F,GAAM9B,GAAUtH,EAAGisB,IAGhC,KADAvnB,EAAWkH,GAAalH,EAAU+G,EAAS,KAClCrJ,EAAQpC,GACHisB,GAAR7pB,EACFoB,EAAOpB,GAASsC,EAAStC,GAEzBsC,EAAStC,EAGb,OAAOoB,GAmBT,QAAS0oB,IAASC,GAChB,GAAIC,KAAOC,EACX,OAAO5pB,GAAa0pB,GAAUC,EAtgUhClnB,EAAUA,EAAUumB,GAAEhG,SAAS6G,GAAKjS,SAAUnV,EAASumB,GAAEhF,KAAK6F,GAAMC,KAAiBD,EAGrF,IAAIljB,IAAQlE,EAAQkE,MAChBojB,GAAOtnB,EAAQsnB,KACf/rB,GAAQyE,EAAQzE,MAChBypB,GAAWhlB,EAAQglB,SACnBuC,GAAOvnB,EAAQunB,KACfC,GAASxnB,EAAQwnB,OACjBrS,GAASnV,EAAQmV,OACjB2O,GAAS9jB,EAAQ8jB,OACjBzC,GAASrhB,EAAQqhB,OACjBnZ,GAAYlI,EAAQkI,UAGpBuf,GAAavjB,GAAMsM,UACnBkX,GAAcvS,GAAO3E,UAGrBzU,IAAYA,GAAWiE,EAAQ2nB,SAAW5rB,GAASA,SAGnDsa,GAAa2O,GAASxU,UAAUoX,SAGhChO,GAAY/S,GAAa,UAGzBxG,GAAiBqnB,GAAYrnB,eAG7B8mB,GAAY,EAOZ9f,GAAcqgB,GAAYE,SAG1BpB,GAAUxmB,EAAQumB,EAGlBzG,GAAWgE,GAAO,IACpBrB,GAAapb,IACZ6a,QAAQ,mDAAoD,SAAW,KAItE2F,GAAcpR,GAASoR,GAAc7nB,EAAQ6nB,cAAgBA,GAC7DrZ,GAAciI,GAASjI,GAAcqZ,IAAe,GAAIA,IAAY,GAAG3U,QAAU1E,GACjFyE,GAAOsU,GAAKtU,KACZgK,GAAejd,EAAQid,aACvBlQ,GAAQwa,GAAKxa,MACb+a,GAAiBrR,GAASqR,GAAiB3S,GAAO2S,iBAAmBA,GACrEnkB,GAAO8jB,GAAW9jB,KAClBokB,GAAuBL,GAAYK,qBACnCrkB,GAAM+S,GAAS/S,GAAM1D,EAAQ0D,MAAQA,GACrC0E,GAAapI,EAAQoI,WACrBuE,GAAS8a,GAAW9a,OACpBqb,GAAavR,GAASuR,GAAahoB,EAAQgoB,aAAeA,GAC1DC,GAAUxR,GAASwR,GAAUjoB,EAAQioB,UAAYA,GAGjDC,GAAgB,WAIlB,IACE,GAAI5hB,GAAOmQ,GAASnQ,EAAOtG,EAAQkoB,eAAiB5hB,EAChDhI,EAAS,GAAIgI,GAAK,GAAIuhB,IAAY,IAAK,EAAG,IAAMvhB,EACpD,MAAM1L,IACR,MAAO0D,MAIL6pB,GAAgB1R,GAAS0R,GAAgBjkB,GAAMhE,UAAYioB,GAC3D3kB,GAAeiT,GAASjT,GAAe2R,GAAOkL,SAAW7c,GACzDsP,GAAiB9S,EAAQooB,SACzBC,GAAa5R,GAAS4R,GAAalT,GAAO3P,OAAS6iB,GACnDtZ,GAAYwY,GAAKza,IACjB1K,GAAYmlB,GAAK1a,IACjByb,GAAY7R,GAAS6R,GAAYhB,GAAKhK,MAAQgL,GAC9CC,GAAoB9R,GAAS8R,GAAoBf,GAAOY,WAAaG,GACrEvF,GAAiBhjB,EAAQ8iB,SACzB9V,GAAeua,GAAK3F,OAGpBld,GAAoB8iB,GAAO9iB,kBAC3BvD,GAAoBqmB,GAAOrmB,kBAG3B4lB,GAAmBQ,GAAKiB,IAAI,EAAG,IAAM,EACrCpa,GAAmB2Y,GAAmB,EACtClZ,GAAwBkZ,KAAqB,EAG7C0B,GAA4BP,GAAeA,GAAaQ,kBAAoB,EAO5EhS,GAAmB6Q,GAAKiB,IAAI,EAAG,IAAM,EAGrCG,GAAUV,IAAW,GAAIA,IAsIzB/R,GAAUjW,EAAOiW,YAEpB,WAUCA,GAAQE,YAAcK,GAASzW,EAAQ4oB,aAAepS,GAAOD,KAAKxW,GAQlEmW,GAAQC,UAAoC,gBAAjB6O,IAAS/Q,IAQpC,KACEiC,GAAQ2S,IAAqD,KAA/C9sB,GAAS+sB,yBAAyBvJ,SAChD,MAAM3kB,GACNsb,GAAQ2S,KAAM,EAehB,IACE3S,GAAQwB,aAAeqQ,GAAqBpsB,KAAK0S,UAAW,GAC5D,MAAMzT,GACNsb,GAAQwB,aAAc,IAExB,EAAG,GAWLzX,EAAOojB,kBAQLf,OAAUyG,GAQV9E,SAAY+E,GAQZrF,YAAeI,GAQfY,SAAY,GAQZnB,SAQE+C,EAAKtmB,GAotBT,IAAIsQ,IAAc,WAChB,QAAS4E,MACT,MAAO,UAAS3E,GACd,GAAI1M,GAAS0M,GAAY,CACvB2E,EAAO3E,UAAYA,CACnB,IAAIlS,GAAS,GAAI6W,EACjBA,GAAO3E,UAAY,KAErB,MAAOlS,IAAU0B,EAAQmV,aAqxBzB5B,GAAeoV,GAAqB,SAASriB,EAAM9D,GAErD,MADAmmB,IAAQllB,IAAI6C,EAAM9D,GACX8D,GAFoBK,EAsRxB6H,MAEHF,GAAgBuZ,IAAeG,GAA+B,SAASzZ,GACrE,GAAI0a,GAAa1a,EAAO0a,WACpBC,EAAchB,GAAenb,GAAMkc,EAAaR,IAA6B,EAC7EhE,EAASyE,EAAcT,GACvBnqB,EAAS,GAAIupB,IAAYoB,EAE7B,IAAIC,EAAa,CACf,GAAI9sB,GAAO,GAAI8rB,IAAa5pB,EAAQ,EAAG4qB,EACvC9sB,GAAKqH,IAAI,GAAIykB,IAAa3Z,EAAQ,EAAG2a,IAMvC,MAJID,IAAcxE,IAChBroB,EAAO,GAAI4rB,IAAW1pB,EAAQmmB,GAC9BroB,EAAKqH,IAAI,GAAIukB,IAAWzZ,EAAQkW,KAE3BnmB,GAdoC4nB,GAAS,MA6KxD,IAAIxd,IAAgBlF,IAAgBE,GAAwB,SAASJ,GACnE,MAAO,IAAID,IAASC,IADqB4iB,GAAS,MA0ehD9S,GAAWuV,GAAiB,SAASriB,GACvC,MAAOqiB,IAAQnK,IAAIlY,IADImgB,GAiXrBjT,GAAW,WACb,GAAI2V,GAAQ,EACR1L,EAAa,CAEjB,OAAO,UAAS1a,EAAKrG,GACnB,GAAI6gB,GAAQD,KACRD,EAAY+L,GAAY7L,EAAQE,EAGpC,IADAA,EAAaF,EACTF,EAAY,GACd,KAAM8L,GAASE,EACb,MAAOtmB,OAGTomB,GAAQ,CAEV,OAAO5V,IAAYxQ,EAAKrG,OAgxDxB4sB,GAAU/Z,GAAiB,SAASjR,EAAQ5B,EAAOqG,GACrD1C,GAAe1E,KAAK2C,EAAQyE,KAASzE,EAAOyE,GAAQzE,EAAOyE,GAAO,IA6UhEwmB,GAAUha,GAAiB,SAASjR,EAAQ5B,EAAOqG,GACjD1C,GAAe1E,KAAK2C,EAAQyE,GAC9BzE,EAAOyE,GAAKY,KAAKjH,GAEjB4B,EAAOyE,IAAQrG,KAqGf8sB,GAAUja,GAAiB,SAASjR,EAAQ5B,EAAOqG,GACrDzE,EAAOyE,GAAOrG,IA0IZoQ,GAAM2D,GAAehM,IAiDrBoI,GAAM4D,GAAe9L,IAAU,GA6D/B8kB,GAAYla,GAAiB,SAASjR,EAAQ5B,EAAOqG,GACvDzE,EAAOyE,EAAM,EAAI,GAAGY,KAAKjH,IACxB,WAAa,gBAqcZ4gB,GAAMgL,IAAa,WACrB,OAAO,GAAIhB,KAAOoC,WAmoChBxpB,GAAUioB,IAAiB,SAASzrB,GACtC,MAAQsC,GAAatC,IAAUmJ,GAASnJ,EAAMd,SAAWyL,GAAY1L,KAAKe,IAAUqO,IAAa,EAgE9FmL,IAAQ2S,MACXvJ,GAAY,SAAS5iB,GACnB,MAAQA,IAA4B,IAAnBA,EAAM6iB,UAAkBvgB,EAAatC,KAAW4P,GAAc5P,KAAW,GAiJ9F,IAAI0rB,IAAWG,IAAqB,SAAS7rB,GAC3C,MAAuB,gBAATA,IAAqBoW,GAAepW,IAmBhDyN,GAAehN,EAAe,MAAS6qB,KAAe7qB,EAAe6qB,IAAiC,SAAStrB,GAIjH,MAAO2K,IAAY1L,KAAKe,IAAU6K,GAJqDpK,EAwOrFmP,GAAiBwb,GAAqC,SAASprB,GACjE,IAAMA,GAAS2K,GAAY1L,KAAKe,IAAU8K,EACxC,OAAO,CAET,IAAImiB,GAAUjtB,EAAMitB,QAChBC,EAAWnT,GAASkT,KAAaC,EAAW9B,GAAe6B,KAAa7B,GAAe8B,EAE3F,OAAOA,GACFltB,GAASktB,GAAY9B,GAAeprB,IAAUktB,EAC/CrS,GAAkB7a,IATc6a,GAgLlCiJ,GAAS7Q,GAAetK,IAoaxBG,GAAQ6iB,GAAwB,SAASpqB,GAC3C,GAAIA,EACF,GAAI+R,GAAO/R,EAAO0W,YACd/Y,EAASqC,EAAOrC,MAEtB,OAAoB,kBAARoU,IAAsBA,EAAKQ,YAAcvS,GAChC,kBAAVA,IAAyBrC,GAAUiK,GAASjK,GAC9C4b,GAASvZ,GAEX6F,GAAS7F,GAAUoqB,GAAWpqB,OATduZ,GAkKrBqS,GAAQla,GAAezD,IA2XvB4d,GAAY5Z,GAAiB,SAAS5R,EAAQyrB,EAAM7sB,GAEtD,MADA6sB,GAAOA,EAAKC,cACL1rB,GAAUpB,EAAS6sB,EAAKjsB,OAAO,GAAGmkB,cAAgB8H,EAAK7W,MAAM,GAAM6W,KAyJxEE,GAAY/Z,GAAiB,SAAS5R,EAAQyrB,EAAM7sB,GACtD,MAAOoB,IAAUpB,EAAQ,IAAM,IAAM6sB,EAAKC,eAgIH,IAArChH,GAAekH,GAAa,QAC9BpH,GAAW,SAASrlB,EAAQslB,EAAOnL,GAUjC,OANIA,EAAQ/H,GAAepS,EAAQslB,EAAOnL,GAAkB,MAATmL,GACjDA,EAAQ,EACCA,IACTA,GAASA,GAEXtlB,EAASwnB,GAAKxnB,GACPulB,GAAevlB,EAAQslB,IAAUoH,GAAY5T,KAAK9Y,GAAU,GAAK,MAgE5E,IAAI2sB,IAAYla,GAAiB,SAAS5R,EAAQyrB,EAAM7sB,GACtD,MAAOoB,IAAUpB,EAAQ,IAAM,IAAM6sB,EAAKC,gBAwBxCK,GAAYna,GAAiB,SAAS5R,EAAQyrB,EAAM7sB,GACtD,MAAOoB,IAAUpB,EAAQ,IAAM,KAAO6sB,EAAKjsB,OAAO,GAAGmkB,cAAgB8H,EAAK7W,MAAM,KA+3ClF,OAjcAjT,GAAOuQ,UAAYjQ,EAAWiQ,UAE9BpQ,EAAcoQ,UAAYD,GAAWhQ,EAAWiQ,WAChDpQ,EAAcoQ,UAAUmE,YAAcvU,EAEtCD,EAAYqQ,UAAYD,GAAWhQ,EAAWiQ,WAC9CrQ,EAAYqQ,UAAUmE,YAAcxU,EAGpCyC,GAAS4N,UAAU,UAAY1N,GAC/BF,GAAS4N,UAAUgO,IAAMvb,GACzBL,GAAS4N,UAAUxN,IAAMG,GACzBP,GAAS4N,UAAU/M,IAAML,GAGzBC,GAASmN,UAAU7M,KAAOI,GAG1Bsa,GAAQI,MAAQ7b,GAGhB3C,EAAOmc,MAAQA,GACfnc,EAAOoR,IAAMA,GACbpR,EAAOugB,OAASA,GAChBvgB,EAAO6a,GAAKA,GACZ7a,EAAOqc,OAASA,GAChBrc,EAAOsc,KAAOA,GACdtc,EAAOuc,QAAUA,GACjBvc,EAAOyc,QAAUA,GACjBzc,EAAOkQ,SAAWA,GAClBlQ,EAAOia,MAAQA,GACfja,EAAO0X,MAAQA,GACf1X,EAAO4X,QAAUA,GACjB5X,EAAOimB,SAAWA,GAClBjmB,EAAOqpB,QAAUA,GACjBrpB,EAAOogB,OAASA,GAChBpgB,EAAO0c,MAAQA,GACf1c,EAAO2c,WAAaA,GACpB3c,EAAO4c,SAAWA,GAClB5c,EAAOsgB,SAAWA,GAClBtgB,EAAO+d,MAAQA,GACf/d,EAAOge,MAAQA,GACfhe,EAAO6X,WAAaA,GACpB7X,EAAO8X,KAAOA,GACd9X,EAAO+X,UAAYA,GACnB/X,EAAOgY,eAAiBA,GACxBhY,EAAOiY,UAAYA,GACnBjY,EAAOkY,KAAOA,GACdlY,EAAO+a,OAASA,GAChB/a,EAAOsY,QAAUA,GACjBtY,EAAOuY,YAAcA,GACrBvY,EAAOie,KAAOA,GACdje,EAAOme,UAAYA,GACnBne,EAAOmb,QAAUA,GACjBnb,EAAOob,aAAeA,GACtBpb,EAAO0gB,MAAQA,GACf1gB,EAAO2gB,WAAaA,GACpB3gB,EAAO4gB,OAASA,GAChB5gB,EAAO6gB,YAAcA,GACrB7gB,EAAOwc,UAAYA,GACnBxc,EAAOspB,QAAUA,GACjBtpB,EAAOupB,QAAUA,GACjBvpB,EAAOwY,QAAUA,GACjBxY,EAAOyY,aAAeA,GACtBzY,EAAO8gB,OAASA,GAChB9gB,EAAOsb,OAASA,GAChBtb,EAAOuF,KAAOA,GACdvF,EAAOgK,OAASA,GAChBhK,EAAOub,IAAMA,GACbvb,EAAOkhB,UAAYA,GACnBlhB,EAAOgmB,QAAUA,GACjBhmB,EAAOkmB,gBAAkBA,GACzBlmB,EAAOoe,QAAUA,GACjBpe,EAAO4pB,MAAQA,GACf5pB,EAAOmmB,MAAQA,GACfnmB,EAAOye,OAASA,GAChBze,EAAOmhB,KAAOA,GACdnhB,EAAO0e,KAAOA,GACd1e,EAAOqhB,MAAQA,GACfrhB,EAAO2e,QAAUA,GACjB3e,EAAO4e,aAAeA,GACtB5e,EAAOwpB,UAAYA,GACnBxpB,EAAOshB,KAAOA,GACdthB,EAAOwb,MAAQA,GACfxb,EAAOymB,SAAWA,GAClBzmB,EAAO0mB,WAAaA,GACpB1mB,EAAO6Y,KAAOA,GACd7Y,EAAO8Y,OAASA,GAChB9Y,EAAO2mB,MAAQA,GACf3mB,EAAO6e,MAAQA,GACf7e,EAAO2b,OAASA,GAChB3b,EAAO+Y,OAASA,GAChB/Y,EAAOgZ,KAAOA,GACdhZ,EAAO6b,QAAUA,GACjB7b,EAAOiT,MAAQA,GACfjT,EAAOgc,OAASA,GAChBhc,EAAOic,UAAYA,GACnBjc,EAAO8e,OAASA,GAChB9e,EAAOmZ,KAAOA,GACdnZ,EAAOoZ,UAAYA,GACnBpZ,EAAOqZ,eAAiBA,GACxBrZ,EAAOsZ,UAAYA,GACnBtZ,EAAOka,IAAMA,GACbla,EAAO+e,SAAWA,GAClB/e,EAAOoa,KAAOA,GACdpa,EAAO6mB,MAAQA,GACf7mB,EAAOmgB,QAAUA,GACjBngB,EAAOsM,cAAgBA,GACvBtM,EAAOwhB,UAAYA,GACnBxhB,EAAOuZ,MAAQA,GACfvZ,EAAOwZ,KAAOA,GACdxZ,EAAO0Z,MAAQA,GACf1Z,EAAOqD,OAASA,GAChBrD,EAAOyhB,SAAWA,GAClBzhB,EAAOkc,MAAQA,GACflc,EAAO4Z,QAAUA,GACjB5Z,EAAOif,KAAOA,GACdjf,EAAO6Z,IAAMA,GACb7Z,EAAO+Z,IAAMA,GACb/Z,EAAOga,UAAYA,GAGnBha,EAAOqqB,SAAWlM,GAClBne,EAAOsqB,QAAU/O,GACjBvb,EAAOuqB,QAAUpM,GACjBne,EAAOwqB,KAAOrP,GACdnb,EAAOyqB,UAAYrP,GACnBpb,EAAO0qB,OAASnK,GAChBvgB,EAAOT,SAAW2Q,GAClBlQ,EAAO2qB,QAAUnO,GACjBxc,EAAOhC,OAASgc,GAChBha,EAAO4qB,OAAS7P,GAChB/a,EAAO6qB,KAAO7R,GACdhZ,EAAO8qB,OAAStR,GAGhB2M,GAAMnmB,EAAQA,GAKdA,EAAO8kB,QAAUA,GACjB9kB,EAAO6pB,UAAYA,GACnB7pB,EAAO+hB,WAAaA,GACpB/hB,EAAOyB,MAAQA,GACfzB,EAAOkf,UAAYA,GACnBlf,EAAOoQ,OAASA,GAChBpQ,EAAOmiB,SAAWA,GAClBniB,EAAOqiB,OAASA,GAChBriB,EAAOwiB,aAAeA,GACtBxiB,EAAO8a,MAAQA,GACf9a,EAAOgb,KAAOA,GACdhb,EAAOmY,UAAYA,GACnBnY,EAAOwgB,QAAUA,GACjBxgB,EAAOib,SAAWA,GAClBjb,EAAOoY,cAAgBA,GACvBpY,EAAOygB,YAAcA,GACrBzgB,EAAOkb,UAAYA,GACnBlb,EAAOqY,MAAQA,GACfrY,EAAO+C,IAAMA,GACb/C,EAAO0G,SAAWA,GAClB1G,EAAOqb,SAAWA,GAClBrb,EAAOpC,QAAUA,GACjBoC,EAAO0hB,QAAUA,GACjB1hB,EAAOyJ,YAAcA,GACrBzJ,EAAOC,QAAUA,GACjBD,EAAOmf,UAAYA,GACnBnf,EAAOof,OAASA,GAChBpf,EAAOqf,UAAYA,GACnBrf,EAAOuf,QAAUA,GACjBvf,EAAOwf,QAAUA,GACjBxf,EAAOyf,QAAUA,GACjBzf,EAAOmoB,SAAWA,GAClBnoB,EAAOkK,WAAaA,GACpBlK,EAAO0f,QAAUA,GACjB1f,EAAO2f,MAAQA,GACf3f,EAAOwW,SAAWA,GAClBxW,EAAO+f,OAASA,GAChB/f,EAAO4f,SAAWA,GAClB5f,EAAO6D,SAAWA,GAClB7D,EAAOqM,cAAgBA,GACvBrM,EAAOggB,SAAWA,GAClBhgB,EAAO4Q,SAAWA,GAClB5Q,EAAOgL,aAAeA,GACtBhL,EAAOkgB,YAAcA,GACrBlgB,EAAOgqB,UAAYA,GACnBhqB,EAAO2Y,KAAOA,GACd3Y,EAAO4Y,YAAcA,GACrB5Y,EAAO6M,IAAMA,GACb7M,EAAO4M,IAAMA,GACb5M,EAAOqmB,WAAaA,GACpBrmB,EAAOwmB,KAAOA,GACdxmB,EAAOqd,IAAMA,GACbrd,EAAOqP,IAAMA,GACbrP,EAAO2iB,QAAUA,GACjB3iB,EAAO4iB,SAAWA,GAClB5iB,EAAO6iB,SAAWA,GAClB7iB,EAAO2hB,OAASA,GAChB3hB,EAAOyb,OAASA,GAChBzb,EAAO0b,YAAcA,GACrB1b,EAAO+S,OAASA,GAChB/S,EAAO3B,OAASA,GAChB2B,EAAOF,aAAeA,EACtBE,EAAOgV,KAAOA,GACdhV,EAAOmqB,UAAYA,GACnBnqB,EAAO+b,KAAOA,GACd/b,EAAOiZ,YAAcA,GACrBjZ,EAAOkZ,gBAAkBA,GACzBlZ,EAAOoqB,UAAYA,GACnBpqB,EAAOgjB,WAAaA,GACpBhjB,EAAOijB,SAAWA,GAClBjjB,EAAOglB,KAAOA,GACdhlB,EAAOilB,SAAWA,GAClBjlB,EAAOklB,UAAYA,GACnBllB,EAAOmlB,MAAQA,GACfnlB,EAAO2lB,SAAWA,GAClB3lB,EAAO+mB,SAAWA,GAClB/mB,EAAOmQ,MAAQA,GAGfnQ,EAAO+qB,IAAMjQ,GACb9a,EAAOgrB,IAAMjP,GACb/b,EAAOirB,SAAW5P,GAClBrb,EAAOkrB,OAASlQ,GAChBhb,EAAOmrB,MAAQ1P,GACfzb,EAAOorB,MAAQ1P,GACf1b,EAAOqrB,KAAOhT,GACdrY,EAAOsrB,QAAUjQ,GACjBrb,EAAOurB,OAAS9P,GAEhB0K,GAAMnmB,EAAS,WACb,GAAIgE,KAMJ,OALA4D,IAAW5H,EAAQ,SAASqG,EAAM+D,GAC3BpK,EAAOuQ,UAAUnG,KACpBpG,EAAOoG,GAAc/D,KAGlBrC,MACH,GAKNhE,EAAO4b,OAASA,GAEhB5b,EAAOuQ,UAAUqL,OAAS,SAAS/gB,GACjC,MAAK4F,MAAKG,WAAkB,MAAL/F,EAGhB4F,KAAK2Z,KAAK,SAAS3d,GACxB,MAAOmf,IAAOnf,EAAO5B,KAHd+gB,GAAOnb,KAAKhE,UAgBvBuD,EAAOwrB,QAAUA,EAGjBtnB,IAAW,OAAQ,UAAW,QAAS,aAAc,UAAW,gBAAiB,SAASkG,GACxFpK,EAAOoK,GAAYjL,YAAca,IAInCkE,IAAW,SAAU,MAAO,aAAc,SAASkG,EAAYnN,GAC7D,GAAIwuB,GAAWxuB,GAASyF,EACpBgpB,EAAUzuB,GAAS0uB,CAEvBzrB,GAAYqQ,UAAUnG,GAAc,SAAS7K,EAAU+G,GACrD,GAAIjI,GAASoC,KAAKgB,QACdmqB,EAAWvtB,EAAO0C,aAClBM,EAAYhD,EAAO2C,gBAAkB3C,EAAO2C,iBAIhD,OAFA3C,GAAO0C,aAAe6qB,GAAYH,GAAaC,GAAWrtB,EAAOwC,QAAU,EAC3EQ,EAAUqC,MAAOnE,SAAYkQ,GAAYlQ,EAAU+G,EAAS,GAAI9D,KAAQvF,IACjEoB,KAKX6F,IAAW,OAAQ,QAAS,SAASkG,EAAYnN,GAC/C,GAAI4uB,GAAY,KAAOzhB,EAAa,UAChC0hB,EAAY1hB,EAAa,OAE7BlK,GAAYqQ,UAAUnG,GAAc,SAASvP,GAC3CA,EAAS,MAALA,EAAY,EAAIiU,GAAUhC,GAAMjS,IAAM,EAAG,EAE7C,IAAIwD,GAASoC,KAAKgB,OAClB,IAAIpD,EAAO0C,aAAc,CACvB,GAAItE,GAAQ4B,EAAOwtB,EACnBxtB,GAAOwtB,GAAa5uB,EAAQkF,GAAU1F,EAAO5B,GAAM4B,EAAQ5B,MACtD,CACL,GAAIyG,GAAQjD,EAAO8C,YAAc9C,EAAO8C,aACxCG,GAAMoC,MAAOsR,KAAQna,EAAG2H,KAAQ4H,GAAc/L,EAAOwC,QAAU,EAAI,QAAU,MAE/E,MAAOxC,IAGT6B,EAAYqQ,UAAUnG,EAAa,SAAW,SAASvP,GACrD,MAAO4F,MAAKia,UAAUtQ,GAAYvP,GAAG6f,WAGvCxa,EAAYqQ,UAAUnG,EAAa,cAAgB,SAAS/F,EAAWiC,GACrE,MAAO7F,MAAKia,UAAUoR,GAAWznB,EAAWiC,GAASoU,aAKzDxW,IAAW,QAAS,QAAS,SAASkG,EAAYnN,GAChD,GAAI8uB,GAAW,QAAU9uB,EAAQ,QAAU,GAE3CiD,GAAYqQ,UAAUnG,GAAc,WAClC,MAAO3J,MAAKsrB,GAAU,GAAGtvB,QAAQ,MAKrCyH,IAAW,UAAW,QAAS,SAASkG,EAAYnN,GAClD,GAAI+uB,GAAW,QAAU/uB,EAAQ,GAAK,QAEtCiD,GAAYqQ,UAAUnG,GAAc,WAClC,MAAO3J,MAAKurB,GAAU,MAK1B9nB,IAAW,QAAS,SAAU,SAASkG,EAAYnN,GACjD,GAAIgvB,GAAgBhvB,EAAQ,SAAW,MACnCivB,EAAiBjvB,EAAQ0J,GAAcC,EAE3C1G,GAAYqQ,UAAUnG,GAAc,SAAS3N,GAC3C,MAAOgE,MAAKwrB,GAAeC,EAAezvB,OAI9CyD,EAAYqQ,UAAUqH,QAAU,WAC9B,MAAOnX,MAAKsa,OAAOrU,KAGrBxG,EAAYqQ,UAAU0H,UAAY,SAAS5T,EAAWiC,GACpD,GAAI6lB,EAEJ,OADA9nB,GAAYoL,GAAYpL,EAAWiC,EAAS,GACrC7F,KAAKsa,OAAO,SAASte,EAAOQ,EAAOH,GACxC,MAAOqvB,KAASA,GAAQ9nB,EAAU5H,EAAOQ,EAAOH,OAIpDoD,EAAYqQ,UAAUoL,OAAS,SAAStX,EAAWiC,GAEjD,MADAjC,GAAYoL,GAAYpL,EAAWiC,EAAS,GACrC7F,KAAKsa,OAAO,SAASte,EAAOQ,EAAOH,GACxC,OAAQuH,EAAU5H,EAAOQ,EAAOH,MAIpCoD,EAAYqQ,UAAU0C,MAAQ,SAASlR,EAAOC,GAC5CD,EAAiB,MAATA,EAAgB,GAAMA,GAAS,CACvC,IAAI1D,GAAiB,EAAR0D,EAAYtB,KAAK2Y,WAAWrX,GAAStB,KAAKqX,KAAK/V,EAM5D,OAJkB,mBAAPC,KACTA,GAAQA,GAAO,EACf3D,EAAe,EAAN2D,EAAU3D,EAAO0Z,WAAW/V,GAAO3D,EAAO8a,KAAKnX,EAAMD,IAEzD1D,GAGT6B,EAAYqQ,UAAU4P,QAAU,WAC9B,MAAO1f,MAAKqX,KAAK,IAInBlQ,GAAW1H,EAAYqQ,UAAW,SAASlK,EAAM+D,GAC/C,GAAIgiB,GAAapsB,EAAOoK,GACpBiiB,EAAe,mBAAmB/V,KAAKlM,EAE3CpK,GAAOuQ,UAAUnG,GAAc,WAC7B,GAAI3N,GAAQgE,KAAKC,YACbsH,EAAOoG,UACP7N,EAAWE,KAAKG,UAChB0rB,IAAa7rB,KAAKE,YAAYhF,OAC9B4wB,EAAS9vB,YAAiByD,GAC1BssB,EAAWD,IAAWD,CAE1B,IAAID,IAAiB9rB,EACnB,MAAOisB,GACHnmB,EAAK3K,KAAKe,GACV2vB,EAAW1wB,KAAKsE,EAAQS,KAAKhE,QAEnC,IAAI0d,GAAc,SAAS1d,GACzB,GAAIgwB,IAAahwB,EAEjB,OADAiH,IAAK0E,MAAMqkB,EAAWzkB,GACfokB,EAAWhkB,MAAMpI,EAAQysB,GAElC,IAAIF,GAAUtsB,GAAQxD,GAAQ,CAC5B,GAAIqT,GAAU0c,EAAW/vB,EAAQ,GAAIyD,GAAYO,MAC7CpC,EAASgI,EAAK+B,MAAM0H,EAAS9H,EAEjC,KAAKqkB,IAAiBC,GAAYjuB,EAAOsC,aAAc,CACrD,GAAIH,GAAUnC,EAAOsC,cAAgBtC,EAAOsC,eAC5CH,GAAQkD,MAAO2C,KAAQ+T,GAAMpS,MAASmS,GAAc7T,QAAWtG,IAEjE,MAAO,IAAIG,GAAc9B,EAAQkC,GAEnC,MAAOE,MAAK2Z,KAAKD,MAKrBjW,IAAW,SAAU,OAAQ,MAAO,OAAQ,QAAS,OAAQ,SAAU,WAAY,SAASkG,GAC1F,GAAI/D,GAAOmhB,GAAWpd,GAClBsiB,EAAY,0BAA0BpW,KAAKlM,GAAc,MAAQ,OACjEiiB,EAAe,uBAAuB/V,KAAKlM,EAE/CpK,GAAOuQ,UAAUnG,GAAc,WAC7B,GAAIpC,GAAOoG,SACX,OAAIie,KAAiB5rB,KAAKG,UACjByF,EAAK+B,MAAM3H,KAAKhE,QAASuL,GAE3BvH,KAAKisB,GAAW,SAASjwB,GAC9B,MAAO4J,GAAK+B,MAAM3L,EAAOuL,QAM/B9H,EAAYqQ,UAAU9O,MAAQL,GAC9BlB,EAAYqQ,UAAUmK,QAAUlZ,GAChCtB,EAAYqQ,UAAU9T,MAAQiF,GAG9B1B,EAAOuQ,UAAU0J,MAAQI,GACzBra,EAAOuQ,UAAUoc,OAASrS,GAC1Bta,EAAOuQ,UAAUqc,MAAQrS,GACzBva,EAAOuQ,UAAUmK,QAAUD,GAC3Bza,EAAOuQ,UAAUoX,SAAWhN,GAC5B3a,EAAOuQ,UAAUsc,IAAM7sB,EAAOuQ,UAAUuc,OAAS9sB,EAAOuQ,UAAUmZ,QAAU1pB,EAAOuQ,UAAU9T,MAAQme,GAGrG5a,EAAOuQ,UAAU+Z,QAAUtqB,EAAOuQ,UAAUgL,IAC5Cvb,EAAOuQ,UAAU8a,KAAOrrB,EAAOuQ,UAAU8H,MACzCrY,EAAOuQ,UAAUqa,OAAS5qB,EAAOuQ,UAAUwK,OAC3C/a,EAAOuQ,UAAUsa,KAAO7qB,EAAOuQ,UAAUyI,KAElChZ,EA3mWT,GAAIiD,GAGAuoB,EAAU,QAGVrlB,EAAY,EACZ+L,EAAgB,EAChBO,EAAmB,EACnBD,EAAa,EACbE,EAAmB,GACnBX,EAAe,GACfC,EAAqB,GACrB8E,EAAa,IACbvE,EAAW,IAGX6S,EAAuB,GACvBE,EAAyB,MAGzB8D,EAAY,IACZD,EAAW,GAGXzmB,EAAmB,EACnBD,EAAgB,EAChBkpB,EAAkB,EAGlBzjB,EAAkB,sBAGlB7I,EAAc,yBAGdmI,EAAU,qBACVsD,EAAW,iBACX+I,EAAU,mBACVC,EAAU,gBACVC,EAAW,iBACXzM,EAAU,oBACVylB,EAAS,eACT7Y,EAAY,kBACZ3M,EAAY,kBACZ4M,GAAY,kBACZ6Y,GAAS,eACT5Y,GAAY,kBACZ6Y,GAAa,mBAEb9X,GAAiB,uBACjBC,GAAa,wBACbC,GAAa,wBACbC,GAAU,qBACVC,GAAW,sBACXC,GAAW,sBACXC,GAAW,sBACXC,GAAkB,6BAClBC,GAAY,uBACZC,GAAY,uBAGZ+O,GAAuB,iBACvBC,GAAsB,qBACtBC,GAAwB,gCAGxBgB,GAAgB,gCAChBtD,GAAkB,YAClBqD,GAAmB/B,OAAOgC,GAAc7hB,QACxCse,GAAqBuB,OAAOtB,GAAgBve,QAG5C8kB,GAAW,mBACXC,GAAa,kBACbjF,GAAgB,mBAOhBC,GAAe,kCAGfjO,GAAU,OAGVO,GAAa,2BAGb6T,GAAc,SAGdpK,GAAa,8BAGboC,GAAW,0CAGXyB,GAAY,OAOZjB,GAAgB,wBAChBD,GAAmBoB,OAAOnB,GAAc1e,QAGxCuS,GAAS,WAGTkO,GAAoB,yBAGpBsB,GAAW,WACb,GAAImH,GAAQ,8BACRC,EAAQ,8BAEZ,OAAOtJ,QAAOqJ,EAAQ,UAAYA,EAAQC,EAAQ,KAAOD,EAAQ,IAAMC,EAAQ,IAAMD,EAAQ,WAAY,QAIvGjD,GAAa,0CAYb7C,IACF,QAAS,cAAe,OAAQ,QAAS,eAAgB,eACzD,WAAY,YAAa,aAAc,aAAc,OAAQ,SAC7D,SAAU,SAAU,MAAO,SAAU,IAAK,eAAgB,WAC1D,WAAY,WAAY,aAAc,YAAa,aACnD,oBAAqB,cAAe,cAAe,UACnD,SAAU,cAIRlD,GAAkB,GAGlBjE,KACJA,IAAe7K,IAAc6K,GAAe5K,IAC5C4K,GAAe3K,IAAW2K,GAAe1K,IACzC0K,GAAezK,IAAYyK,GAAexK,IAC1CwK,GAAevK,IAAmBuK,GAAetK,IACjDsK,GAAerK,KAAa,EAC5BqK,GAAezY,GAAWyY,GAAenV,GACzCmV,GAAe9K,IAAkB8K,GAAepM,GAChDoM,GAAenM,GAAWmM,GAAelM,GACzCkM,GAAe3Y,GAAW2Y,GAAe8M,GACzC9M,GAAe/L,GAAa+L,GAAe1Y,GAC3C0Y,GAAe9L,IAAa8L,GAAe+M,IAC3C/M,GAAe7L,IAAa6L,GAAegN,KAAc,CAGzD,IAAIxlB,MACJA,IAAcD,GAAWC,GAAcqD,GACvCrD,GAAc0N,IAAkB1N,GAAcoM,GAC9CpM,GAAcqM,GAAWrM,GAAc2N,IACvC3N,GAAc4N,IAAc5N,GAAc6N,IAC1C7N,GAAc8N,IAAY9N,GAAc+N,IACxC/N,GAAcyM,GAAazM,GAAcF,GACzCE,GAAc0M,IAAa1M,GAAc2M,IACzC3M,GAAcgO,IAAYhO,GAAciO,IACxCjO,GAAckO,IAAalO,GAAcmO,KAAa,EACtDnO,GAAcsM,GAAYtM,GAAcH,GACxCG,GAAcslB,GAAUtlB,GAAculB,IACtCvlB,GAAcwlB,KAAc,CAG5B,IAAIjO,KACFnB,SAAW,EACXF,QAAW,EACXD,UAAY,GAIVlf,IACF4uB,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAC1EC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAC1EC,IAAQ,IAAMC,IAAQ,IACtBC,IAAQ,IAAMC,IAAQ,IACtBC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAChDC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAChDC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAChDC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAChDC,IAAQ,IAAMC,IAAQ,IACtBC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAC1EC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAC1EC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAChDC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IAAKC,IAAQ,IAChDC,IAAQ,IAAMC,IAAQ,IAAKC,IAAQ,IACnCC,IAAQ,KAAMC,IAAQ,KACtBC,IAAQ,KAAMC,IAAQ,KACtBC,IAAQ,MAINtyB,IACFuyB,IAAK,QACLC,IAAK,OACLC,IAAK,OACLC,IAAK,SACLC,IAAK,QACLC,IAAK,SAIH1xB,IACF2xB,QAAS,IACTC,OAAQ,IACRC,OAAQ,IACRC,SAAU,IACVC,QAAS,IACTC,QAAS,KAIPC,IACFC,YAAY,EACZ/zB,QAAU,GAIRa,IACFmzB,KAAM,KACNV,IAAK,IACLW,KAAM,IACNC,KAAM,IACNC,SAAU,QACVC,SAAU,SASRjL,GAAQ2K,SAAmBpK,UAAWA,UAAYjnB,MAAQA,KAAKinB,QAAWA,OAASjnB,KAGnF4xB,GAAcP,SAAmBr2B,KAAYA,IAAYA,EAAQ6jB,UAAY7jB,EAG7E62B,GAAaR,SAAmBx1B,KAAWA,IAAWA,EAAOgjB,UAAYhjB,EAGzEi2B,GAAaF,IAAeC,IAA+B,gBAAV/1B,IAAsBA,GACvEg2B,IAAeA,GAAWh2B,SAAWg2B,IAAcA,GAAW7K,SAAW6K,IAAcA,GAAWC,OAASD,KAC7GpL,GAAOoL,GAIT,IAAIE,IAAgBH,IAAcA,GAAW72B,UAAY42B,IAAeA,GAy2VpE/L,GAAIxmB,GAGa,mBAAV4yB,SAA6C,gBAAdA,QAAOC,KAAmBD,OAAOC,KAKzExL,GAAKb,EAAIA,GAIToM,OAAO,WACL,MAAOpM,OAIF+L,IAAeC,GAElBG,IACDH,GAAW72B,QAAU6qB,IAAGA,EAAIA,GAI7B+L,GAAY/L,EAAIA,GAKlBa,GAAKb,EAAIA,KAEX5qB,KAAK+E,QAEJ/E,KAAK+E,KAAuB,mBAAXlE,QAAyBA,OAAyB,mBAATi2B,MAAuBA,KAAyB,mBAAX9K,QAAyBA,gBACrHkL,GAAG,SAASz3B,EAAQmB,GAE1B,YAMA,SAASu2B,GAAWC,GAChB,MAAO,IAAIC,GAAMD,EAAME,QAASF,EAAMG,SAN1C,GAQIC,GARAC,EAAWh4B,EAAQ,cACnBi4B,EAASj4B,EAAQ,YACjB43B,EAAQ53B,EAAQ,WAChBk4B,EAAQl4B,EAAQ,WAChBm4B,EAAYn4B,EAAQ,gBAKxB,SAAW+3B,GACPA,EAAiBA,EAAuB,KAAI,GAAK,OACjDA,EAAiBA,EAA0B,QAAI,GAAK,UACpDA,EAAiBA,EAA2B,SAAI,GAAK,YACtDA,IAAqBA,MACxB,IAAIr3B,GAAuB,WACvB,QAASA,KACL4E,KAAK8yB,iBAAmB,EACxB9yB,KAAK+gB,UAAY8R,EAAU5sB,WAC3BjG,KAAK+yB,iBAAmBF,EAAU5sB,WAClCjG,KAAKgzB,YAAa,EAClBhzB,KAAKizB,YAAc,EACnBjzB,KAAKkzB,YAAc,GAAIN,GAAM,EAAG,EAAG,EAAG,GACtC5yB,KAAKmzB,SAAW,GAAIT,GACpB1yB,KAAKozB,sBAAwB,GAAIV,EACjC,IAAIh3B,GAAOsE,KAAKtE,KAAOL,SAASg4B,cAAc,MAC9C33B,GAAK43B,MAAMC,MAAQ,OACnB73B,EAAK43B,MAAME,OAAS,OACpB93B,EAAKD,YAAYuE,KAAKmzB,SAASz3B,MAC/BA,EAAKD,YAAYuE,KAAKozB,sBAAsB13B,MAC5CA,EAAKJ,iBAAiB,YAAa0E,KAAKyzB,YAAY5X,KAAK7b,OACzDtE,EAAKJ,iBAAiB,YAAa0E,KAAK0zB,YAAY7X,KAAK7b,OACzDtE,EAAKJ,iBAAiB,UAAW0E,KAAK2zB,UAAU9X,KAAK7b,OACrDtE,EAAKJ,iBAAiB,YAAa0E,KAAK4zB,YAAY/X,KAAK7b,OACzDtE,EAAKJ,iBAAiB,aAAc0E,KAAK6zB,aAAahY,KAAK7b,OAC3DtE,EAAKJ,iBAAiB,WAAY0E,KAAK8zB,WAAWjY,KAAK7b,OACvDtE,EAAKJ,iBAAiB,QAAS0E,KAAK+zB,QAAQlY,KAAK7b,OAmGrD,MAjGA5E,GAAqB0U,UAAUkkB,WAAa,SAAUC,GAClDj0B,KAAK8yB,iBAAmB,EACxB9yB,KAAKk0B,iBAAmBD,EACxBj0B,KAAK+yB,iBAAmB/yB,KAAK+gB,WAEjC3lB,EAAqB0U,UAAUqkB,UAAY,SAAUF,GACnB,IAA1Bj0B,KAAK8yB,kBACL9yB,KAAKg0B,WAAWC,EAEpB,IAAIG,GAAQH,EAAO,GAAGI,IAAIJ,EAAO,IAAI/4B,OAAS8E,KAAKk0B,iBAAiB,GAAGG,IAAIr0B,KAAKk0B,iBAAiB,IAAIh5B,OACjGo5B,EAAct0B,KAAKk0B,iBAAiB,GAAG5wB,IAAItD,KAAKk0B,iBAAiB,IAAIK,IAAI,IACzEC,EAASP,EAAO,GAAG3wB,IAAI2wB,EAAO,IAAIM,IAAI,IACtCE,EAAOD,EAAOH,IAAIC,EAAYC,IAAIH,IAClCrT,EAAY8R,EAAUuB,MAAMA,GAAOjL,MAAM0J,EAAU6B,YAAYD,IAC/D1T,EAAY/gB,KAAK+yB,iBAAiB5J,MAAMpI,EAC5C/gB,MAAK20B,gBAAgB5T,GACrB/gB,KAAKmzB,SAASyB,UAElBx5B,EAAqB0U,UAAU+kB,SAAW,WACtC70B,KAAK8yB,iBAAmB,GAE5B13B,EAAqB0U,UAAUglB,WAAa,SAAUC,GAClD/0B,KAAK8yB,iBAAmB,EACxBiC,EAAMA,EAAIhU,UAAU/gB,KAAK+gB,UAAUV,SACnC,IAAI2U,GAASh1B,KAAKi1B,cAAgB,GAAItC,EACtCqC,GAAOzB,MAAQvzB,KAAKizB,YACpB+B,EAAOE,MAAQl1B,KAAKkzB,YACpB8B,EAAOf,OAAOhxB,KAAK8xB,GACnB/0B,KAAKozB,sBAAsB+B,SAAWH,IAE1C55B,EAAqB0U,UAAUslB,UAAY,SAAUL,GACnB,IAA1B/0B,KAAK8yB,mBACLiC,EAAMA,EAAIhU,UAAU/gB,KAAK+gB,UAAUV,UACnCrgB,KAAKi1B,cAAchB,OAAOhxB,KAAK8xB,GAC/B/0B,KAAKozB,sBAAsBwB,WAGnCx5B,EAAqB0U,UAAUulB,SAAW,WACtC,GAAIC,GAAQt1B,IACkB,KAA1BA,KAAK8yB,mBACL9yB,KAAKmzB,SAASgC,QAAQlyB,KAAKjD,KAAKi1B,eAChCM,sBAAsB,WAClBD,EAAMnC,SAASqC,UAAUF,EAAMlC,uBAC/BkC,EAAMlC,sBAAsB+B,WAC5BG,EAAMlC,sBAAsBqC,UAEhCz1B,KAAK8yB,iBAAmB,IAGhC13B,EAAqB0U,UAAU6kB,gBAAkB,SAAU5T,GACvD/gB,KAAK+gB,UAAYA,EACjB/gB,KAAKmzB,SAASpS,UAAYA,EAC1B/gB,KAAKozB,sBAAsBrS,UAAYA,GAE3C3lB,EAAqB0U,UAAU2jB,YAAc,SAAUiC,GAEnD11B,KAAKo1B,UAAU,GAAI9C,GAAMoD,EAAGnD,QAASmD,EAAGlD,WAE5Cp3B,EAAqB0U,UAAU4jB,YAAc,SAAUgC,GAEnD11B,KAAK80B,WAAW,GAAIxC,GAAMoD,EAAGnD,QAASmD,EAAGlD,WAE7Cp3B,EAAqB0U,UAAU6jB,UAAY,WAEvC3zB,KAAKq1B,YAETj6B,EAAqB0U,UAAU8jB,YAAc,SAAU8B,GACnD,GAA0B,IAAtBA,EAAGC,QAAQz6B,OAAc,CACzB,GAAIm3B,GAAQqD,EAAGC,QAAQ,EACvB31B,MAAKo1B,UAAUhD,EAAWC,QAEC,KAAtBqD,EAAGC,QAAQz6B,QAChB8E,KAAKm0B,WAAW,EAAG,GAAGrZ,IAAI,SAAUngB,GAAK,MAAOy3B,GAAWsD,EAAGC,QAAQh7B,MAE1E+6B,GAAGE,kBAEPx6B,EAAqB0U,UAAU+jB,aAAe,SAAU6B,GACpD,GAA0B,IAAtBA,EAAGC,QAAQz6B,OAAc,CACzB,GAAIm3B,GAAQqD,EAAGC,QAAQ,EACvB31B,MAAK80B,WAAW1C,EAAWC,QAEA,KAAtBqD,EAAGC,QAAQz6B,QAChB8E,KAAKg0B,YAAY,EAAG,GAAGlZ,IAAI,SAAUngB,GAAK,MAAOy3B,GAAWsD,EAAGC,QAAQh7B,MAE3E+6B,GAAGE,kBAEPx6B,EAAqB0U,UAAUgkB,WAAa,SAAU4B,GAClD11B,KAAKq1B,WACLr1B,KAAK60B,WACLa,EAAGE,kBAEPx6B,EAAqB0U,UAAUikB,QAAU,SAAU2B,GAC/C,GAAI3U,GAAY/gB,KAAK+gB,UAAU8U,UAAU,GAAIvD,IAAOoD,EAAGI,QAASJ,EAAGK,QACnE/1B,MAAK20B,gBAAgB5T,GACrB/gB,KAAKmzB,SAASyB,SACdc,EAAGE,kBAEAx6B,IAEXS,GAAOb,QAAUI,IAEd46B,UAAU,EAAEC,UAAU,EAAEC,aAAa,EAAEC,WAAW,EAAEC,cAAc,KAAKC,GAAG,SAAS37B,EAAQmB,GAC9F,YACA,IAAI+2B,GAAQ,WACR,QAASA,GAAMv4B,EAAGi8B,EAAGC,EAAG97B,GACpBuF,KAAK3F,EAAIA,EACT2F,KAAKs2B,EAAIA,EACTt2B,KAAKu2B,EAAIA,EACTv2B,KAAKvF,EAAIA,EAKb,MAHAm4B,GAAM9iB,UAAUoX,SAAW,WACvB,MAAO,QAAUlnB,KAAK3F,EAAI,KAAO2F,KAAKs2B,EAAI,KAAOt2B,KAAKu2B,EAAI,KAAOv2B,KAAKvF,EAAI,KAEvEm4B,IAEX/2B,GAAOb,QAAU43B,OAEX4D,GAAG,SAAS97B,EAAQmB,GAC1B,YACA,IAAIy2B,GAAQ53B,EAAQ,WAChB+7B,EAAO/7B,EAAQ,UACfg8B,EAASh8B,EAAQ,mBACjBi8B,EAAQ,WACR,QAASA,GAAMr1B,EAAOs1B,EAAUC,EAAUt1B,GACtCvB,KAAKsB,MAAQA,EACbtB,KAAK42B,SAAWA,EAChB52B,KAAK62B,SAAWA,EAChB72B,KAAKuB,IAAMA,EAaf,MAXAo1B,GAAM7mB,UAAUgnB,aAAe,WAC3B,GAAIC,GAAS,GAAIL,IAAQ12B,KAAKsB,MAAOtB,KAAK42B,SAAU52B,KAAK62B,SAAU72B,KAAKuB,MACpEy1B,EAAOD,EAAOC,MAClB,OAAO,IAAIP,GAAK,GAAInE,GAAM0E,EAAKC,EAAE9qB,IAAK6qB,EAAKE,EAAE/qB,KAAM,GAAImmB,GAAM0E,EAAKC,EAAE7qB,IAAK4qB,EAAKE,EAAE9qB,OAEpFuqB,EAAMQ,WAAa,SAAUC,EAAM91B,EAAOC,EAAK81B,GAC3C,MAAO,IAAIV,GAAMr1B,EAAOA,EAAMgC,IAAI/B,EAAI8yB,IAAI+C,GAAME,IAAI,IAAK/1B,EAAI8yB,IAAIgD,EAAKhD,IAAI/yB,GAAOg2B,IAAI,IAAK/1B,IAE9Fo1B,EAAMY,QAAU,SAAUC,EAAIC,EAAIC,EAAIC,GAClC,MAAO,IAAIhB,GAAMa,EAAGl0B,IAAIm0B,EAAGlD,IAAI,IAAIjxB,IAAIo0B,GAAIJ,IAAI,GAAIG,EAAGlD,IAAI,GAAGjxB,IAAIo0B,GAAIJ,IAAI,GAAII,EAAGnD,IAAI,GAAGjxB,IAAIm0B,GAAIH,IAAI,GAAIK,EAAGr0B,IAAIo0B,EAAGnD,IAAI,IAAIjxB,IAAIm0B,GAAIH,IAAI,KAElIX,IAEX96B,GAAOb,QAAU27B,IAEdV,UAAU,EAAE2B,SAAS,EAAEC,kBAAkB,KAAKC,GAAG,SAASp9B,EAAQmB,GACrE,YACA,IAAIy2B,GAAQ,WACR,QAASA,GAAM2E,EAAGC,GACdl3B,KAAKi3B,EAAIA,EACTj3B,KAAKk3B,EAAIA,EAmCb,MAjCA5E,GAAMxiB,UAAUxM,IAAM,SAAU7I,GAC5B,MAAO,IAAI63B,GAAMtyB,KAAKi3B,EAAIx8B,EAAEw8B,EAAGj3B,KAAKk3B,EAAIz8B,EAAEy8B,IAE9C5E,EAAMxiB,UAAUukB,IAAM,SAAU55B,GAC5B,MAAO,IAAI63B,GAAMtyB,KAAKi3B,EAAIx8B,EAAEw8B,EAAGj3B,KAAKk3B,EAAIz8B,EAAEy8B,IAE9C5E,EAAMxiB,UAAUykB,IAAM,SAAU95B,GAC5B,MAAO,IAAI63B,GAAMtyB,KAAKi3B,EAAIx8B,EAAGuF,KAAKk3B,EAAIz8B,IAE1C63B,EAAMxiB,UAAUwnB,IAAM,SAAU78B,GAC5B,MAAO,IAAI63B,GAAMtyB,KAAKi3B,EAAIx8B,EAAGuF,KAAKk3B,EAAIz8B,IAE1Cga,OAAOsjB,eAAezF,EAAMxiB,UAAW,UACnCgO,IAAK,WACD,MAAO+I,MAAKmR,KAAKh4B,KAAKi3B,EAAIj3B,KAAKi3B,EAAIj3B,KAAKk3B,EAAIl3B,KAAKk3B,IAErDe,YAAY,EACZC,cAAc,IAElB5F,EAAMxiB,UAAUzD,MAAQ,WACpB,MAAO,IAAIimB,GAAMzL,KAAKxa,MAAMrM,KAAKi3B,GAAIpQ,KAAKxa,MAAMrM,KAAKk3B,KAEzD5E,EAAMxiB,UAAUyC,KAAO,WACnB,MAAO,IAAI+f,GAAMzL,KAAKtU,KAAKvS,KAAKi3B,GAAIpQ,KAAKtU,KAAKvS,KAAKk3B,KAEvD5E,EAAMxiB,UAAUiR,UAAY,SAAU5mB,GAClC,GAAI88B,GAAI98B,EAAEg+B,IAAMn4B,KAAKi3B,EAAI98B,EAAEi+B,IAAMp4B,KAAKk3B,EAAI/8B,EAAEk+B,GACxCnB,EAAI/8B,EAAEm+B,IAAMt4B,KAAKi3B,EAAI98B,EAAEo+B,IAAMv4B,KAAKk3B,EAAI/8B,EAAEq+B,EAC5C,OAAO,IAAIlG,GAAM2E,EAAGC,IAExB5E,EAAMxiB,UAAUoX,SAAW,WACvB,MAAO,SAAWlnB,KAAKi3B,EAAI,IAAMj3B,KAAKk3B,EAAI,KAEvC5E,IAEXz2B,GAAOb,QAAUs3B,OAEXmG,GAAG,SAAS/9B,EAAQmB,GAC1B,YACA,IAAIy2B,GAAQ53B,EAAQ,WAChB+7B,EAAO,WACP,QAASA,GAAKtqB,EAAKC,GACfpM,KAAKmM,IAAMA,EACXnM,KAAKoM,IAAMA,EA0Df,MAxDAqI,QAAOsjB,eAAetB,EAAK3mB,UAAW,KAClCgO,IAAK,WACD,MAAO9d,MAAKmM,IAAI8qB,GAEpBgB,YAAY,EACZC,cAAc,IAElBzjB,OAAOsjB,eAAetB,EAAK3mB,UAAW,KAClCgO,IAAK,WACD,MAAO9d,MAAKmM,IAAI+qB,GAEpBe,YAAY,EACZC,cAAc,IAElBzjB,OAAOsjB,eAAetB,EAAK3mB,UAAW,SAClCgO,IAAK,WACD,MAAO9d,MAAKoM,IAAI6qB,EAAIj3B,KAAKmM,IAAI8qB,GAEjCgB,YAAY,EACZC,cAAc,IAElBzjB,OAAOsjB,eAAetB,EAAK3mB,UAAW,UAClCgO,IAAK,WACD,MAAO9d,MAAKoM,IAAI8qB,EAAIl3B,KAAKmM,IAAI+qB,GAEjCe,YAAY,EACZC,cAAc,IAElBzB,EAAK3mB,UAAUgJ,MAAQ,SAAU7c,GAC7B,GAAIkQ,GAAM,GAAImmB,GAAMzL,KAAK1a,IAAInM,KAAKmM,IAAI8qB,EAAGh7B,EAAMkQ,IAAI8qB,GAAIpQ,KAAK1a,IAAInM,KAAKmM,IAAI+qB,EAAGj7B,EAAMkQ,IAAI+qB,IAClF9qB,EAAM,GAAIkmB,GAAMzL,KAAKza,IAAIpM,KAAKoM,IAAI6qB,EAAGh7B,EAAMmQ,IAAI6qB,GAAIpQ,KAAKza,IAAIpM,KAAKoM,IAAI8qB,EAAGj7B,EAAMmQ,IAAI8qB,GACtF,OAAO,IAAIT,GAAKtqB,EAAKC,IAEzBqqB,EAAK3mB,UAAU4oB,OAAS,SAAU3U,GAC9B,GAAI0Q,GAAO,GAAInC,GAAMvO,EAAQA,EAC7B,OAAO,IAAI0S,GAAKz2B,KAAKmM,IAAIkoB,IAAII,GAAOz0B,KAAKoM,IAAI9I,IAAImxB,KAErDgC,EAAK3mB,UAAUiR,UAAY,SAAUA,GACjC,GAAI4X,GAAK34B,KAAKmM,IAAI4U,UAAUA,GACxB6X,EAAK54B,KAAKoM,IAAI2U,UAAUA,EAC5B,OAAO0V,GAAKoC,WAAWF,EAAIC,IAE/BnC,EAAK3mB,UAAUgpB,oBAAsB,WACjC,MAAO,IAAIrC,GAAKz2B,KAAKmM,IAAIE,QAASrM,KAAKoM,IAAImG,SAE/CkkB,EAAK3mB,UAAUoX,SAAW,WACtB,MAAO,QAAUlnB,KAAKmM,IAAM,IAAMnM,KAAKoM,IAAM,KAEjDqqB,EAAKoC,WAAa,SAAUF,EAAIC,GAC5B,GAAIzsB,GAAM,GAAImmB,GAAMzL,KAAK1a,IAAIwsB,EAAG1B,EAAG2B,EAAG3B,GAAIpQ,KAAK1a,IAAIwsB,EAAGzB,EAAG0B,EAAG1B,IACxD9qB,EAAM,GAAIkmB,GAAMzL,KAAKza,IAAIusB,EAAG1B,EAAG2B,EAAG3B,GAAIpQ,KAAKza,IAAIusB,EAAGzB,EAAG0B,EAAG1B,GAC5D,OAAO,IAAIT,GAAKtqB,EAAKC,IAEzBqqB,EAAKsC,MAAQ,WACT,MAAO,IAAItC,GAAK,GAAInE,GAAM,EAAG,GAAI,GAAIA,GAAM,EAAG,KAE3CmE,IAEX56B,GAAOb,QAAUy7B,IAEdR,UAAU,IAAI+C,GAAG,SAASt+B,EAAQmB,GAErC,YACA,IAAIg3B,GAAYn4B,EAAQ,eACpBg4B,EAAW,WACX,QAASA,KACL1yB,KAAKm1B,WACLn1B,KAAKi5B,gBAAiB,EACtBj5B,KAAKk5B,iBAAmB,EACxBl5B,KAAK+gB,UAAY8R,EAAU5sB,WAC3BjG,KAAKuzB,MAAQ,EACbvzB,KAAKwzB,OAAS,EACdxzB,KAAKtE,KAAOL,SAASg4B,cAAc,UACnCrzB,KAAKV,QAAUU,KAAKtE,KAAKy9B,WAAW,MACpClS,OAAO3rB,iBAAiB,SAAU0E,KAAKo5B,SAASvd,KAAK7b,OACrDA,KAAKo5B,WAyFT,MAvFA1G,GAAS5iB,UAAUxM,IAAM,SAAU0xB,GAC/Bh1B,KAAKm1B,QAAQlyB,KAAK+xB,IAEtBtC,EAAS5iB,UAAU8kB,OAAS,WACxB,GAAIU,GAAQt1B,IACPA,MAAKi5B,iBACNj5B,KAAKi5B,gBAAiB,EACtB1D,sBAAsB,WAClBD,EAAMG,QACNH,EAAM+D,SACN/D,EAAM2D,gBAAiB,MAInCvG,EAAS5iB,UAAU2lB,MAAQ,WACvBz1B,KAAKs5B,iBACLt5B,KAAKV,QAAQi6B,UAAU,EAAG,EAAGv5B,KAAKuzB,MAAQvzB,KAAKk5B,iBAAkBl5B,KAAKwzB,OAASxzB,KAAKk5B,kBACpFl5B,KAAKw5B,gBAET9G,EAAS5iB,UAAU2pB,aAAe,WAC9Bz5B,KAAKs5B,gBACL,IAAII,GAAO15B,KAAKm1B,QAAQra,IAAI,SAAUka,GAAU,MAAOA,GAAO8B,iBAAmB9b,OAAO,SAAUlC,EAAO4gB,GAAQ,MAAO5gB,GAAMA,MAAM4gB,KAAU3Y,UAAU/gB,KAAK25B,mBAAmBb,qBAChLc,SAAQC,IAAI,YAAcH,GAC1B15B,KAAKV,QAAQi6B,UAAUG,EAAKzC,EAAGyC,EAAKxC,EAAGwC,EAAKnG,MAAOmG,EAAKlG,QACxDxzB,KAAKw5B,gBAET9G,EAAS5iB,UAAU0lB,UAAY,SAAUv5B,GACrC+D,KAAKs5B,iBACLt5B,KAAKV,QAAQw6B,UAAU79B,EAAMP,KAAM,EAAG,GACtCsE,KAAKw5B,gBAET9G,EAAS5iB,UAAUupB,OAAS,WACxBr5B,KAAKm1B,QAAQza,QAAQ1a,KAAK+5B,aAAale,KAAK7b,QAEhD0yB,EAAS5iB,UAAUiqB,aAAe,SAAU/E,EAAQgF,GACjC,SAAXA,IAAqBA,GAAS,EAClC,IAAIvR,GAAQuM,EAAOf,OAAO/4B,MAC1B,IAAc,IAAVutB,EAAJ,CAGA,GAAInpB,GAAUU,KAAKV,OAKnB,IAJAA,EAAQ26B,yBAA2BjF,EAAOkF,YAC1C56B,EAAQ66B,QAAU,QAClB76B,EAAQ86B,SAAW,QACnBp6B,KAAKw5B,eACS,IAAV/Q,EAAa,CACb,GAAIsM,GAAMC,EAAOf,OAAO,EACxB30B,GAAQ+6B,UAAYrF,EAAOE,MAAMhO,WACjC5nB,EAAQg7B,YACRh7B,EAAQi7B,IAAIxF,EAAIkC,EAAGlC,EAAImC,EAAGlC,EAAOzB,MAAQ,EAAG,EAAa,EAAV1M,KAAK2T,IACpDl7B,EAAQmY,OAERgR,EAAQ,IACRnpB,EAAQm7B,UAAYzF,EAAOzB,MAC3Bj0B,EAAQo7B,YAAc1F,EAAOE,MAAMhO,WACnC5nB,EAAQg7B,YACRtF,EAAOf,OAAOvZ,QAAQ,SAAUqa,EAAKp6B,GACjC,GAAU,IAANA,EACA2E,EAAQq7B,OAAO5F,EAAIkC,EAAGlC,EAAImC,OAEzB,CACD,GAAI0D,GAAQ5F,EAAO6F,QAAQlgC,EAC3B2E,GAAQw7B,cAAcF,EAAMhE,SAASK,EAAG2D,EAAMhE,SAASM,EAAG0D,EAAM/D,SAASI,EAAG2D,EAAM/D,SAASK,EAAG0D,EAAMr5B,IAAI01B,EAAG2D,EAAMr5B,IAAI21B,MAG7H53B,EAAQ01B,YAGhBtC,EAAS5iB,UAAUwpB,eAAiB,WAChCt5B,KAAKV,QAAQk6B,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,IAE7C9G,EAAS5iB,UAAU6pB,gBAAkB,WACjC,MAAO35B,MAAK+gB,UAAUoI,MAAM0J,EAAUuB,MAAMp0B,KAAKk5B,oBAErDxG,EAAS5iB,UAAU0pB,aAAe,WAC9B,GAAIr/B,GAAI6F,KAAK25B,iBACb35B,MAAKV,QAAQk6B,aAAar/B,EAAEg+B,IAAKh+B,EAAEm+B,IAAKn+B,EAAEi+B,IAAKj+B,EAAEo+B,IAAKp+B,EAAEk+B,GAAIl+B,EAAEq+B,KAElE9F,EAAS5iB,UAAUspB,SAAW,WAC1B,GAAI7F,GAAQvzB,KAAKuzB,MAAQtM,OAAO8T,WAC5BvH,EAASxzB,KAAKwzB,OAASvM,OAAO+T,YAC9B9B,EAAmBl5B,KAAKk5B,iBAAmBjS,OAAOiS,kBAAoB,CAC1EU,SAAQC,IAAI,cAAgBtG,EAAQ,MAAQC,EAAS,iBAAmB0F,GACxEl5B,KAAKtE,KAAK63B,MAAQA,EAAQ2F,EAC1Bl5B,KAAKtE,KAAK83B,OAASA,EAAS0F,EAC5Bl5B,KAAK40B,UAEFlC,IAEX72B,GAAOb,QAAU03B,IAEd0D,cAAc,KAAK6E,GAAG,SAASvgC,EAAQmB,GAC1C,YACA,IAAIy2B,GAAQ53B,EAAQ,WAChBi8B,EAAQj8B,EAAQ,WAChBk4B,EAAQl4B,EAAQ,WAChB+7B,EAAO/7B,EAAQ,UACfmrB,EAAInrB,EAAQ,UACZi4B,EAAS,WACT,QAASA,KACL3yB,KAAKi0B,UACLj0B,KAAKk1B,MAAQ,GAAItC,GAAM,EAAG,EAAG,EAAG,GAChC5yB,KAAKk6B,YAAc,cACnBl6B,KAAKuzB,MAAQ,EA6BjB,MA3BAZ,GAAO7iB,UAAUorB,SAAW,WACxB,GAAI5F,GAAQt1B,IACZ,OAAIA,MAAKi0B,OAAO/4B,QAAU,KAGnB2qB,EAAEO,MAAMpmB,KAAKi0B,OAAO/4B,OAAS,EAAG,SAAUP,GAAK,MAAO26B,GAAMuF,QAAQlgC,EAAI,MAEnFg4B,EAAO7iB,UAAUgnB,aAAe,WAC5B,GAA2B,IAAvB92B,KAAKi0B,OAAO/4B,OACZ,MAAOu7B,GAAKsC,OAEX,IAA2B,IAAvB/4B,KAAKi0B,OAAO/4B,OAAc,CAC/B,GAAIigC,GAAIn7B,KAAKi0B,OAAO,GAChBmH,EAAsB,GAAbp7B,KAAKuzB,KAClB,OAAO,IAAIkD,GAAK0E,EAAE9G,IAAI,GAAI/B,GAAM8I,EAAQA,IAAUD,EAAE73B,IAAI,GAAIgvB,GAAM8I,EAAQA,KAG1E,MAAOp7B,MAAKk7B,WAAWpgB,IAAI,SAAU8f,GAAS,MAAOA,GAAM9D,iBAAmB9b,OAAO,SAAUlC,EAAO4gB,GAAQ,MAAO5gB,GAAMA,MAAM4gB,KAAUhB,OAAoB,GAAb14B,KAAKuzB,QAG/JZ,EAAO7iB,UAAU+qB,QAAU,SAAUlgC,GACjC,GAAIy8B,GAAOp3B,KAAKi0B,OAAOt5B,EAAI,GACvB2G,EAAQtB,KAAKi0B,OAAOt5B,EAAI,GACxB4G,EAAMvB,KAAKi0B,OAAOt5B,GAClB08B,EAAOr3B,KAAKi0B,OAAOt5B,EAAI,EAC3B,OAAOg8B,GAAMY,QAAQH,GAAQ91B,EAAOA,EAAOC,EAAK81B,GAAQ91B,IAErDoxB,IAEX92B,GAAOb,QAAU23B,IAEdqD,UAAU,EAAEqF,UAAU,EAAEpF,UAAU,EAAE2B,SAAS,EAAEr4B,OAAS,IAAI+7B,IAAI,SAAS5gC,EAAQmB,GACpF,YACA,IAAIg3B,GAAY,WACZ,QAASA,GAAUsF,EAAKG,EAAKF,EAAKG,EAAKF,EAAIG,GACvCx4B,KAAKm4B,IAAMA,EACXn4B,KAAKs4B,IAAMA,EACXt4B,KAAKo4B,IAAMA,EACXp4B,KAAKu4B,IAAMA,EACXv4B,KAAKq4B,GAAKA,EACVr4B,KAAKw4B,GAAKA,EAyCd,MAvCA3F,GAAU/iB,UAAUqZ,MAAQ,SAAUltB,GAIlC,GAAIk8B,GAAMl8B,EAAMk8B,IAAMn4B,KAAKm4B,IAAMl8B,EAAMm8B,IAAMp4B,KAAKs4B,IAC9CA,EAAMr8B,EAAMk8B,IAAMn4B,KAAKo4B,IAAMn8B,EAAMm8B,IAAMp4B,KAAKu4B,IAC9CH,EAAMn8B,EAAMq8B,IAAMt4B,KAAKm4B,IAAMl8B,EAAMs8B,IAAMv4B,KAAKs4B,IAC9CC,EAAMt8B,EAAMq8B,IAAMt4B,KAAKo4B,IAAMn8B,EAAMs8B,IAAMv4B,KAAKu4B,IAC9CF,EAAKp8B,EAAMk8B,IAAMn4B,KAAKq4B,GAAKp8B,EAAMm8B,IAAMp4B,KAAKw4B,GAAKv8B,EAAMo8B,GACvDG,EAAKv8B,EAAMq8B,IAAMt4B,KAAKq4B,GAAKp8B,EAAMs8B,IAAMv4B,KAAKw4B,GAAKv8B,EAAMu8B,EAC3D,OAAO,IAAI3F,GAAUsF,EAAKG,EAAKF,EAAKG,EAAKF,EAAIG,IAEjD3F,EAAU/iB,UAAUuQ,OAAS,WAGzB,GAAIkb,GAAMv7B,KAAKm4B,IAAMn4B,KAAKu4B,IAAMv4B,KAAKs4B,IAAMt4B,KAAKo4B,IAC5CD,EAAMn4B,KAAKu4B,IAAMgD,EACjBjD,GAAOt4B,KAAKs4B,IAAMiD,EAClBnD,GAAOp4B,KAAKo4B,IAAMmD,EAClBhD,EAAMv4B,KAAKm4B,IAAMoD,EACjBlD,IAAOF,EAAMn4B,KAAKq4B,GAAKD,EAAMp4B,KAAKw4B,IAClCA,IAAOF,EAAMt4B,KAAKq4B,GAAKE,EAAMv4B,KAAKw4B,GACtC,OAAO,IAAI3F,GAAUsF,EAAKG,EAAKF,EAAKG,EAAKF,EAAIG,IAEjD3F,EAAU/iB,UAAU+lB,UAAY,SAAU2F,GACtC,MAAO,IAAI3I,GAAU7yB,KAAKm4B,IAAKn4B,KAAKs4B,IAAKt4B,KAAKo4B,IAAKp4B,KAAKu4B,IAAKv4B,KAAKq4B,GAAKmD,EAAMvE,EAAGj3B,KAAKw4B,GAAKgD,EAAMtE,IAEpGrE,EAAU/iB,UAAUskB,MAAQ,SAAUA,GAClC,MAAO,IAAIvB,GAAU7yB,KAAKm4B,IAAM/D,EAAOp0B,KAAKs4B,IAAMlE,EAAOp0B,KAAKo4B,IAAMhE,EAAOp0B,KAAKu4B,IAAMnE,EAAOp0B,KAAKq4B,GAAKjE,EAAOp0B,KAAKw4B,GAAKpE,IAE5HvB,EAAU5sB,SAAW,WACjB,MAAO,IAAI4sB,GAAU,EAAG,EAAG,EAAG,EAAG,EAAG,IAExCA,EAAUuB,MAAQ,SAAUA,GACxB,MAAO,IAAIvB,GAAUuB,EAAO,EAAG,EAAGA,EAAO,EAAG,IAEhDvB,EAAU6B,YAAc,SAAUA,GAC9B,MAAO,IAAI7B,GAAU,EAAG,EAAG,EAAG,EAAG6B,EAAYuC,EAAGvC,EAAYwC,IAEzDrE,IAEXh3B,GAAOb,QAAU63B,OAEX4I,IAAI,SAAS/gC,EAAQmB,IAQ1B,WACC,YAGA,IAAI6/B,GAAM7U,KAAK6U,IACXvvB,EAAM0a,KAAK1a,IACXC,EAAMya,KAAKza,IACXuvB,EAAM9U,KAAK8U,IACXC,EAAM/U,KAAK+U,IACXC,EAAOhV,KAAKgV,KAEZC,GADOjV,KAAKkV,KACJlV,KAAKiV,OACb9D,EAAOnR,KAAKmR,KACZgE,EAAM,SAASC,GAAK,MAAK,GAAFA,GAAapV,KAAKiB,KAAKmU,EAAE,EAAE,GAAWpV,KAAKiB,IAAImU,EAAE,EAAE,IAC1EC,EAAKrV,KAAK2T,GACV2B,EAAM,EAAED,EAGRE,GAAQnF,EAAE,EAAEC,EAAE,EAAEmF,EAAE,GAGlBC,GAEFC,UACG,mBACA,oBACA,kBACA,mBACA,kBACA,mBACA,kBACA,mBACA,kBACA,mBACA,kBACA,mBACA,kBACA,mBACA,iBACA,kBACA,kBACA,mBACA,kBACA,mBACA,kBACA,mBACA,kBACA,mBAIHC,SACE,mBACA,mBACA,kBACA,kBACA,mBACA,mBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,oBACA,oBACA,kBACA,mBAEFC,MAAO,SAAStB,EAAGhhC,EAAGuiC,GACpB,GAAIC,GAAID,EAAaviC,EAKrB,OAJAwiC,GAAIA,EAAE1F,EAAE0F,EAAE1F,EAAI0F,EAAEzF,EAAEyF,EAAEzF,EACF,mBAARyF,GAAEN,IACVM,GAAKA,EAAEN,EAAEM,EAAEN,GAENrE,EAAK2E,IAEdzhC,OAAQ,SAASigC,EAAGuB,GAClB,GAAwC/hC,GAAER,EAAtCkiC,EAAE,GAAIO,EAAI,EAAEC,EAAI78B,KAAKu8B,QAAQrhC,MACjC,KAAIP,EAAE,EAAKkiC,EAAFliC,EAAOA,IACdR,EAAIkiC,EAAIr8B,KAAKu8B,QAAQ5hC,GAAK0hC,EAC1BO,GAAO58B,KAAKw8B,QAAQ7hC,GAAKqF,KAAKy8B,MAAMtB,EAAEhhC,EAAEuiC,EAE1C,OAAOL,GAAIO,GAEb9hB,IAAK,SAASmhB,EAAGa,EAAGC,EAAIC,EAAGC,GACzB,GAAIC,GAAKH,EAAGD,EAAIK,EAAKF,EAAGD,EAAII,EAAMnB,EAAEa,EAAIziC,EAAI+iC,EAAGF,CAC/C,OAAOF,GAAKG,EAAG9iC,GAEjBgjC,KAAM,SAAShjC,EAAGijC,EAAIF,GACpB,GAAIG,IACFtG,EAAGqG,EAAGrG,EAAI58B,GAAG+iC,EAAGnG,EAAEqG,EAAGrG,GACrBC,EAAGoG,EAAGpG,EAAI78B,GAAG+iC,EAAGlG,EAAEoG,EAAGpG,GAKvB,OAHKoG,GAAGjB,GAAOe,EAAGf,IAChBkB,EAAIlB,EAAKiB,EAAGjB,EAAIhiC,GAAG+iC,EAAGf,EAAEiB,EAAGjB,IAEtBkB,GAETC,cAAe,SAASrC,GACtB,GAAI7gC,GAAI6gC,EAAElE,EAAE,IAAIkE,EAAEjE,CAIlB,OAHkB,mBAARiE,GAAEkB,IACV/hC,GAAK,IAAI6gC,EAAEkB,GAEN/hC,GAETmjC,eAAgB,SAASxJ,GACvB,MAAO,IAAMA,EAAOnZ,IAAI9a,KAAKw9B,eAAeE,KAAK,MAAQ,KAE3DC,KAAM,SAASC,GACb,MAAOC,MAAKC,MAAMD,KAAKE,UAAUH,KAEnCI,MAAO,SAASzjC,EAAE+iC,EAAGF,GACnB,GAOIa,GAPAC,EAAMZ,EAAGrG,EAAI18B,EAAE08B,EACfkH,EAAMb,EAAGpG,EAAI38B,EAAE28B,EACfkH,EAAMhB,EAAGnG,EAAI18B,EAAE08B,EACfoH,EAAMjB,EAAGlG,EAAI38B,EAAE28B,EACfoH,EAAQJ,EAAIG,EAAMF,EAAIC,EACtBG,EAAKvG,EAAKkG,EAAIA,EAAIC,EAAIA,GACtBK,EAAKxG,EAAKoG,EAAIA,EAAIC,EAAIA,EAI1B,OAFAH,IAAKK,EAAIJ,GAAKI,EAAIH,GAAKI,EAAIH,GAAKG,EAChCP,EAAMC,EAAIE,EAAMD,EAAIE,EACbvC,EAAMwC,EAAOL,IAEtBQ,KAAM,SAASC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,GAClC,GAAIC,IAAIR,EAAGG,EAAGF,EAAGC,IAAKE,EAAGE,IAAKN,EAAGE,IAAKE,EAAGG,EAAGF,EAAGC,GAC3CG,GAAIT,EAAGG,EAAGF,EAAGC,IAAKG,EAAGE,IAAKN,EAAGE,IAAKC,EAAGG,EAAGF,EAAGC,GAC3CrC,GAAG+B,EAAGE,IAAKG,EAAGE,IAAKN,EAAGE,IAAKC,EAAGE,EAClC,OAAM,IAAHrC,GAAe,GACT1F,EAAGiI,EAAGvC,EAAGzF,EAAGiI,EAAGxC,IAE1ByC,KAAM,SAASzG,EAAGC,EAAGyG,EAAGC,GACtB,GAAIZ,GAAK/F,EAAG1B,EAAG0H,EAAKhG,EAAGzB,EACnB0H,EAAKhG,EAAG3B,EAAG4H,EAAKjG,EAAG1B,EACnB4H,EAAKO,EAAGpI,EAAG8H,EAAKM,EAAGnI,EACnB8H,EAAKM,EAAGrI,EAAGgI,EAAKK,EAAGpI,CACvB,OAAOl3B,MAAKy+B,KAAKC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,EAAGC,IAExCM,IAAK,SAASjC,EAAIF,GAChB,MAAOp9B,MAAKo/B,KAAK9B,EAAGA,EAAGkC,EAAEpC,EAAGA,EAAGoC,IAEjCC,SAAU,SAAS9G,EAAGC,GACpB,GAAI8F,GAAK/F,EAAG1B,EAAG0H,EAAKhG,EAAGzB,EAAG0H,EAAKhG,EAAG3B,EAAG4H,EAAKjG,EAAG1B,EAAGmB,GAAMuG,EAAGF,GAAI,EAAGlG,GAAMqG,EAAGF,GAAI,CAC7E,OAAO,IAAIjI,GAAOgI,EAAIC,EAAID,EAAGrG,EAAIsG,EAAGnG,EAAIkG,EAAG,EAAErG,EAAIsG,EAAG,EAAEnG,EAAIoG,EAAIC,IAEhEa,SAAU,SAASC,GACjB,GAAIC,GAAG,SAASC,EAAGD,EAAGE,GAAIF,EAAGG,EAAGD,CAQhC,OAPAH,GAASjlB,QAAQ,SAASpgB,GACxB,GAAI08B,GAAO18B,EAAE08B,MACV4I,GAAK5I,EAAKC,EAAE9qB,MAAKyzB,EAAK5I,EAAKC,EAAE9qB,KAC7B0zB,EAAK7I,EAAKE,EAAE/qB,MAAK0zB,EAAK7I,EAAKE,EAAE/qB,KAC7B2zB,EAAK9I,EAAKC,EAAE7qB,MAAK0zB,EAAK9I,EAAKC,EAAE7qB,KAC7B2zB,EAAK/I,EAAKE,EAAE9qB,MAAK2zB,EAAK/I,EAAKE,EAAE9qB,QAGhC6qB,GAAK9qB,IAAKyzB,EAAIxyB,KAAKwyB,EAAGE,GAAI,EAAG1zB,IAAK0zB,EAAIvrB,KAAKurB,EAAGF,GAC9C1I,GAAK/qB,IAAK0zB,EAAIzyB,KAAKyyB,EAAGE,GAAI,EAAG3zB,IAAK2zB,EAAIxrB,KAAKwrB,EAAGF,KAGlDG,mBAAoB,SAASC,EAAIC,EAAOC,EAAIC,GAC1C,IAAIpgC,KAAKqgC,YAAYH,EAAOE,GAAQ,QACpC,IAAIE,MACAC,GAAMN,EAAGO,SAAUP,EAAGQ,QAASR,EAAGS,KAAMT,EAAGU,QAC3CC,GAAMT,EAAGK,SAAUL,EAAGM,QAASN,EAAGO,KAAMP,EAAGQ,OAe/C,OAdAJ,GAAG7lB,QAAQ,SAASmmB,GACfA,EAAGC,SACNF,EAAGlmB,QAAQ,SAASqmB,GAClB,IAAGA,EAAGD,QAAN,CACA,GAAIE,GAAMH,EAAGI,WAAWF,EACrBC,GAAI9lC,OAAO,IACZ8lC,EAAIvJ,GAAKoJ,EACTG,EAAItJ,GAAKqJ,EACTC,EAAIf,GAAKA,EACTe,EAAIb,GAAKA,EACTG,EAAcr9B,KAAK+9B,SAIlBV,GAETY,UAAW,SAAST,EAASC,GAC3B,GAAIS,GAAMT,EAAKzM,OAAO/4B,OAClBkmC,EAAMX,EAAQxM,OAAO/4B,OACrBoG,EAAStB,KAAKy/B,SAASiB,EAAKzM,OAAOkN,EAAI,GAAIV,EAAQxM,OAAO,IAC1D1yB,EAASvB,KAAKy/B,SAASgB,EAAQxM,OAAOmN,EAAI,GAAIV,EAAKzM,OAAO,IAC1DoN,GACFb,SAAUl/B,EACVm/B,QAASA,EACTC,KAAMA,EACNC,OAAQp/B,EACRy1B,KAAMh3B,KAAK0/B,UAAUp+B,EAAOm/B,EAASC,EAAMn/B,KAEzCwwB,EAAO/xB,IAIX,OAHAqhC,GAAMf,cAAgB,SAASH,GAC7B,MAAOpO,GAAKiO,mBAAmBqB,EAAMA,EAAMrK,KAAKmJ,EAAGA,EAAGnJ,OAEjDqK,GAETC,UAAW,SAAS1G,EAAO+B,EAAG4E,GAC5B,IAAIA,EAAM,OAASp1B,IAAI,EAAGC,IAAI,EAC9B,IAAqCjS,GAAEqlC,EAAnCrzB,EAAI,oBAAoBC,GAAKD,CACZ,MAAlBo1B,EAAKpkC,QAAQ,KAAWokC,GAAQ,GAAGloB,OAAOkoB,IACxB,KAAlBA,EAAKpkC,QAAQ,IAAWokC,EAAKt+B,KAAK,EACrC,KAAI,GAAItI,GAAE,EAAEkiC,EAAI0E,EAAKrmC,OAAU2hC,EAAFliC,EAAOA,IAClCR,EAAIonC,EAAK5mC,GACT6kC,EAAI5E,EAAM9c,IAAI3jB,GACXqlC,EAAE7C,GAAKxwB,IAAOA,EAAMqzB,EAAE7C,IACtB6C,EAAE7C,GAAKvwB,IAAOA,EAAMozB,EAAE7C,GAE3B,QAASxwB,IAAIA,EAAKiB,KAAKjB,EAAIC,GAAK,EAAGA,IAAIA,EAAKmI,KAAKnI,EAAID,IAEvDq1B,MAAO,SAASvN,EAAQwN,GACtB,GAAIC,GAAKD,EAAK9I,GAAG1B,EACb0K,EAAKF,EAAK9I,GAAGzB,EACbz8B,GAAKqhC,EAAM2F,EAAK7I,GAAG1B,EAAEyK,EAAIF,EAAK7I,GAAG3B,EAAEyK,GACnC/E,EAAI,SAASV,GACX,OACEhF,GAAIgF,EAAEhF,EAAEyK,GAAI/F,EAAIlhC,IAAMwhC,EAAE/E,EAAEyK,GAAI/F,EAAInhC,GAClCy8B,GAAI+E,EAAEhF,EAAEyK,GAAI9F,EAAInhC,IAAMwhC,EAAE/E,EAAEyK,GAAIhG,EAAIlhC;CAG1C,OAAOw5B,GAAOnZ,IAAI6hB,IAEpBiF,MAAO,SAAS3N,EAAQwN,GACtBA,EAAOA,IAAS9I,IAAI1B,EAAE,EAAEC,EAAE,GAAG0B,IAAI3B,EAAE,EAAEC,EAAE,GACvC,IAAI2K,GAAQ5N,EAAO/4B,OAAS,EACxBigC,EAAIn7B,KAAKwhC,MAAMvN,EAAQwN,GACvBzmB,EAAS,SAAS7gB,GAAK,MAAUA,IAAH,GAAY,GAAJA,EAE1C,IAAc,IAAV0nC,EAAa,CACf,GAAIpnC,GAAI0gC,EAAE,GAAGjE,EACTX,EAAI4E,EAAE,GAAGjE,EACTsI,EAAIrE,EAAE,GAAGjE,EACTyF,EAAIliC,EAAI,EAAE87B,EAAIiJ,CAClB,IAAO,IAAJ7C,EAAO,CACR,GAAI4B,IAAMvG,EAAKzB,EAAEA,EAAE97B,EAAE+kC,GACjBhB,GAAM/jC,EAAE87B,EACR+G,IAAQiB,EAAGC,GAAI7B,EACfS,KAAQmB,EAAGC,GAAI7B,CACnB,QAAQW,EAAIF,GAAI9iB,OAAOU,GAEpB,MAAGub,KAAIiJ,GAAS,IAAJ7C,IACL,EAAEpG,EAAEiJ,GAAG,GAAGjJ,EAAEiJ,IAAKllB,OAAOU,MAMtC,GAaI8mB,GAAGxE,EAAGoB,EAAGE,EAAGE,EAbZiD,EAAK5G,EAAE,GAAGjE,EACV8K,EAAK7G,EAAE,GAAGjE,EACV+K,EAAK9G,EAAE,GAAGjE,EACVgL,EAAK/G,EAAE,GAAGjE,EACVyF,GAAMoF,EAAK,EAAEC,EAAK,EAAEC,EAAKC,EACzBznC,GAAK,EAAEsnC,EAAK,EAAEC,EAAK,EAAEC,GAAMtF,EAC3BpG,GAAK,GAAGwL,EAAK,EAAEC,GAAMrF,EACrB6C,EAAIuC,EAAKpF,EACTxB,GAAK,EAAE5E,EAAI97B,EAAEA,GAAG,EAChB4kC,EAAKlE,EAAE,EACPgH,GAAK,EAAE1nC,EAAEA,EAAEA,EAAI,EAAEA,EAAE87B,EAAI,GAAGiJ,GAAG,GAC7B4C,EAAKD,EAAE,EACPE,EAAeD,EAAGA,EAAK/C,EAAGA,EAAGA,CAEhC,IAAmB,EAAfgD,EAAkB,CACrB,GAAIC,IAAOnH,EAAE,EACToH,EAAOD,EAAIA,EAAIA,EACfjoC,EAAI29B,EAAMuK,GACVpoC,GAAKgoC,GAAG,EAAE9nC,GACVmoC,EAAW,GAAFroC,EAAO,GAAKA,EAAE,EAAI,EAAIA,EAC/BsoC,EAAM5G,EAAK2G,GACXE,EAAO1G,EAAI3hC,GACXsoC,EAAK,EAAED,CAIX,OAHAhE,GAAKiE,EAAKhH,EAAI8G,EAAI,GAAKhoC,EAAE,EACzBmkC,EAAK+D,EAAKhH,GAAK8G,EAAItG,GAAK,GAAK1hC,EAAE,EAC/BqkC,EAAK6D,EAAKhH,GAAK8G,EAAI,EAAEtG,GAAK,GAAK1hC,EAAE,GACzBikC,EAAIE,EAAIE,GAAIxkB,OAAOU,GACtB,GAAoB,IAAjBqnB,EAIR,MAHAP,GAAU,EAALM,EAASpG,GAAKoG,IAAOpG,EAAIoG,GAC9B1D,EAAK,EAAEoD,EAAGrnC,EAAE,EACZmkC,GAAMkD,EAAKrnC,EAAE,GACLikC,EAAGE,GAAItkB,OAAOU,EAEtB,IAAI4nB,GAAK5K,EAAKqK,EAGd,OAFAP,GAAK9F,GAAKoG,EAAGQ,GACbtF,EAAKtB,EAAIoG,EAAGQ,IACJd,EAAGxE,EAAG7iC,EAAE,GAAG6f,OAAOU,IAG9B6nB,OAAQ,SAAS1H,GAEf,GAAgB,IAAbA,EAAEjgC,OAAc,CACjB,GAAIT,GAAI0gC,EAAE,GACN5E,EAAI4E,EAAE,GACNqE,EAAIrE,EAAE,GACNwB,EAAIliC,EAAI,EAAE87B,EAAIiJ,CAClB,IAAO,IAAJ7C,EAAO,CACR,GAAI4B,IAAMvG,EAAKzB,EAAEA,EAAE97B,EAAE+kC,GACjBhB,GAAM/jC,EAAE87B,EACR+G,IAAQiB,EAAGC,GAAI7B,EACfS,KAAQmB,EAAGC,GAAI7B,CACnB,QAAQW,EAAIF,GAET,MAAG7G,KAAIiJ,GAAS,IAAJ7C,IACL,EAAEpG,EAAEiJ,IAAI,GAAGjJ,EAAEiJ,QAM3B,GAAgB,IAAbrE,EAAEjgC,OAAc,CACjB,GAAIT,GAAI0gC,EAAE,GAAI5E,EAAI4E,EAAE,EACpB,OAAG1gC,KAAI87B,GAAa97B,GAAGA,EAAE87B,SAI7B8J,YAAa,SAASyC,EAAGC,GACvB,GAAmCpoC,GAAEqoC,EAAIjoC,EAAEZ,EAAEwiC,EAAzCsG,GAAM,IAAI,KAAKpG,EAAIoG,EAAK/nC,MAC5B,KAAIP,EAAE,EAAKkiC,EAAFliC,EAAOA,IAKd,GAJAqoC,EAAMC,EAAKtoC,GACXI,EAAI+nC,EAAGE,GAAK51B,IACZjT,EAAI4oC,EAAGC,GAAK51B,IACZuvB,GAAKmG,EAAGE,GAAKzuB,KAAOwuB,EAAGC,GAAKzuB,MAAM,EAC/BmnB,EAAI3gC,EAAEZ,IAAMwiC,EAAG,OAAO,CAE3B,QAAO,GAETuG,UAAW,SAASlM,EAAMmM,GACrBA,EAAMlM,EAAE9qB,IAAM6qB,EAAKC,EAAE9qB,MAAO6qB,EAAKC,EAAE9qB,IAAMg3B,EAAMlM,EAAE9qB,KACjDg3B,EAAMjM,EAAE/qB,IAAM6qB,EAAKE,EAAE/qB,MAAO6qB,EAAKE,EAAE/qB,IAAMg3B,EAAMjM,EAAE/qB,KACjDg3B,EAAM9G,GAAK8G,EAAM9G,EAAElwB,IAAM6qB,EAAKqF,EAAElwB,MAAO6qB,EAAKqF,EAAElwB,IAAMg3B,EAAM9G,EAAElwB,KAC5Dg3B,EAAMlM,EAAE7qB,IAAM4qB,EAAKC,EAAE7qB,MAAO4qB,EAAKC,EAAE7qB,IAAM+2B,EAAMlM,EAAE7qB,KACjD+2B,EAAMjM,EAAE9qB,IAAM4qB,EAAKE,EAAE9qB,MAAO4qB,EAAKE,EAAE9qB,IAAM+2B,EAAMjM,EAAE9qB,KACjD+2B,EAAM9G,GAAK8G,EAAM9G,EAAEjwB,IAAM4qB,EAAKqF,EAAEjwB,MAAO4qB,EAAKqF,EAAEjwB,IAAM+2B,EAAM9G,EAAEjwB,KAC/D4qB,EAAKC,EAAE7pB,KAAO4pB,EAAKC,EAAE9qB,IAAM6qB,EAAKC,EAAE7qB,KAAK,EACvC4qB,EAAKE,EAAE9pB,KAAO4pB,EAAKE,EAAE/qB,IAAM6qB,EAAKE,EAAE9qB,KAAK,EACpC4qB,EAAKqF,IAAKrF,EAAKqF,EAAEjvB,KAAO4pB,EAAKqF,EAAElwB,IAAM6qB,EAAKqF,EAAEjwB,KAAK,GACpD4qB,EAAKC,EAAE1iB,KAAOyiB,EAAKC,EAAE7qB,IAAM4qB,EAAKC,EAAE9qB,IAClC6qB,EAAKE,EAAE3iB,KAAOyiB,EAAKE,EAAE9qB,IAAM4qB,EAAKE,EAAE/qB,IAC/B6qB,EAAKqF,IAAKrF,EAAKqF,EAAE9nB,KAAOyiB,EAAKqF,EAAEjwB,IAAM4qB,EAAKqF,EAAElwB,MAEjDi3B,cAAe,SAAS3L,EAAGC,GACzB,GAAI2L,GAAM5L,EAAGT,OACTsM,EAAM5L,EAAGV,OACT38B,EAAI,IACJkpC,EAAY,EAChB,IAAGF,EAAIpM,EAAE1iB,KAAO8uB,EAAInM,EAAE3iB,KAAOgvB,GAAaD,EAAIrM,EAAE1iB,KAAO+uB,EAAIpM,EAAE3iB,KAAOgvB,EAClE,QAAWlpC,GAAKo9B,EAAG+L,IAAI/L,EAAGgM,KAAK,EAAG,GAAGppC,EAAI,KAAQA,GAAKq9B,EAAG8L,IAAI9L,EAAG+L,KAAK,EAAG,GAAGppC,EAE7E,IAAIqpC,GAAMjM,EAAGkM,MAAM,IACfC,EAAMlM,EAAGiM,MAAM,IACf/iB,IACGijB,KAAMH,EAAIG,KAAMC,MAAOF,EAAIC,OAC3BA,KAAMH,EAAIG,KAAMC,MAAOF,EAAIE,QAC3BD,KAAMH,EAAII,MAAOA,MAAOF,EAAIE,QAC5BD,KAAMH,EAAII,MAAOA,MAAOF,EAAIC,MACnCjjB,GAAQA,EAAMtG,OAAO,SAASypB,GAC5B,MAAOzH,GAAM+D,YAAY0D,EAAKF,KAAK7M,OAAO+M,EAAKD,MAAM9M,SAEvD,IAAIgN,KACJ,OAAoB,KAAjBpjB,EAAM1lB,OAAqB8oC,GAC9BpjB,EAAMlG,QAAQ,SAASqpB,GACrBC,EAAUA,EAAQ3qB,OAChBijB,EAAM8G,cAAcW,EAAKF,KAAME,EAAKD,UAGxCE,EAAUA,EAAQ1pB,OAAO,SAAS2hB,EAAEthC,GAClC,MAAOqpC,GAAQ7mC,QAAQ8+B,KAAOthC,OAMhCspC,EAAa,SAASC,GACxBlkC,KAAKkkC,UACLlkC,KAAKmkC,KAAM,EACND,IACHlkC,KAAKkkC,OAASA,EACdlkC,KAAKmkC,IAAMnkC,KAAKkkC,OAAO,GAAGC,KAI9BF,GAAWn0B,WACTmZ,QAAS,WACP,MAAOjpB,MAAKknB,YAEdA,SAAU,WACR,MAAOoV,GAAMmB,eAAez9B,KAAKi0B,SAEnCmQ,SAAU,SAASxJ,GACjB56B,KAAKkkC,OAAOjhC,KAAK23B,GACjB56B,KAAKmkC,IAAMnkC,KAAKmkC,KAAOvJ,EAAMuJ,KAE/BjpC,OAAQ,WACN,MAAO8E,MAAKkkC,OAAOppB,IAAI,SAASmhB,GAAK,MAAOA,GAAE/gC,WAAa8f,OAAO,SAASvgB,EAAE87B,GAAK,MAAO97B,GAAE87B,KAE7FqE,MAAO,SAASyJ,GACd,MAAOrkC,MAAKkkC,OAAOG,IAErBrN,KAAM,WAGJ,IAAI,GAFAwI,GAAIx/B,KAAKkkC,OACTlN,EAAOwI,EAAE,GAAGxI,OACRr8B,EAAE,EAAGA,EAAE6kC,EAAEtkC,OAAQP,IACvB2hC,EAAM4G,UAAUlM,EAAMwI,EAAE7kC,GAAGq8B,OAE7B,OAAOA,IAETjT,OAAQ,SAAS4Y,GACf,GAAI5Y,KAIJ,OAHA/jB,MAAKkkC,OAAOxpB,QAAQ,SAASuhB,GAC3BlY,EAASA,EAAO1K,OAAO4iB,EAAElY,OAAO4Y,MAE3B,GAAIsH,GAAWlgB,IAY1B,IAAI2S,GAAS,SAAS4N,GACpB,GAAI/8B,GAAQ+8B,GAAUA,EAAO5pB,QAAU4pB,EAAS32B,SAChD,IAAsB,gBAAZpG,GAAK,GAAiB,CAC9BA,IACA,KAAI,GAAI5M,GAAE,EAAGA,EAAE2pC,EAAOppC,OAAQP,KAC3B,IAAI,IAAI,KAAK+f,QAAQ,SAASiiB,GACF,mBAAjB2H,GAAO3pC,GAAGgiC,IAClBp1B,EAAKtE,KAAKqhC,EAAO3pC,GAAGgiC,MAK5B,GAAIE,GAAMt1B,EAAKrM,MACf,IAAS,IAAN2hC,GAAiB,IAANA,GAAiB,IAANA,GAAiB,KAANA,EAClC,KAAM,IAAIhiC,OAAM,oFAElB,IAAIspC,GAAe,IAARtH,GAAqB,KAARA,CACxB78B,MAAKmkC,IAAMA,CAEX,KAAI,GADAlQ,MACIoQ,EAAI,EAAGle,EAAMge,EAAM,EAAI,EAAQtH,EAAJwH,EAASA,GAAKle,EAAM,CACrD,GAAIoe,IACFtN,EAAG1vB,EAAK88B,GACRnN,EAAG3vB,EAAK88B,EAAI,GAEXF,KAAOI,EAAMlI,EAAI90B,EAAK88B,EAAI,IAC7BpQ,EAAOhxB,KAAKshC,GAEdvkC,KAAK6hC,MAAQ5N,EAAO/4B,OAAS,EAC7B8E,KAAKi0B,OAASA,CACd,IAAIgP,IAAQ,IAAI,IACbkB,IAAKlB,EAAKhgC,KAAK,KAClBjD,KAAKijC,KAAOA,EACZjjC,KAAKwkC,OAASvB,EAAK/nC,OAClB,SAAS0/B,GAER,IAAI,GADAngC,GAAI6hC,EAAMkF,MAAMvN,GAAS0E,GAAG1E,EAAO,GAAI2E,GAAG3E,EAAO2G,EAAMiH,SACnDlnC,EAAE,EAAGA,EAAEF,EAAES,OAAQP,IACvB,GAAG+gC,EAAIjhC,EAAEE,GAAGu8B,GAAK,KAEf,YADA0D,EAAM6J,SAAU,EAIpB7J,GAAM6J,SAAU,GAChBzkC,MACFA,KAAKwjC,IAAM,EACXxjC,KAAKyjC,IAAM,EACXzjC,KAAK40B,SAGP8B,GAAO4F,MAAQA,EAEf5F,EAAO5mB,WACLmZ,QAAS,WACP,MAAOjpB,MAAKknB,YAEdA,SAAU,WACR,MAAOoV,GAAMmB,eAAez9B,KAAKi0B,SAEnCyQ,MAAO,WACL,GAAG1kC,KAAKmkC,IAAK,OAAO,CAKpB,KAAI,GAJAhJ,GAAIn7B,KAAKi0B,OACTgD,EAAIkE,EAAE,GAAGlE,EACTC,EAAIiE,EAAE,GAAGjE,EACT58B,EAAI,KAAK28B,EAAE,IAAIC,EAAE,KAAkB,IAAbl3B,KAAK6hC,MAAY,KAAK,MACxClnC,EAAE,EAAGud,EAAKijB,EAAEjgC,OAAUgd,EAAFvd,EAAQA,IAAOL,GAAK6gC,EAAExgC,GAAGs8B,EAAE,IAAIkE,EAAExgC,GAAGu8B,CAChE,OAAO58B,IAETs6B,OAAQ,WAEN50B,KAAK2kC,UACL,KAAI,GAAIxJ,GAAEn7B,KAAKi0B,OAAQ0I,EAAExB,EAAEjgC,OAAQskC,EAAE7C,EAAE,EAAGA,EAAE,EAAGA,IAAK6C,IAAK,CAEvD,IAAI,GAASoF,GADTrD,KACIsD,EAAE,EAAUrF,EAAFqF,EAAKA,IACrBD,GACE3N,EAAGuI,GAAKrE,EAAE0J,EAAE,GAAG5N,EAAIkE,EAAE0J,GAAG5N,GACxBC,EAAGsI,GAAKrE,EAAE0J,EAAE,GAAG3N,EAAIiE,EAAE0J,GAAG3N,IAEvBl3B,KAAKmkC,MACNS,EAAIvI,EAAImD,GAAKrE,EAAE0J,EAAE,GAAGxI,EAAIlB,EAAE0J,GAAGxI,IAE/BkF,EAAKt+B,KAAK2hC,EAEZ5kC,MAAK2kC,QAAQ1hC,KAAKs+B,GAClBpG,EAAIoG,EAENvhC,KAAK8kC,oBAEPA,iBAAkB,WAChB,GAAI7Q,GAASj0B,KAAKi0B,OACd+J,EAAQ1B,EAAM0B,MAAM/J,EAAO,GAAIA,EAAOj0B,KAAK6hC,OAAQ5N,EAAO,GAC9Dj0B,MAAK+kC,UAAY/G,EAAQ,GAE3B9iC,OAAQ,WACN,MAAOohC,GAAMphC,OAAO8E,KAAKi0B,OAAQj0B,KAAKglC,WAAWnpB,KAAK7b,QAExDilC,OAAQ,SAASC,GACfA,EAAQA,GAAS,GAEjB,KAAI,GADAjR,MACI95B,EAAE,EAAM+qC,GAAH/qC,EAAUA,IACrB85B,EAAOhxB,KAAKjD,KAAKmlC,QAAQhrC,EAAE+qC,GAE7B,OAAOjR,IAETnW,IAAK,SAAS3jB,GACZ,MAAO6F,MAAKmlC,QAAQhrC,IAEtBoqC,MAAO,SAASF,GACd,MAAOrkC,MAAKi0B,OAAOoQ,IAErBc,QAAS,SAAShrC,GAEhB,GAAO,IAAJA,EAAS,MAAO6F,MAAKi0B,OAAO,EAC/B,IAAO,IAAJ95B,EAAS,MAAO6F,MAAKi0B,OAAOj0B,KAAK6hC,MAEpC,IAGIpnC,GAAE87B,EAAEiJ,EAHJ4F,EAAK,EAAEjrC,EACPkrC,EAAMD,EAAGA,EACTE,EAAKnrC,EAAEA,EACDwiC,EAAI,EACVxB,EAAIn7B,KAAKi0B,MACG,KAAbj0B,KAAK6hC,QACN1G,GAAKA,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIiB,GACvB3hC,EAAI4qC,EACJ9O,EAAI6O,EAAGjrC,EAAE,EACTqlC,EAAI8F,GAEU,IAAbtlC,KAAK6hC,QACNpnC,EAAI4qC,EAAID,EACR7O,EAAI8O,EAAIlrC,EAAE,EACVqlC,EAAI4F,EAAGE,EAAG,EACV3I,EAAIxiC,EAAEmrC,EAER,IAAI/H,IACFtG,EAAGx8B,EAAE0gC,EAAE,GAAGlE,EAAIV,EAAE4E,EAAE,GAAGlE,EAAIuI,EAAErE,EAAE,GAAGlE,EAAI0F,EAAExB,EAAE,GAAGlE,EAC3CC,EAAGz8B,EAAE0gC,EAAE,GAAGjE,EAAIX,EAAE4E,EAAE,GAAGjE,EAAIsI,EAAErE,EAAE,GAAGjE,EAAIyF,EAAExB,EAAE,GAAGjE,EAK7C,OAHGl3B,MAAKmkC,MACN5G,EAAIlB,EAAI5hC,EAAE0gC,EAAE,GAAGkB,EAAI9F,EAAE4E,EAAE,GAAGkB,EAAImD,EAAErE,EAAE,GAAGkB,EAAIM,EAAExB,EAAE,GAAGkB,GAE3CkB,GAETgI,MAAO,WAEL,IAAK,GAD6B5qC,GAAeuhC,EAAIsJ,EAAjDrK,EAAIn7B,KAAKi0B,OAAQwR,GAAMtK,EAAE,IAAQuK,EAAEvK,EAAEjgC,OAChCP,EAAE,EAAK+qC,EAAF/qC,EAAKA,IACjBuhC,EAAKf,EAAExgC,GACP6qC,EAAMrK,EAAExgC,EAAE,GACV8qC,EAAG9qC,IACDs8B,GAAIyO,EAAE/qC,GAAG+qC,EAAIxJ,EAAGjF,EAAIt8B,EAAE+qC,EAAIF,EAAIvO,EAC9BC,GAAIwO,EAAE/qC,GAAG+qC,EAAIxJ,EAAGhF,EAAIv8B,EAAE+qC,EAAIF,EAAItO,EAIlC,OADAuO,GAAGC,GAAKvK,EAAEuK,EAAE,GACL,GAAIhP,GAAO+O,IAEpBT,WAAY,SAAS7qC,GACnB,GACIM,GAAE87B,EADF6O,EAAK,EAAEjrC,EACHqlC,EAAE,EACNrE,EAAIn7B,KAAK2kC,QAAQ,EACL,KAAb3kC,KAAK6hC,QAAa1G,GAAKA,EAAE,GAAIA,EAAE,GAAIiB,GAAO3hC,EAAI2qC,EAAI7O,EAAIp8B,GACzC,IAAb6F,KAAK6hC,QAAapnC,EAAI2qC,EAAGA,EAAI7O,EAAI6O,EAAGjrC,EAAE,EAAGqlC,EAAIrlC,EAAEA,EAClD,IAAIojC,IACFtG,EAAGx8B,EAAE0gC,EAAE,GAAGlE,EAAIV,EAAE4E,EAAE,GAAGlE,EAAIuI,EAAErE,EAAE,GAAGlE,EAChCC,EAAGz8B,EAAE0gC,EAAE,GAAGjE,EAAIX,EAAE4E,EAAE,GAAGjE,EAAIsI,EAAErE,EAAE,GAAGjE,EAKlC,OAHGl3B,MAAKmkC,MACN5G,EAAIlB,EAAI5hC,EAAE0gC,EAAE,GAAGkB,EAAI9F,EAAE4E,EAAE,GAAGkB,EAAImD,EAAErE,EAAE,GAAGkB,GAEhCkB,GAEToI,OAAQ,SAASxrC,GACf,MAAO6F,MAAKmkC,IAAMnkC,KAAK4lC,UAAUzrC,GAAK6F,KAAK6lC,UAAU1rC,IAEvD0rC,UAAW,SAAS1rC,GAClB,GAAIwiC,GAAI38B,KAAKglC,WAAW7qC,GACpBgoC,EAAInK,EAAK2E,EAAE1F,EAAE0F,EAAE1F,EAAI0F,EAAEzF,EAAEyF,EAAEzF,EAC7B,QAASD,GAAI0F,EAAEzF,EAAEiL,EAAGjL,EAAGyF,EAAE1F,EAAEkL,IAE7ByD,UAAW,WAET,GAAIE,GAAK9lC,KAAKglC,WAAW7qC,GACrB4rC,EAAK/lC,KAAKglC,WAAW7qC,EAAE,KACvB6rC,EAAKhO,EAAK8N,EAAG7O,EAAE6O,EAAG7O,EAAI6O,EAAG5O,EAAE4O,EAAG5O,EAAI4O,EAAGzJ,EAAEyJ,EAAGzJ,GAC1C+F,EAAKpK,EAAK+N,EAAG9O,EAAE8O,EAAG9O,EAAI8O,EAAG7O,EAAE6O,EAAG7O,EAAI6O,EAAG1J,EAAE0J,EAAG1J,EAC9CyJ,GAAG7O,GAAK+O,EAAIF,EAAG5O,GAAK8O,EAAIF,EAAGzJ,GAAK2J,EAChCD,EAAG9O,GAAKmL,EAAI2D,EAAG7O,GAAKkL,EAAI2D,EAAG1J,GAAK+F,CAEhC,IAAI5C,IACFvI,EAAG8O,EAAG7O,EAAE4O,EAAGzJ,EAAI0J,EAAG1J,EAAEyJ,EAAG5O,EACvBA,EAAG6O,EAAG1J,EAAEyJ,EAAG7O,EAAI8O,EAAG9O,EAAE6O,EAAGzJ,EACvBA,EAAG0J,EAAG9O,EAAE6O,EAAG5O,EAAI6O,EAAG7O,EAAE4O,EAAG7O,GAErBgP,EAAIjO,EAAKwH,EAAEvI,EAAEuI,EAAEvI,EAAIuI,EAAEtI,EAAEsI,EAAEtI,EAAIsI,EAAEnD,EAAEmD,EAAEnD,EACvCmD,GAAEvI,GAAKgP,EAAGzG,EAAEtI,GAAK+O,EAAGzG,EAAEnD,GAAK4J,CAE3B,IAAIC,IAAQ1G,EAAEvI,EAAEuI,EAAEvI,EAAKuI,EAAEvI,EAAEuI,EAAEtI,EAAEsI,EAAEnD,EAAGmD,EAAEvI,EAAEuI,EAAEnD,EAAEmD,EAAEtI,EACpCsI,EAAEvI,EAAEuI,EAAEtI,EAAEsI,EAAEnD,EAAKmD,EAAEtI,EAAEsI,EAAEtI,EAAKsI,EAAEtI,EAAEsI,EAAEnD,EAAEmD,EAAEvI,EACpCuI,EAAEvI,EAAEuI,EAAEnD,EAAEmD,EAAEtI,EAAGsI,EAAEtI,EAAEsI,EAAEnD,EAAEmD,EAAEvI,EAAKuI,EAAEnD,EAAEmD,EAAEnD,GAExCjiC,GACF68B,EAAGiP,EAAE,GAAKJ,EAAG7O,EAAIiP,EAAE,GAAKJ,EAAG5O,EAAIgP,EAAE,GAAKJ,EAAGzJ,EACzCnF,EAAGgP,EAAE,GAAKJ,EAAG7O,EAAIiP,EAAE,GAAKJ,EAAG5O,EAAIgP,EAAE,GAAKJ,EAAGzJ,EACzCA,EAAG6J,EAAE,GAAKJ,EAAG7O,EAAIiP,EAAE,GAAKJ,EAAG5O,EAAIgP,EAAE,GAAKJ,EAAGzJ,EAE3C,OAAOjiC,IAETupC,MAAO,SAAShB,EAAI2C,GAElB,GAAQ,IAAL3C,GAAY2C,EAAM,MAAOtlC,MAAK2jC,MAAM2B,GAAIzB,IAC3C,IAAQ,IAALyB,EAAU,MAAOtlC,MAAK2jC,MAAMhB,GAAImB,KAEnC,IAEIqC,GAFAhL,EAAIn7B,KAAKi0B,OACTmS,KAEAjE,KACAkC,EAAM,EACN1pC,EAAE,EACFI,EAAE,CAMN,KALAonC,EAAEkC,KAASlJ,EAAE,GACbgH,EAAEkC,KAASlJ,EAAE,GACbgH,EAAEkC,KAASlJ,EAAE,GACK,IAAfn7B,KAAK6hC,QAAeM,EAAEkC,KAASlJ,EAAE,IAE9BA,EAAEjgC,OAAO,GAAG,CAEhB,IADAkrC,KACIzrC,EAAE,EAAGI,EAAEogC,EAAEjgC,OAAO,EAAKH,EAAFJ,EAAKA,IAC1BwrC,EAAK7J,EAAMe,KAAKsF,EAAGxH,EAAExgC,GAAGwgC,EAAExgC,EAAE,IAC5BwnC,EAAEkC,KAAS8B,EACXC,EAAGnjC,KAAKkjC,EAEVhL,GAAIiL,EAEN,GAAIxoC,IACFimC,KAAyB,GAAInN,GAAR,IAAf12B,KAAK6hC,OAA0BM,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAmBA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,KACrF2B,MAA0B,GAAIpN,GAAR,IAAf12B,KAAK6hC,OAA0BM,EAAE,GAAGA,EAAE,GAAGA,EAAE,KAAmBA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,KACtFkE,KAAMlE,EAUR,IANAvkC,EAAOimC,KAAKL,IAAOlH,EAAMxhB,IAAI,EAAI,EAAE,EAAG9a,KAAKwjC,IAAIxjC,KAAKyjC,KACpD7lC,EAAOimC,KAAKJ,IAAOnH,EAAMxhB,IAAI6nB,EAAI,EAAE,EAAG3iC,KAAKwjC,IAAIxjC,KAAKyjC,KACpD7lC,EAAOkmC,MAAMN,IAAMlH,EAAMxhB,IAAI6nB,EAAI,EAAE,EAAG3iC,KAAKwjC,IAAIxjC,KAAKyjC,KACpD7lC,EAAOkmC,MAAML,IAAMnH,EAAMxhB,IAAI,EAAI,EAAE,EAAG9a,KAAKwjC,IAAIxjC,KAAKyjC,MAGhD6B,EAAM,MAAO1nC,EAGjB0nC,GAAKhJ,EAAMxhB,IAAIwqB,EAAG3C,EAAG,EAAE,EAAE,EACzB,IAAI2D,GAAW1oC,EAAOkmC,MAAMH,MAAM2B,EAClC,OAAOgB,GAASzC,MAElB0C,YAAa,WACX,GAIIpL,GAAGqL,EAJHvD,EAAOjjC,KAAKijC,KAEZrlC,GADMoC,KAAKwkC,WAEX5C,IAeJ,OAbAqB,GAAKvoB,QAAQ,SAASsoB,GACpBwD,EAAM,SAASvK,GAAK,MAAOA,GAAE+G,IAC7B7H,EAAIn7B,KAAK2kC,QAAQ,GAAG7pB,IAAI0rB,GACxB5oC,EAAOolC,GAAO1G,EAAMuG,OAAO1H,GACT,IAAfn7B,KAAK6hC,QACN1G,EAAIn7B,KAAK2kC,QAAQ,GAAG7pB,IAAI0rB,GACxB5oC,EAAOolC,GAAOplC,EAAOolC,GAAK3pB,OAAOijB,EAAMuG,OAAO1H,KAEhDv9B,EAAOolC,GAAOplC,EAAOolC,GAAK1oB,OAAO,SAASngB,GAAK,MAAQA,IAAG,GAAQ,GAAHA,IAC/DynC,EAAQA,EAAMvoB,OAAOzb,EAAOolC,GAAKpmC,SACjCif,KAAK7b,OACP4hC,EAAMhlC,OACNgB,EAAOgF,OAASg/B,EACThkC,GAETo5B,KAAM,WACJ,GAAIuP,GAAcvmC,KAAKumC,cAAe3oC,IAItC,OAHAoC,MAAKijC,KAAKvoB,QAAQ,SAASiiB,GACzB/+B,EAAO++B,GAAKL,EAAMgF,UAAUthC,KAAM28B,EAAG4J,EAAY5J,KACjD9gB,KAAK7b,OACApC,GAET6oC,SAAU,SAAS7L,GACjB,GAAI8L,GAAQ1mC,KAAKg3B,OACb2P,EAAQ/L,EAAM5D,MAClB,OAAOsF,GAAM+D,YAAYqG,EAAMC,IAEjC5iB,OAAQ,SAAS5pB,EAAGwiC,GAClB,GAAgB,mBAANA,GAAmB,CAC3B,GAAI6C,GAAIx/B,KAAK8d,IAAI3jB,GACbC,EAAI4F,KAAK2lC,OAAOxrC,GAChBojC,GACFiC,EAAGA,EACHplC,EAAGA,EACH68B,EAAGuI,EAAEvI,EAAI78B,EAAE68B,EAAI0F,EACfzF,EAAGsI,EAAEtI,EAAI98B,EAAE88B,EAAIyF,EAKjB,OAHG38B,MAAKmkC,MACN5G,EAAIlB,EAAImD,EAAEnD,EAAIjiC,EAAEiiC,EAAIM,GAEfY,EAET,GAAGv9B,KAAKykC,QAAS,CACf,GAAImC,GAAK5mC,KAAK2lC,OAAO,GACjBrB,EAAStkC,KAAKi0B,OAAOnZ,IAAI,SAASqgB,GACpC,GAAIoC,IACFtG,EAAGkE,EAAElE,EAAI98B,EAAIysC,EAAG3P,EAChBC,EAAGiE,EAAEjE,EAAI/8B,EAAIysC,EAAG1P,EAGlB,OADGiE,GAAEkB,GAAKjiC,EAAEiiC,IAAKkB,EAAIlB,EAAIlB,EAAEkB,EAAIliC,EAAIysC,EAAGvK,GAC/BkB,GAET,QAAQ,GAAI7G,GAAO4N,IAErB,GAAIuC,GAAU7mC,KAAKgb,QACnB,OAAO6rB,GAAQ/rB,IAAI,SAASxgB,GAC1B,MAAOA,GAAE85B,MAAMj6B,MAGnB2sC,OAAQ,WACN,GAAgB,IAAb9mC,KAAK6hC,MAAW,CACjB,GAAItB,GAAKjE,EAAM0B,MAAMh+B,KAAKi0B,OAAO,GAAIj0B,KAAKi0B,OAAO,GAAIj0B,KAAKi0B,OAAO,IAC7D2M,EAAKtE,EAAM0B,MAAMh+B,KAAKi0B,OAAO,GAAIj0B,KAAKi0B,OAAO,GAAIj0B,KAAKi0B,OAAO,GACjE,IAAGsM,EAAG,GAAQ,EAAHK,GAAW,EAAHL,GAAQK,EAAG,EAAG,OAAO,EAE1C,GAAImG,GAAK/mC,KAAK2lC,OAAO,GACjBqB,EAAKhnC,KAAK2lC,OAAO,GACjBrrC,EAAIysC,EAAG9P,EAAE+P,EAAG/P,EAAI8P,EAAG7P,EAAE8P,EAAG9P,CACzBl3B,MAAKmkC,MAAO7pC,GAAKysC,EAAG1K,EAAE2K,EAAG3K,EAC5B,IAAI2B,GAAQtC,EAAIG,EAAKvhC,GACrB,OAAe4hC,GAAG,EAAX8B,GAEThjB,OAAQ,WACN,GAAIrgB,GAA0BssC,EAAvBtE,EAAG,EAAG2C,EAAG,EAAGnf,EAAK,IAAe+gB,KAAUC,KAE7CZ,EAAcvmC,KAAKumC,cAAc3jC,MAGrC,KAF4B,KAAzB2jC,EAAYppC,QAAQ,KAAWopC,GAAe,GAAGltB,OAAOktB,IAC/B,KAAzBA,EAAYppC,QAAQ,IAAWopC,EAAYtjC,KAAK,GAC/C0/B,EAAG4D,EAAY,GAAI5rC,EAAE,EAAGA,EAAE4rC,EAAYrrC,OAAQP,IAChD2qC,EAAKiB,EAAY5rC,GACjBssC,EAAUjnC,KAAK2jC,MAAMhB,EAAG2C,GACxB2B,EAAQzD,IAAMb,EACdsE,EAAQxD,IAAM6B,EACd4B,EAAMjkC,KAAKgkC,GACXtE,EAAK2C,CA+BP,OA5BA4B,GAAMxsB,QAAQ,SAASie,GAGrB,IAFAgK,EAAG,EACH2C,EAAG,EACS,GAANA,GACJ,IAAIA,EAAG3C,EAAGxc,EAAU,EAAEA,GAANmf,EAAYA,GAAInf,EAE9B,GADA8gB,EAAUtO,EAAGgL,MAAMhB,EAAG2C,IAClB2B,EAAQH,SAAU,CAEpB,GADAxB,GAAMnf,EACHuV,EAAIiH,EAAG2C,GAAInf,EAEZ,QAEF8gB,GAAUtO,EAAGgL,MAAMhB,EAAG2C,GACtB2B,EAAQzD,IAAMlH,EAAMxhB,IAAI6nB,EAAG,EAAE,EAAEhK,EAAG6K,IAAI7K,EAAG8K,KACzCwD,EAAQxD,IAAMnH,EAAMxhB,IAAIwqB,EAAG,EAAE,EAAE3M,EAAG6K,IAAI7K,EAAG8K,KACzC0D,EAAMlkC,KAAKgkC,GACXtE,EAAK2C,CACL,OAIA,EAAH3C,IACDsE,EAAUtO,EAAGgL,MAAMhB,EAAG,GACtBsE,EAAQzD,IAAMlH,EAAMxhB,IAAI6nB,EAAG,EAAE,EAAEhK,EAAG6K,IAAI7K,EAAG8K,KACzCwD,EAAQxD,IAAM9K,EAAG8K,IACjB0D,EAAMlkC,KAAKgkC,MAGRE,GAET/S,MAAO,SAASuI,GACd,GAAIkF,GAAQ7hC,KAAK6hC,MACbuF,GAAa,CAEjB,IADgB,kBAANzK,KAAoByK,EAAazK,GACxCyK,GAAwB,IAAVvF,EAAe,MAAO7hC,MAAKulC,QAAQnR,MAAMgT,EAG1D,IAAIrC,GAAY/kC,KAAK+kC,UACjBe,EAAKsB,EAAaA,EAAW,GAAKzK,EAClCoJ,EAAKqB,EAAaA,EAAW,GAAKzK,EAClCV,GAAMj8B,KAAK+jB,OAAO,EAAE,IAAK/jB,KAAK+jB,OAAO,EAAE,KACvCxpB,EAAI+hC,EAAM8C,KAAKnD,EAAE,GAAIA,EAAE,GAAGuD,EAAGvD,EAAE,GAAIA,EAAE,GAAGuD,EAC5C,KAAIjlC,EAAK,KAAM,iDAEf,IAAI05B,GAAOj0B,KAAKi0B,OAAQwR,IASxB,QANC,EAAE,GAAG/qB,QAAQ,SAASvgB,GACrB,GAAIghC,GAAIsK,EAAGtrC,EAAE0nC,GAASvF,EAAMqB,KAAK1J,EAAO95B,EAAE0nC,GAC1C1G,GAAElE,IAAM98B,EAAE4rC,EAAGD,GAAM7J,EAAE9hC,GAAGC,EAAE68B,EAC1BkE,EAAEjE,IAAM/8B,EAAE4rC,EAAGD,GAAM7J,EAAE9hC,GAAGC,EAAE88B,GAC1Brb,KAAK7b,OAEFonC,IAeJ,EAAE,GAAG1sB,QAAQ,SAASvgB,GACrB,GAAgB,IAAb6F,KAAK6hC,QAAe1nC,EAAvB,CACA,GAAIghC,GAAIlH,EAAO95B,EAAE,GACbktC,GACFpQ,EAAGkE,EAAElE,EAAI18B,EAAE08B,EACXC,EAAGiE,EAAEjE,EAAI38B,EAAE28B,GAEToQ,EAAKF,EAAaA,GAAYjtC,EAAE,GAAG0nC,GAASlF,CAC7CyK,KAAerC,IAAWuC,GAAMA,EACnC,IAAIrB,GAAIjO,EAAKqP,EAAGpQ,EAAEoQ,EAAGpQ,EAAIoQ,EAAGnQ,EAAEmQ,EAAGnQ,EACjCmQ,GAAGpQ,GAAKgP,EACRoB,EAAGnQ,GAAK+O,EACRR,EAAGtrC,EAAE,IACH88B,EAAGkE,EAAElE,EAAIqQ,EAAGD,EAAGpQ,EACfC,EAAGiE,EAAEjE,EAAIoQ,EAAGD,EAAGnQ,KAEjBrb,KAAK7b,OACA,GAAI02B,GAAO+O,MA7Bf,EAAE,GAAG/qB,QAAQ,SAASvgB,GACrB,GAAgB,IAAb6F,KAAK6hC,QAAe1nC,EAAvB,CACA,GAAIghC,GAAIsK,EAAGtrC,EAAE0nC,GACTlF,EAAI38B,KAAKglC,WAAW7qC,GACpBy+B,GAAO3B,EAAGkE,EAAElE,EAAI0F,EAAE1F,EAAGC,EAAGiE,EAAEjE,EAAIyF,EAAEzF,EACpCuO,GAAGtrC,EAAE,GAAKmiC,EAAM8C,KAAKjE,EAAGvC,EAAIr+B,EAAG05B,EAAO95B,EAAE,MACxC0hB,KAAK7b,OACA,GAAI02B,GAAO+O,KAwBtB8B,QAAS,SAASrK,EAAIC,EAAIqK,EAAIC,GAa5B,QAASC,GAAuBptC,EAAEJ,EAAGytC,EAAKC,EAAKC,GAC7C,MAAO,UAAU5L,GACf,GAAI6L,GAAKF,EAAKD,EAAMI,GAAMH,EAAKC,GAAMF,EAAMhL,EAAIziC,EAAEI,CACjD,OAAOgiC,GAAMxhB,IAAImhB,EAAG,EAAE,EAAG3hC,EAAEwtC,EAAGnL,EAAGriC,EAAEytC,EAAGpL,IAf1CQ,EAAoB,mBAAPA,GAAsBD,EAAKC,CACxC,IAKOhC,GALH0L,EAAU7mC,KAAKgb,SACf6hB,EAAMgK,EAAQ3rC,OAEd8sC,GADQhoC,KAAK6hC,UAEboG,KAEAL,EAAO,EACPD,EAAO3nC,KAAK9E,SAEZgtC,EAA2B,mBAAPV,IAAoC,mBAAPC,EAUrDZ,GAAQnsB,QAAQ,SAASusB,GACvBY,EAAOZ,EAAQ/rC,SACXgtC,GACFF,EAAQ/kC,KAAKgkC,EAAQ7S,MAAQsT,EAAwBxK,EAAIsK,EAAIG,EAAKC,EAAKC,KACvEI,EAAQhlC,KAAKgkC,EAAQ7S,MAAQsT,GAAwBvK,GAAIsK,EAAIE,EAAKC,EAAKC,OAEvEG,EAAQ/kC,KAAKgkC,EAAQ7S,MAAO8I,IAC5B+K,EAAQhlC,KAAKgkC,EAAQ7S,OAAO+I,KAE9ByK,GAAQC,IAIVI,EAAUA,EAAQntB,IAAI,SAASxgB,GAI7B,MAHA6gC,GAAI7gC,EAAE25B,OACK35B,EAAE25B,OAAVkH,EAAE,IAAkBA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,KACrBA,EAAE,GAAGA,EAAE,GAAGA,EAAE,IACxB7gC,IACN2f,SAGH,IAAIkuB,GAAKH,EAAQ,GAAG/T,OAAO,GACvBmU,EAAKJ,EAAQnL,EAAI,GAAG5I,OAAO+T,EAAQnL,EAAI,GAAG5I,OAAO/4B,OAAO,GACxDmtC,EAAKJ,EAAQpL,EAAI,GAAG5I,OAAOgU,EAAQpL,EAAI,GAAG5I,OAAO/4B,OAAO,GACxDotC,EAAKL,EAAQ,GAAGhU,OAAO,GACvBsU,EAAKjM,EAAMmD,SAAS4I,EAAGF,GACvBK,EAAKlM,EAAMmD,SAAS2I,EAAGE,GACvBG,GAAYF,GAAIlvB,OAAO2uB,GAAS3uB,QAAQmvB,IAAKnvB,OAAO4uB,GACpDJ,EAAOY,EAASvtC,MAEpB,OAAO,IAAI+oC,GAAWwE,IAExBC,cAAe,SAASxL,EAAGC,GACzBA,EAAKA,GAAMD,CAGX,KAAI,GAFAqK,GAAUvnC,KAAKunC,QAAQrK,EAAGC,GAAI+G,OAC9ByE,KACIhuC,EAAE,EAAGkiC,EAAI0K,EAAQrsC,OAAY2hC,EAAI,EAARliC,EAAWA,IAAK,CAC/C,GAAI0mC,GAAQ/E,EAAM4E,UAAUqG,EAAQ5sC,GAAI4sC,EAAQ1K,EAAIliC,GACpD0mC,GAAMb,SAASM,QAAWnmC,EAAI,EAC9B0mC,EAAMV,OAAOG,QAAejE,EAAI,EAAE,EAAVliC,EACxBguC,EAAO1lC,KAAKo+B,GAEd,MAAOsH,IAET1H,WAAY,SAASrG,GACnB,MAAIA,GACDA,EAAMjC,IAAMiC,EAAMhC,GACZ54B,KAAK4oC,eAAehO,IAE1BA,YAAiBlE,KAAUkE,EAAQA,EAAM5f,UACrChb,KAAK6oC,gBAAgB7oC,KAAKgb,SAAU4f,IALzB56B,KAAK8oC,kBAOzBF,eAAgB,SAASnH,GACvB,GAAI7B,GAAKzzB,EAAIs1B,EAAK9I,GAAG1B,EAAGwK,EAAK7I,GAAG3B,GAC5B4I,EAAK1zB,EAAIs1B,EAAK9I,GAAGzB,EAAGuK,EAAK7I,GAAG1B,GAC5B4I,EAAK1zB,EAAIq1B,EAAK9I,GAAG1B,EAAGwK,EAAK7I,GAAG3B,GAC5B8I,EAAK3zB,EAAIq1B,EAAK9I,GAAGzB,EAAGuK,EAAK7I,GAAG1B,GAC5BnF,EAAK/xB,IACT,OAAOs8B,GAAMsF,MAAM5hC,KAAKi0B,OAAQwN,GAAMnnB,OAAO,SAASngB,GACpD,GAAIghC,GAAIpJ,EAAKjU,IAAI3jB,EACjB,OAAQylC,IAAMzE,EAAElE,GAAKkE,EAAElE,GAAK6I,GAAMD,GAAM1E,EAAEjE,GAAKiE,EAAEjE,GAAK6I,KAG1D+I,eAAgB,WACd,GAIInuC,GAAkCiD,EAAOimC,EAAKC,EAJ9C+C,EAAU7mC,KAAKgb,SAIb6hB,EAAIgK,EAAQ3rC,OAAO,EAAE8oC,IAC3B,KAAIrpC,EAAE,EAAKkiC,EAAFliC,EAAOA,IACdkpC,EAAOgD,EAAQr0B,MAAM7X,EAAEA,EAAE,GACzBmpC,EAAQ+C,EAAQr0B,MAAM7X,EAAE,GACxBiD,EAASoC,KAAK6oC,gBAAgBhF,EAAMC,GACpCE,EAAUA,EAAQ3qB,OAAQzb,EAE5B,OAAOomC,IAET6E,gBAAiB,SAASpR,EAAGC,GAC3B,GAAI9W,KAEJ6W,GAAG/c,QAAQ,SAAS3f,GAClB28B,EAAGhd,QAAQ,SAASrgB,GACfU,EAAE0rC,SAASpsC,IACZumB,EAAM3d,MAAO4gC,KAAM9oC,EAAG+oC,MAAOzpC,OAKnC,IAAIimC,KAOJ,OANA1f,GAAMlG,QAAQ,SAASqpB,GACrB,GAAInmC,GAAS0+B,EAAM8G,cAAcW,EAAKF,KAAME,EAAKD,MAC9ClmC,GAAO1C,OAAS,IACjBolC,EAAgBA,EAAcjnB,OAAOzb,MAGlC0iC,IAKU,mBAAXzkC,IAA0BA,EAAOb,QACzCa,EAAOb,QAAU07B,EAGO,mBAAXzE,QACbA,OAAO,WAAa,MAAOyE,KAGH,mBAAXzP,UACbA,OAAOyP,OAASA,gBAKT","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/// <reference path=\"../typings/bundle.d.ts\" />\n'use strict';\nvar CanvasViewController = require('./CanvasViewController');\ndocument.addEventListener('DOMContentLoaded', function () {\n    var controller = new CanvasViewController();\n    document.body.appendChild(controller.view);\n});\n\n},{\"./CanvasViewController\":3}],2:[function(require,module,exports){\n(function (global){\n/**\n * @license\n * lodash 3.3.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.7.0 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.3.0';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      REARG_FLAG = 128,\n      ARY_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 0,\n      LAZY_MAP_FLAG = 1,\n      LAZY_WHILE_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /**\n   * Used to match ES template delimiters.\n   * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-template-literal-lexical-components)\n   * for more details.\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect named functions. */\n  var reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /**\n   * Used to match `RegExp` special characters.\n   * See this [article on `RegExp` characters](http://www.regular-expressions.info/characters.html#special)\n   * for more details.\n   */\n  var reRegExpChars = /[.*+?^${}()|[\\]\\/\\\\]/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to detect functions containing a `this` reference. */\n  var reThis = /\\bthis\\b/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '{2,}(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to detect and test for whitespace. */\n  var whitespace = (\n    // Basic whitespace characters.\n    ' \\t\\x0b\\f\\xa0\\ufeff' +\n\n    // Line terminators.\n    '\\n\\r\\u2028\\u2029' +\n\n    // Unicode category \"Zs\" space separators.\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'document',\n    'isFinite', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    'window', 'WinRTError'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used as an internal `_.debounce` options object by `_.throttle`. */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it is the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = (objectTypes[typeof window] && window !== (this && this.window)) ? window : this;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare to `other`.\n   * @param {*} other The value to compare to `value`.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsReflexive = value === value,\n          othIsReflexive = other === other;\n\n      if (value > other || !valIsReflexive || (typeof value == 'undefined' && othIsReflexive)) {\n        return 1;\n      }\n      if (value < other || !othIsReflexive || (typeof other == 'undefined' && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = (fromIndex || 0) - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` and `_.sortByAll` which uses `comparer`\n   * to define the sort order of `array` and replaces criteria objects with their\n   * corresponding values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * Converts `value` to a string if it is not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    if (typeof value == 'string') {\n      return value;\n    }\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback for string values.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the code unit of the first character of the string.\n   */\n  function charAtCallback(string) {\n    return string.charCodeAt(0);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByAll` to compare multiple properties of each element\n   * in a collection and stable sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultipleAscending(object, other) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        return result;\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   * If `fromRight` is provided elements of `array` are iterated from right to left.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} [fromIndex] The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromRight ? (fromIndex || length) : ((fromIndex || 0) - 1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return (value && typeof value == 'object') || false;\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'add': function(a, b) { return a + b; } });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'sub': function(a, b) { return a - b; } });\n   *\n   * _.isFunction(_.add);\n   * // => true\n   * _.isFunction(_.sub);\n   * // => false\n   *\n   * lodash.isFunction(lodash.add);\n   * // => false\n   * lodash.isFunction(lodash.sub);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect DOM support. */\n    var document = (document = context.window) && document.document;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to the length of n-tuples for `_.unzip`. */\n    var getLength = baseProperty('length');\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the `toStringTag` of values.\n     * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n     * for more details.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = context._;\n\n    /** Used to detect if a method is native. */\n    var reNative = RegExp('^' +\n      escapeRegExp(objToString)\n      .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = isNative(ArrayBuffer = context.ArrayBuffer) && ArrayBuffer,\n        bufferSlice = isNative(bufferSlice = ArrayBuffer && new ArrayBuffer(0).slice) && bufferSlice,\n        ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        push = arrayProto.push,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = isNative(Set = context.Set) && Set,\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = isNative(Uint8Array = context.Uint8Array) && Uint8Array,\n        WeakMap = isNative(WeakMap = context.WeakMap) && WeakMap;\n\n    /** Used to clone array buffers. */\n    var Float64Array = (function() {\n      // Safari 5 errors when using an array buffer to initialize a typed array\n      // where the array buffer's `byteLength` is not a multiple of the typed\n      // array's `BYTES_PER_ELEMENT`.\n      try {\n        var func = isNative(func = context.Float64Array) && func,\n            result = new func(new ArrayBuffer(10), 0, 1) && func;\n      } catch(e) {}\n      return result;\n    }());\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsFinite = context.isFinite,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = isNative(nativeNow = Date.now) && nativeNow,\n        nativeNumIsFinite = isNative(nativeNumIsFinite = Number.isFinite) && nativeNumIsFinite,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = Math.pow(2, 32) - 1,\n        MAX_ARRAY_INDEX =  MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /** Used as the size, in bytes, of each `Float64Array` element. */\n    var FLOAT64_BYTES_PER_ELEMENT = Float64Array ? Float64Array.BYTES_PER_ELEMENT : 0;\n\n    /**\n     * Used as the maximum length of an array-like value.\n     * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n     * for more details.\n     */\n    var MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that return a boolean or single value will\n     * automatically end the chain returning the unwrapped value. Explicit chaining\n     * may be enabled using `_.chain`. The execution of chained methods is lazy,\n     * that is, execution is deferred until `_#value` is implicitly or explicitly\n     * called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization that merges iteratees to avoid creating intermediate\n     * arrays and reduce the number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers also have the following `Array` methods:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n     * and `unshift`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defer`, `delay`,\n     * `difference`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `fill`,\n     * `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`, `forEach`,\n     * `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `functions`,\n     * `groupBy`, `indexBy`, `initial`, `intersection`, `invert`, `invoke`, `keys`,\n     * `keysIn`, `map`, `mapValues`, `matches`, `matchesProperty`, `memoize`, `merge`,\n     * `mixin`, `negate`, `noop`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `reverse`,\n     * `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`, `splice`, `spread`,\n     * `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `tap`, `throttle`,\n     * `thru`, `times`, `toArray`, `toPlainObject`, `transform`, `union`, `uniq`,\n     * `unshift`, `unzip`, `values`, `valuesIn`, `where`, `without`, `wrap`, `xor`,\n     * `zip`, and `zipObject`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `attempt`, `camelCase`, `capitalize`, `clone`, `cloneDeep`, `deburr`,\n     * `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`,\n     * `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`, `has`,\n     * `identity`, `includes`, `indexOf`, `isArguments`, `isArray`, `isBoolean`,\n     * `isDate`, `isElement`, `isEmpty`, `isEqual`, `isError`, `isFinite`,\n     * `isFunction`, `isMatch`, `isNative`, `isNaN`, `isNull`, `isNumber`,\n     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`,\n     * `isTypedArray`, `join`, `kebabCase`, `last`, `lastIndexOf`, `max`, `min`,\n     * `noConflict`, `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`,\n     * `random`, `reduce`, `reduceRight`, `repeat`, `result`, `runInContext`,\n     * `shift`, `size`, `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`,\n     * `startCase`, `startsWith`, `template`, `trim`, `trimLeft`, `trimRight`,\n     * `trunc`, `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, n) {\n     *   return sum + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    (function(x) {\n\n      /**\n       * Detect if functions can be decompiled by `Function#toString`\n       * (all but Firefox OS certified apps, older Opera mobile browsers, and\n       * the PlayStation 3; forced `false` for Windows 8 apps).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcDecomp = !isNative(context.WinRTError) && reThis.test(runInContext);\n\n      /**\n       * Detect if `Function#name` is supported (all but IE).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcNames = typeof Function.name == 'string';\n\n      /**\n       * Detect if the DOM is supported.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.dom = document.createDocumentFragment().nodeType === 11;\n      } catch(e) {\n        support.dom = false;\n      }\n\n      /**\n       * Detect if `arguments` object indexes are non-enumerable.\n       *\n       * In Firefox < 4, IE < 9, PhantomJS, and Safari < 5.1 `arguments` object\n       * indexes are non-enumerable. Chrome < 25 and Node.js < 0.11.0 treat\n       * `arguments` object indexes as non-enumerable and fail `hasOwnProperty`\n       * checks for indexes that exceed their function's formal parameters with\n       * associated values of `0`.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.nonEnumArgs = !propertyIsEnumerable.call(arguments, 1);\n      } catch(e) {\n        support.nonEnumArgs = true;\n      }\n    }(0, 0));\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = null;\n      this.__dir__ = 1;\n      this.__dropCount__ = 0;\n      this.__filtered__ = false;\n      this.__iteratees__ = null;\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = null;\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var actions = this.__actions__,\n          iteratees = this.__iteratees__,\n          views = this.__views__,\n          result = new LazyWrapper(this.__wrapped__);\n\n      result.__actions__ = actions ? arrayCopy(actions) : null;\n      result.__dir__ = this.__dir__;\n      result.__dropCount__ = this.__dropCount__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = iteratees ? arrayCopy(iteratees) : null;\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = views ? arrayCopy(views) : null;\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value();\n      if (!isArray(array)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var dir = this.__dir__,\n          isRight = dir < 0,\n          view = getView(0, array.length, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          dropCount = this.__dropCount__,\n          takeCount = nativeMin(length, this.__takeCount__),\n          index = isRight ? end : start - 1,\n          iteratees = this.__iteratees__,\n          iterLength = iteratees ? iteratees.length : 0,\n          resIndex = 0,\n          result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              computed = iteratee(value, index, array),\n              type = data.type;\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        if (dropCount) {\n          dropCount--;\n        } else {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Adds `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.max` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     */\n    function arrayMax(array) {\n      var index = -1,\n          length = array.length,\n          result = NEGATIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.min` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     */\n    function arrayMin(array) {\n      var index = -1,\n          length = array.length,\n          result = POSITIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return typeof objectValue == 'undefined' ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This method is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (typeof objectValue == 'undefined' || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize assigning values.\n     * @returns {Object} Returns the destination object.\n     */\n    function baseAssign(object, source, customizer) {\n      var props = keys(source);\n      if (!customizer) {\n        return baseCopy(source, object, props);\n      }\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? result !== value : value === value) ||\n            (typeof value == 'undefined' && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.at` without support for strings and individual\n     * key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} [props] The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          length = collection.length,\n          isArr = isLength(length),\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          key = parseFloat(key);\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Array} props The property names to copy.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, object, props) {\n      if (!props) {\n        props = object;\n        object = {};\n      }\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.bindAll` without support for individual\n     * method name arguments.\n     *\n     * @private\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {string[]} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     */\n    function baseBindAll(object, methodNames) {\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return (typeof thisArg != 'undefined' && isBindable(func))\n          ? bindCallback(func, thisArg, argCount)\n          : func;\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return typeof thisArg == 'undefined'\n        ? baseProperty(func + '')\n        : baseMatchesProperty(func + '', thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (typeof result != 'undefined') {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseCopy(value, result, keys(value));\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || context.Object();\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The `arguments` object to slice and provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args, fromIndex) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, baseSlice(args, fromIndex)); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = isCommon && values.length >= 200 && createCache(values),\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    function baseEach(collection, iteratee) {\n      var length = collection ? collection.length : 0;\n      if (!isLength(length)) {\n        return baseForOwn(collection, iteratee);\n      }\n      var index = -1,\n          iterable = toObject(collection);\n\n      while (++index < length) {\n        if (iteratee(iterable[index], index, iterable) === false) {\n          break;\n        }\n      }\n      return collection;\n    }\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    function baseEachRight(collection, iteratee) {\n      var length = collection ? collection.length : 0;\n      if (!isLength(length)) {\n        return baseForOwnRight(collection, iteratee);\n      }\n      var iterable = toObject(collection);\n      while (length--) {\n        if (iteratee(iterable[length], length, iterable) === false) {\n          break;\n        }\n      }\n      return collection;\n    }\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (typeof end == 'undefined' || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : end >>> 0;\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param {boolean} [isStrict] Restrict flattening to arrays and `arguments` objects.\n     * @param {number} [fromIndex=0] The index to start from.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict, fromIndex) {\n      var index = (fromIndex || 0) - 1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (isObjectLike(value) && isLength(value.length) && (isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            value = baseFlatten(value, isDeep, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length;\n\n          result.length += valLength;\n          while (++valIndex < valLength) {\n            result[++resIndex] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iterator functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    function baseFor(object, iteratee, keysFunc) {\n      var index = -1,\n          iterable = toObject(object),\n          props = keysFunc(object),\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForRight(object, iteratee, keysFunc) {\n      var iterable = toObject(object),\n          props = keysFunc(object),\n          length = props.length;\n\n      while (length--) {\n        var key = props[length];\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invoke` which requires additional arguments\n     * to be provided as an array of arguments rather than individually.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {Array} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     */\n    function baseInvoke(collection, methodName, args) {\n      var index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = isLength(length) ? Array(length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? methodName : (value != null && value[methodName]);\n        result[++index] = func ? func.apply(value, args) : undefined;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isWhere] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isWhere, stackA, stackB) {\n      // Exit early for identical values.\n      if (value === other) {\n        // Treat `+0` vs. `-0` as not equal.\n        return value !== 0 || (1 / value == 1 / other);\n      }\n      var valType = typeof value,\n          othType = typeof other;\n\n      // Exit early for unlike primitive values.\n      if ((valType != 'function' && valType != 'object' && othType != 'function' && othType != 'object') ||\n          value == null || other == null) {\n        // Return `false` unless both values are `NaN`.\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isWhere, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isWhere] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isWhere, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      var valWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n          othWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n      if (valWrapped || othWrapped) {\n        return equalFunc(valWrapped ? object.value() : object, othWrapped ? other.value() : other, customizer, isWhere, stackA, stackB);\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isWhere, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The source property names to match.\n     * @param {Array} values The source values to match.\n     * @param {Array} strictCompareFlags Strict comparison flags for source values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, props, values, strictCompareFlags, customizer) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      var index = -1,\n          noCustomizer = !customizer;\n\n      while (++index < length) {\n        if ((noCustomizer && strictCompareFlags[index])\n              ? values[index] !== object[props[index]]\n              : !hasOwnProperty.call(object, props[index])\n            ) {\n          return false;\n        }\n      }\n      index = -1;\n      while (++index < length) {\n        var key = props[index];\n        if (noCustomizer && strictCompareFlags[index]) {\n          var result = hasOwnProperty.call(object, key);\n        } else {\n          var objValue = object[key],\n              srcValue = values[index];\n\n          result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (typeof result == 'undefined') {\n            result = baseIsEqual(srcValue, objValue, customizer, true);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * or `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var result = [];\n      baseEach(collection, function(value, key, collection) {\n        result.push(iteratee(value, key, collection));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var props = keys(source),\n          length = props.length;\n\n      if (length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return function(object) {\n            return object != null && object[key] === value && hasOwnProperty.call(object, key);\n          };\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = source[props[length]];\n        values[length] = value;\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return function(object) {\n        return baseIsMatch(object, props, values, strictCompareFlags);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not coerce `key`\n     * to a string.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(key, value) {\n      if (isStrictComparable(value)) {\n        return function(object) {\n          return object != null && object[key] === value;\n        };\n      }\n      return function(object) {\n        return object != null && baseIsEqual(value, object[key], null, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns the destination object.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isLength(source.length) && (isArray(source) || isTypedArray(source));\n      (isSrcArr ? arrayEach : baseForOwn)(source, function(srcValue, key, source) {\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          return baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        var value = object[key],\n            result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n            isCommon = typeof result == 'undefined';\n\n        if (isCommon) {\n          result = srcValue;\n        }\n        if ((isSrcArr || typeof result != 'undefined') &&\n            (isCommon || (result === result ? result !== value : value === value))) {\n          object[key] = result;\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = typeof result == 'undefined';\n\n      if (isCommon) {\n        result = srcValue;\n        if (isLength(srcValue.length) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (value ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? result !== value : value === value) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` which does not coerce `key` to a string.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     */\n    function basePullAt(array, indexes) {\n      var length = indexes.length,\n          result = baseAt(array, indexes);\n\n      indexes.sort(baseCompareAscending);\n      while (length--) {\n        var index = parseFloat(indexes[length]);\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands or `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (typeof end == 'undefined' || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end - start) >>> 0;\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * or `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= 200,\n          seen = isLarge && createCache(),\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * returned by `keysFunc`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved unwrapped value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var args = [result],\n            action = actions[index];\n\n        push.apply(args, action.args);\n        result = action.func.apply(action.thisArg, args);\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest, instead\n     *  of the lowest, index at which a value should be inserted into `array`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (retHighest ? (computed <= value) : (computed < value)) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest, instead\n     *  of the lowest, index at which a value should be inserted into `array`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsUndef = typeof value == 'undefined';\n\n      while (low < high) {\n        var mid = floor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || typeof computed != 'undefined');\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (typeof thisArg == 'undefined') {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      return bufferSlice.call(buffer, 0);\n    }\n    if (!bufferSlice) {\n      // PhantomJS has `ArrayBuffer` and `Uint8Array` but not `Float64Array`.\n      bufferClone = !(ArrayBuffer && Uint8Array) ? constant(null) : function(buffer) {\n        var byteLength = buffer.byteLength,\n            floatLength = Float64Array ? floor(byteLength / FLOAT64_BYTES_PER_ELEMENT) : 0,\n            offset = floatLength * FLOAT64_BYTES_PER_ELEMENT,\n            result = new ArrayBuffer(byteLength);\n\n        if (floatLength) {\n          var view = new Float64Array(result, 0, floatLength);\n          view.set(new Float64Array(buffer, 0, floatLength));\n        }\n        if (byteLength != offset) {\n          view = new Uint8Array(result, offset);\n          view.set(new Uint8Array(buffer, offset));\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(argsLength + leftLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var pad = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[pad + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[pad + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an accumulator\n     * object composed from the results of running each element in the collection\n     * through an iteratee.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that assigns properties of source object(s) to a given\n     * destination object.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return function() {\n        var length = arguments.length,\n            object = arguments[0];\n\n        if (length < 2 || object == null) {\n          return object;\n        }\n        if (length > 3 && isIterateeCall(arguments[1], arguments[2], arguments[3])) {\n          length = 2;\n        }\n        // Juggle arguments.\n        if (length > 3 && typeof arguments[length - 2] == 'function') {\n          var customizer = bindCallback(arguments[--length - 1], arguments[length--], 5);\n        } else if (length > 2 && typeof arguments[length - 1] == 'function') {\n          customizer = arguments[--length];\n        }\n        var index = 0;\n        while (++index < length) {\n          var source = arguments[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        return (this instanceof wrapper ? Ctor : func).apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    var createCache = !(nativeCreate && Set) ? constant(null) : function(values) {\n      return new SetCache(values);\n    };\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, arguments);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that gets the extremum value of a collection.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to get the extremum value from an array.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the maximum,\n     *  extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(arrayFunc, isMin) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = null;\n        }\n        var func = getCallback(),\n            noIteratee = iteratee == null;\n\n        if (!(func === baseCallback && noIteratee)) {\n          noIteratee = false;\n          iteratee = func(iteratee, thisArg, 3);\n        }\n        if (noIteratee) {\n          var isArr = isArray(collection);\n          if (!isArr && isString(collection)) {\n            iteratee = charAtCallback;\n          } else {\n            return arrayFunc(isArr ? collection : toIterable(collection));\n          }\n        }\n        return extremumBy(collection, iteratee, isMin);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG;\n\n      var Ctor = !isBindKey && createCtorWrapper(func),\n          key = func;\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : null,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : null,\n                newHoldersRight = isCurry ? null : argsHolders,\n                newPartials = isCurry ? args : null,\n                newPartialsRight = isCurry ? null : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var result = createHybridWrapper(func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity);\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this;\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        return (this instanceof wrapper ? (Ctor || createCtorWrapper(func)) : func).apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the pad required for `string` based on the given padding length.\n     * The `chars` string may be truncated if the number of padding characters\n     * exceeds the padding length.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPad(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, ceil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(argsLength + leftLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return (this instanceof wrapper ? Ctor : func).apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = null;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = null;\n      }\n      var data = !isBindKey && getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data && data !== true) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isWhere] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isWhere, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length,\n          result = true;\n\n      if (arrLength != othLength && !(isWhere && othLength > arrLength)) {\n        return false;\n      }\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (result && ++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        result = undefined;\n        if (customizer) {\n          result = isWhere\n            ? customizer(othValue, arrValue, index)\n            : customizer(arrValue, othValue, index);\n        }\n        if (typeof result == 'undefined') {\n          // Recursively compare arrays (susceptible to call stack limits).\n          if (isWhere) {\n            var othIndex = othLength;\n            while (othIndex--) {\n              othValue = other[othIndex];\n              result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isWhere, stackA, stackB);\n              if (result) {\n                break;\n              }\n            }\n          } else {\n            result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isWhere, stackA, stackB);\n          }\n        }\n      }\n      return !!result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} value The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            // But, treat `-0` vs. `+0` as not equal.\n            : (object == 0 ? ((1 / object) == (1 / other)) : object == +other);\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isWhere] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isWhere, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isWhere) {\n        return false;\n      }\n      var hasCtor,\n          index = -1;\n\n      while (++index < objLength) {\n        var key = objProps[index],\n            result = hasOwnProperty.call(other, key);\n\n        if (result) {\n          var objValue = object[key],\n              othValue = other[key];\n\n          result = undefined;\n          if (customizer) {\n            result = isWhere\n              ? customizer(othValue, objValue, key)\n              : customizer(objValue, othValue, key);\n          }\n          if (typeof result == 'undefined') {\n            // Recursively compare objects (susceptible to call stack limits).\n            result = (objValue && objValue === othValue) || equalFunc(objValue, othValue, customizer, isWhere, stackA, stackB);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n        hasCtor || (hasCtor = key == 'constructor');\n      }\n      if (!hasCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor && ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments; (value, index, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the\n     *  maximum, extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function extremumBy(collection, iteratee, isMin) {\n      var exValue = isMin ? POSITIVE_INFINITY : NEGATIVE_INFINITY,\n          computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = iteratee(value, index, collection);\n        if ((isMin ? current < computed : current > computed) || (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} [transforms] The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms ? transforms.length : 0;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `func` is eligible for `this` binding.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is eligible, else `false`.\n     */\n    function isBindable(func) {\n      var support = lodash.support,\n          result = !(support.funcNames ? func.name : support.funcDecomp);\n\n      if (!result) {\n        var source = fnToString.call(func);\n        if (!support.funcNames) {\n          result = !reFuncName.test(source);\n        }\n        if (!result) {\n          // Check if `func` references the `this` keyword and store the result.\n          result = reThis.test(source) || isNative(func);\n          baseSetData(func, result);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = +value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number') {\n        var length = object.length,\n            prereq = isLength(length) && isIndex(index, length);\n      } else {\n        prereq = type == 'string' && index in object;\n      }\n      var other = object[index];\n      return prereq && (value === value ? value === other : other !== other);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on ES `ToLength`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n     * for more details.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && (value === 0 ? ((1 / value) > 0) : !isObject(value));\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask;\n\n      var arityFlags = ARY_FLAG | REARG_FLAG,\n          bindFlags = BIND_FLAG | BIND_KEY_FLAG,\n          comboFlags = arityFlags | bindFlags | CURRY_BOUND_FLAG | CURRY_RIGHT_FLAG;\n\n      var isAry = bitmask & ARY_FLAG && !(srcBitmask & ARY_FLAG),\n          isRearg = bitmask & REARG_FLAG && !(srcBitmask & REARG_FLAG),\n          argPos = (isRearg ? data : source)[7],\n          ary = (isAry ? data : source)[8];\n\n      var isCommon = !(bitmask >= REARG_FLAG && srcBitmask > bindFlags) &&\n        !(bitmask > bindFlags && srcBitmask >= REARG_FLAG);\n\n      var isCombo = (newBitmask >= arityFlags && newBitmask <= comboFlags) &&\n        (bitmask < REARG_FLAG || ((isRearg || isAry) && argPos.length <= ary));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * A specialized version of `_.pick` that picks `object` properties specified\n     * by the `props` array.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` that picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `_.isPlainObject` which checks if `value`\n     * is an object created by the `Object` constructor or has a `[[Prototype]]`\n     * of `null`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var Ctor,\n          support = lodash.support;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag) ||\n          (!hasOwnProperty.call(value, 'constructor') &&\n            (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length,\n          support = lodash.support;\n\n      var allowIndexes = length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object)));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isLength(value.length)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(+size || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(ceil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using\n     * `SameValueZero` for equality comparisons.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    function difference() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var value = arguments[index];\n        if (isArray(value) || isArguments(value)) {\n          break;\n        }\n      }\n      return baseDifference(value, baseFlatten(arguments, false, true, ++index));\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': pebbles, 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      predicate = getCallback(predicate, thisArg, 3);\n      while (length-- && predicate(array[length], length, array)) {}\n      return baseSlice(array, 0, length + 1);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var index = -1;\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length && predicate(array[index], index, array)) {}\n      return baseSlice(array, index);\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for, instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      predicate = getCallback(predicate, thisArg, 3);\n      while (length--) {\n        if (predicate(array[length], length, array)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]];\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4];\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4];\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using `SameValueZero` for equality comparisons. If `fromIndex` is negative,\n     * it is used as the offset from the end of `array`. If `array` is sorted\n     * providing `true` for `fromIndex` performs a faster binary search.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 2\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value),\n            other = array[index];\n\n        return (value === value ? value === other : other !== other) ? index : -1;\n      }\n      return baseIndexOf(array, value, fromIndex);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values in all provided arrays using `SameValueZero`\n     * for equality comparisons.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = [],\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf;\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArray(value) || isArguments(value)) {\n          args.push(value);\n          caches.push(isCommon && value.length >= 120 && createCache(argsIndex && value));\n        }\n      }\n      argsLength = args.length;\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          result = [],\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value)) < 0) {\n          argsIndex = argsLength;\n          while (--argsIndex) {\n            var cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        return (value === value ? value === other : other !== other) ? index : -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using `SameValueZero` for equality\n     * comparisons.\n     *\n     * **Notes:**\n     *  - Unlike `_.without`, this method mutates `array`.\n     *  - `SameValueZero` comparisons are like strict equality comparisons, e.g. `===`,\n     *    except that `NaN` matches `NaN`. See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     *    for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var array = arguments[0];\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = arguments.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = arguments[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    function pullAt(array) {\n      return basePullAt(array || [], baseFlatten(arguments, false, false, 1));\n    }\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          splice.call(array, index--, 1);\n          length--;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This function is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    function sortedIndex(array, value, iteratee, thisArg) {\n      var func = getCallback(iteratee);\n      return (func === baseCallback && iteratee == null)\n        ? binaryIndex(array, value)\n        : binaryIndexBy(array, value, func(iteratee, thisArg, 1));\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value, iteratee, thisArg) {\n      var func = getCallback(iteratee);\n      return (func === baseCallback && iteratee == null)\n        ? binaryIndex(array, value, true)\n        : binaryIndexBy(array, value, func(iteratee, thisArg, 1), true);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      predicate = getCallback(predicate, thisArg, 3);\n      while (length-- && predicate(array[length], length, array)) {}\n      return baseSlice(array, length + 1);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var index = -1;\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length && predicate(array[index], index, array)) {}\n      return baseSlice(array, 0, index);\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * `SameValueZero` for equality comparisons.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    function union() {\n      return baseUniq(baseFlatten(arguments, false, true));\n    }\n\n    /**\n     * Creates a duplicate-value-free version of an array using `SameValueZero`\n     * for equality comparisons. Providing `true` for `isSorted` performs a faster\n     * search algorithm for sorted arrays. If an iteratee function is provided it\n     * is invoked for each value in the array to generate the criterion by which\n     * uniqueness is computed. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1]);\n     * // => [1, 2]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? null : isSorted;\n        isSorted = false;\n      }\n      var func = getCallback();\n      if (!(func === baseCallback && iteratee == null)) {\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-`_.zip`\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      var index = -1,\n          length = (array && array.length && arrayMax(arrayMap(array, getLength))) >>> 0,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all provided values using `SameValueZero` for\n     * equality comparisons.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    function without(array) {\n      return baseDifference(array, baseSlice(arguments, 1));\n    }\n\n    /**\n     * Creates an array that is the symmetric difference of the provided arrays.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Symmetric_difference) for\n     * more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArray(array) || isArguments(array)) {\n          var result = result\n            ? baseDifference(result, array).concat(baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    function zip() {\n      var length = arguments.length,\n          array = Array(length);\n\n      while (length--) {\n        array[length] = arguments[length];\n      }\n      return unzip(array);\n    }\n\n    /**\n     * Creates an object composed from arrays of property names and values. Provide\n     * either a single two dimensional array, e.g. `[[key1, value1], [key2, value2]]`\n     * or two arrays, one of property names and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .last()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => [3]\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapper = wrapper.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapper.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapper = wrapper.plant(other);\n     *\n     * otherWrapper.value();\n     * // => [9, 16]\n     *\n     * wrapper.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        if (this.__actions__.length) {\n          value = new LazyWrapper(this);\n        }\n        return new LodashWrapper(value.reverse(), this.__chain__);\n      }\n      return this.thru(function(value) {\n        return value.reverse();\n      });\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['fred', 'barney', 'pebbles'], 0, 2);\n     * // => ['fred', 'pebbles']\n     */\n    function at(collection) {\n      var length = collection ? collection.length : 0;\n      if (isLength(length)) {\n        collection = toIterable(collection);\n      }\n      return baseAt(collection, baseFlatten(arguments, false, false, 1));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    function find(collection, predicate, thisArg) {\n      if (isArray(collection)) {\n        var index = findIndex(collection, predicate, thisArg);\n        return index > -1 ? collection[index] : undefined;\n      }\n      predicate = getCallback(predicate, thisArg, 3);\n      return baseFind(collection, predicate, baseEach);\n    }\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    function findLast(collection, predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 3);\n      return baseFind(collection, predicate, baseEachRight);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection). Iterator functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a `length` property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    function forEach(collection, iteratee, thisArg) {\n      return (typeof iteratee == 'function' && typeof thisArg == 'undefined' && isArray(collection))\n        ? arrayEach(collection, iteratee)\n        : baseEach(collection, bindCallback(iteratee, thisArg, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).join(',');\n     * // => logs each value from right to left and returns the array\n     */\n    function forEachRight(collection, iteratee, thisArg) {\n      return (typeof iteratee == 'function' && typeof thisArg == 'undefined' && isArray(collection))\n        ? arrayEachRight(collection, iteratee)\n        : baseEachRight(collection, bindCallback(iteratee, thisArg, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using `SameValueZero` for equality\n     * comparisons. If `fromIndex` is negative, it is used as the offset from\n     * the end of `collection`.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex) {\n      var length = collection ? collection.length : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (!length) {\n        return false;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      } else {\n        fromIndex = 0;\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex < length && collection.indexOf(target, fromIndex) > -1)\n        : (getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method named by `methodName` on each element in `collection`,\n     * returning an array of the results of each invoked method. Any additional\n     * arguments are provided to each invoked method. If `methodName` is a function\n     * it is invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    function invoke(collection, methodName) {\n      return baseInvoke(collection, methodName, baseSlice(arguments, 2));\n    }\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`, `drop`,\n     * `dropRight`, `fill`, `flatten`, `invert`, `max`, `min`, `parseInt`, `slice`,\n     * `sortBy`, `take`, `takeRight`, `template`, `trim`, `trimLeft`, `trimRight`,\n     * `trunc`, `random`, `range`, `sample`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     *  create a `_.property` or `_.matches` style callback respectively.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 };\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 };\n     */\n    var max = createExtremum(arrayMax);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 };\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 };\n     */\n    var min = createExtremum(arrayMin, true);\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1, 3], [2]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the value of `key` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string} key The key of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, key) {\n      return map(collection, baseProperty(key));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg`and invoked with four arguments;\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `merge`, and `sortAllBy`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator, thisArg) {\n      var func = isArray(collection) ? arrayReduce : baseReduce;\n      return func(collection, getCallback(iteratee, thisArg, 4), accumulator, arguments.length < 3, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator, thisArg) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce;\n      return func(collection, getCallback(iteratee, thisArg, 4), accumulator, arguments.length < 3, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(n < 0 ? 0 : (+n || 0), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the Fisher-Yates\n     * shuffle. See [Wikipedia](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      collection = toIterable(collection);\n\n      var index = -1,\n          length = collection.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var rand = baseRandom(0, index);\n        if (index != rand) {\n          result[index] = result[rand];\n        }\n        result[rand] = collection[index];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the size of `collection` by returning `collection.length` for\n     * array-like values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|Object|string} [iteratee=_.identity] The function\n     *  invoked per iteration. If a property name or an object is provided it is\n     *  used to create a `_.property` or `_.matches` style callback respectively.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = isLength(length) ? Array(length) : [];\n\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = { 'criteria': iteratee(value, key, collection), 'index': index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it sorts by property names\n     * instead of an iteratee function.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(string|string[])} props The property names to sort by,\n     *  specified as individual property names or arrays of property names.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 26 },\n     *   { 'user': 'fred',   'age': 30 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n     */\n    function sortByAll(collection) {\n      var args = arguments;\n      if (args.length > 3 && isIterateeCall(args[1], args[2], args[3])) {\n        args = [collection, args[1]];\n      }\n      var index = -1,\n          length = collection ? collection.length : 0,\n          props = baseFlatten(args, false, false, 1),\n          result = isLength(length) ? Array(length) : [];\n\n      baseEach(collection, function(value) {\n        var length = props.length,\n            criteria = Array(length);\n\n        while (length--) {\n          criteria[length] = value == null ? undefined : value[props[length]];\n        }\n        result[++index] = { 'criteria': criteria, 'index': index, 'value': value };\n      });\n      return baseSortBy(result, compareMultipleAscending);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = null;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, null, null, null, null, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        } else {\n          func = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the `length`\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [args] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    function bind(func, thisArg) {\n      var bitmask = BIND_FLAG;\n      if (arguments.length > 2) {\n        var partials = baseSlice(arguments, 2),\n            holders = replaceHolders(partials, bind.placeholder);\n\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    }\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the `length` property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    function bindAll(object) {\n      return baseBindAll(object,\n        arguments.length > 1\n          ? baseFlatten(arguments, false, false, 1)\n          : functions(object)\n      );\n    }\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [args] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    function bindKey(object, key) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (arguments.length > 2) {\n        var partials = baseSlice(arguments, 2),\n            holders = replaceHolders(partials, bindKey.placeholder);\n\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    }\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the `length` property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      if (guard && isIterateeCall(func, arity, guard)) {\n        arity = null;\n      }\n      var result = createWrapper(func, CURRY_FLAG, null, null, null, null, null, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the `length` property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      if (guard && isIterateeCall(func, arity, guard)) {\n        arity = null;\n      }\n      var result = createWrapper(func, CURRY_RIGHT_FLAG, null, null, null, null, null, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a function that delays invoking `func` until after `wait` milliseconds\n     * have elapsed since the last time it was invoked. The created function comes\n     * with a `cancel` method to cancel delayed invocations. Provide an options\n     * object to indicate that `func` should be invoked on the leading and/or\n     * trailing edge of the `wait` timeout. Subsequent calls to the debounced\n     * function return the result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} wait The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : wait;\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    function defer(func) {\n      return baseDelay(func, 1, arguments, 1);\n    }\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    function delay(func, wait) {\n      return baseDelay(func, wait, arguments, 2);\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function add(x, y) {\n     *   return x + y;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    function flow() {\n      var funcs = arguments,\n          length = funcs.length;\n\n      if (!length) {\n        return function() { return arguments[0]; };\n      }\n      if (!arrayEvery(funcs, baseIsFunction)) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var index = 0,\n            result = funcs[index].apply(this, arguments);\n\n        while (++index < length) {\n          result = funcs[index].call(this, result);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function add(x, y) {\n     *   return x + y;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    function flowRight() {\n      var funcs = arguments,\n          fromIndex = funcs.length - 1;\n\n      if (fromIndex < 0) {\n        return function() { return arguments[0]; };\n      }\n      if (!arrayEvery(funcs, baseIsFunction)) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var index = fromIndex,\n            result = funcs[index].apply(this, arguments);\n\n        while (index--) {\n          result = funcs[index].call(this, result);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the ES `Map` method interface\n     * of `get`, `has`, and `set`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-map-prototype-object)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var cache = memoized.cache,\n            key = resolver ? resolver.apply(this, arguments) : arguments[0];\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, arguments);\n        cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(func, 2);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the `length` property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [args] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    function partial(func) {\n      var partials = baseSlice(arguments, 1),\n          holders = replaceHolders(partials, partial.placeholder);\n\n      return createWrapper(func, PARTIAL_FLAG, null, partials, holders);\n    }\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the `length` property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [args] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    function partialRight(func) {\n      var partials = baseSlice(arguments, 1),\n          holders = replaceHolders(partials, partialRight.placeholder);\n\n      return createWrapper(func, PARTIAL_RIGHT_FLAG, null, partials, holders);\n    }\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    function rearg(func) {\n      var indexes = baseFlatten(arguments, false, false, 1);\n      return createWrapper(func, REARG_FLAG, null, null, null, indexes);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and the array of arguments provided to the created\n     * function much like [Function#apply](http://es5.github.io/#x15.3.4.3).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {*} Returns the new function.\n     * @example\n     *\n     * var spread = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * spread(['Fred', 'hello']);\n     * // => 'Fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a function that only invokes `func` at most once per every `wait`\n     * milliseconds. The created function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the throttled function return the result of the last\n     * `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} wait The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = +wait;\n      debounceOptions.trailing = trailing;\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, null, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the structured clone algorithm.\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps. See the [HTML5 specification](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, isDeep, customizer);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the structured clone algorithm.\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps. See the [HTML5 specification](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, true, customizer);\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      var length = isObjectLike(value) ? value.length : undefined;\n      return (isLength(length) && objToString.call(value) == argsTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return (isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag) || false;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return (value === true || value === false || isObjectLike(value) && objToString.call(value) == boolTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return (isObjectLike(value) && objToString.call(value) == dateTag) || false;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return (value && value.nodeType === 1 && isObjectLike(value) &&\n        objToString.call(value).indexOf('Element') > -1) || false;\n    }\n    // Fallback for environments without DOM support.\n    if (!support.dom) {\n      isElement = function(value) {\n        return (value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value)) || false;\n      };\n    }\n\n    /**\n     * Checks if a value is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      var length = value.length;\n      if (isLength(length) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments; (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && isStrictComparable(value) && isStrictComparable(other)) {\n        return value === other;\n      }\n      var result = customizer ? customizer(value, other) : undefined;\n      return typeof result == 'undefined' ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return (isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag) || false;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on ES `Number.isFinite`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.isfinite)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    var isFinite = nativeNumIsFinite || function(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    var isFunction = !(baseIsFunction(/x/) || (Uint8Array && !baseIsFunction(Uint8Array))) ? baseIsFunction : function(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return objToString.call(value) == funcTag;\n    };\n\n    /**\n     * Checks if `value` is the language type of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * **Note:** See the [ES5 spec](https://es5.github.io/#x8) for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return type == 'function' || (value && type == 'object') || false;\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments; (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      var props = keys(source),\n          length = props.length;\n\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return object != null && value === object[key] && hasOwnProperty.call(object, key);\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = values[length] = source[props[length]];\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return baseIsMatch(object, props, values, strictCompareFlags, customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as native `isNaN` which returns `true`\n     * for `undefined` and other non-numeric values. See the [ES5 spec](https://es5.github.io/#x15.1.2.4)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (objToString.call(value) == funcTag) {\n        return reNative.test(fnToString.call(value));\n      }\n      return (isObjectLike(value) && reHostCtor.test(value)) || false;\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag) || false;\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && objToString.call(value) == objectTag)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return (isObjectLike(value) && objToString.call(value) == regexpTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return (isObjectLike(value) && isLength(value.length) && typedArrayTags[objToString.call(value)]) || false;\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? value.length : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments;\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return typeof value == 'undefined' ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(baseAssign);\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = null;\n      }\n      return properties ? baseCopy(properties, result, keys(properties)) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional defaults of the same property are ignored.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    function defaults(object) {\n      if (object == null) {\n        return object;\n      }\n      var args = arrayCopy(arguments);\n      args.push(assignDefaults);\n      return assign.apply(undefined, args);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it returns the key of the\n     * first element `predicate` returns truthy for, instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 3);\n      return baseFind(object, predicate, baseForOwn, true);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 3);\n      return baseFind(object, predicate, baseForOwnRight, true);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments; (value, key, object). Iterator functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    function forIn(object, iteratee, thisArg) {\n      if (typeof iteratee != 'function' || typeof thisArg != 'undefined') {\n        iteratee = bindCallback(iteratee, thisArg, 3);\n      }\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    function forInRight(object, iteratee, thisArg) {\n      iteratee = bindCallback(iteratee, thisArg, 3);\n      return baseForRight(object, iteratee, keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments; (value, key, object). Iterator functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    function forOwn(object, iteratee, thisArg) {\n      if (typeof iteratee != 'function' || typeof thisArg != 'undefined') {\n        iteratee = bindCallback(iteratee, thisArg, 3);\n      }\n      return baseForOwn(object, iteratee);\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    function forOwnRight(object, iteratee, thisArg) {\n      iteratee = bindCallback(iteratee, thisArg, 3);\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Checks if `key` exists as a direct property of `object` instead of an\n     * inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 3 };\n     *\n     * _.has(object, 'b');\n     * // => true\n     */\n    function has(object, key) {\n      return object ? hasOwnProperty.call(object, key) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = null;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (object) {\n        var Ctor = object.constructor,\n            length = object.length;\n      }\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n         (typeof object != 'function' && (length && isLength(length)))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object))) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee, thisArg) {\n      var result = {};\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        result[key] = iteratee(value, key, object);\n      });\n      return result;\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments; (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If `predicate` is provided it is invoked for each property\n     * of `object` omitting the properties `predicate` returns truthy for. The\n     * predicate is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    function omit(object, predicate, thisArg) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof predicate != 'function') {\n        var props = arrayMap(baseFlatten(arguments, false, false, 1), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      predicate = bindCallback(predicate, thisArg, 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    }\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments; (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    function pick(object, predicate, thisArg) {\n      if (object == null) {\n        return {};\n      }\n      return typeof predicate == 'function'\n        ? pickByCallback(object, bindCallback(predicate, thisArg, 3))\n        : pickByArray(object, baseFlatten(arguments, false, false, 1));\n    }\n\n    /**\n     * Resolves the value of property `key` on `object`. If the value of `key` is\n     * a function it is invoked with the `this` binding of `object` and its result\n     * is returned, else the property value is returned. If the property value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the property value\n     *  resolves to `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': _.constant(40) };\n     *\n     * _.result(object, 'user');\n     * // => 'fred'\n     *\n     * _.result(object, 'age');\n     * // => 40\n     *\n     * _.result(object, 'status', 'busy');\n     * // => 'busy'\n     *\n     * _.result(object, 'status', _.constant('busy'));\n     * // => 'busy'\n     */\n    function result(object, key, defaultValue) {\n      var value = object == null ? undefined : object[key];\n      if (typeof value == 'undefined') {\n        value = defaultValue;\n      }\n      return isFunction(value) ? value.call(object) : value;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments; (accumulator, value, key, object). Iterator functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) && Ctor.prototype);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it defaults to `start` with `start` becoming `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (typeof end === 'undefined') {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= start && value < end;\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = null;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to camel case.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/CamelCase) for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting latin-1 supplementary letters to basic latin letters.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter);\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = (typeof position == 'undefined' ? length : nativeMin(position < 0 ? 0 : (+position || 0), length)) - target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and '`', in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't require escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#102](https://html5sec.org/#102),\n     * [#108](https://html5sec.org/#108), and [#133](https://html5sec.org/#133) of\n     * the [HTML5 Security Cheatsheet](https://html5sec.org/) for more details.\n     *\n     * When working with HTML you should always quote attribute values to reduce\n     * XSS vectors. See [Ryan Grove's article](http://wonko.com/post/html-escaping)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"^\", \"$\", \".\", \"|\", \"?\", \"*\",\n     * \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to kebab case.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles) for\n     * more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it is shorter then the given\n     * padding length. The `chars` string may be truncated if the number of padding\n     * characters can't be evenly divided by the padding length.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = floor(mid),\n          rightLength = ceil(mid);\n\n      chars = createPad('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it is shorter then the given padding\n     * length. The `chars` string may be truncated if the number of padding\n     * characters exceeds the padding length.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    function padLeft(string, length, chars) {\n      string = baseToString(string);\n      return string && (createPad(string, length, chars) + string);\n    }\n\n    /**\n     * Pads `string` on the right side if it is shorter then the given padding\n     * length. The `chars` string may be truncated if the number of padding\n     * characters exceeds the padding length.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    function padRight(string, length, chars) {\n      string = baseToString(string);\n      return string && (string + createPad(string, length, chars));\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the ES5 implementation of `parseInt`.\n     * See the [ES5 spec](https://es5.github.io/#E) for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard && isIterateeCall(string, radix, guard)) {\n        radix = 0;\n      }\n      return nativeParseInt(string, radix);\n    }\n    // Fallback for environments with pre-ES5 implementations.\n    if (nativeParseInt(whitespace + '08') != 8) {\n      parseInt = function(string, radix, guard) {\n        // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n        // Chrome fails to trim leading <BOM> whitespace characters.\n        // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n        if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n          radix = 0;\n        } else if (radix) {\n          radix = +radix;\n        }\n        string = trim(string);\n        return nativeParseInt(string, radix || (reHexPrefix.test(string) ? 16 : 10));\n      };\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = floor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to snake case.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Snake_case) for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to start case.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null ? 0 : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes sourceURLs for easier debugging.\n     * See the [HTML5 Rocks article on sourcemaps](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for more details.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     *   var __t, __p = '';\n     *   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     *   return __p;\n     * }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = null;\n      }\n      string = baseToString(string);\n      options = baseAssign(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = baseAssign(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar]\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it is longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * //=> 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = null;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? +options.length || 0 : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = null;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    function attempt() {\n      var length = arguments.length,\n          func = arguments[0];\n\n      try {\n        var args = Array(length ? length - 1 : 0);\n        while (--length > 0) {\n          args[length - 1] = arguments[length];\n        }\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = null;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function which performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function which compares the property value of `key` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} key The key of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    function matchesProperty(key, value) {\n      return baseMatchesProperty(key + '', baseClone(value, true));\n    }\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=this] object The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * // use `_.runInContext` to avoid potential conflicts (esp. in Node.js)\n     * var _ = require('lodash').runInContext();\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj && keys(source),\n            methodNames = props && props.length && baseFunctions(source, props);\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__);\n                (result.__actions__ = arrayCopy(this.__actions__)).push({ 'func': func, 'args': arguments, 'thisArg': object });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              var args = [this.value()];\n              push.apply(args, arguments);\n              return func.apply(object, args);\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function which returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function which returns the property value of `key` on a given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * var getName = _.property('user');\n     *\n     * _.map(users, getName);\n     * // => ['fred', barney']\n     *\n     * _.pluck(_.sortBy(users, getName), 'user');\n     * // => ['barney', 'fred']\n     */\n    function property(key) {\n      return baseProperty(key + '');\n    }\n\n    /**\n     * The inverse of `_.property`; this method creates a function which returns\n     * the property value of a given key on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to inspect.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'a': 3, 'b': 1, 'c': 2 };\n     *\n     * _.map(['a', 'c'], _.propertyOf(object));\n     * // => [3, 2]\n     *\n     * _.sortBy(['a', 'b', 'c'], _.propertyOf(object));\n     * // => ['b', 'c', 'a']\n     */\n    function propertyOf(object) {\n      return function(key) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it\n     * defaults to `start` with `start` becoming `0`. If `start` is less than\n     * `end` a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = null;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(ceil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = +n;\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var isFilter = index == LAZY_FILTER_FLAG,\n          isWhile = index == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var result = this.clone(),\n            filtered = result.__filtered__,\n            iteratees = result.__iteratees__ || (result.__iteratees__ = []);\n\n        result.__filtered__ = filtered || isFilter || (isWhile && result.__dir__ < 0);\n        iteratees.push({ 'iteratee': getCallback(iteratee, thisArg, 3), 'type': index });\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      var countName = '__' + methodName + 'Count__',\n          whileName = methodName + 'While';\n\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n == null ? 1 : nativeMax(floor(n) || 0, 0);\n\n        var result = this.clone();\n        if (result.__filtered__) {\n          var value = result[countName];\n          result[countName] = index ? nativeMin(value, n) : (value + n);\n        } else {\n          var views = result.__views__ || (result.__views__ = []);\n          views.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n\n      LazyWrapper.prototype[methodName + 'RightWhile'] = function(predicate, thisArg) {\n        return this.reverse()[whileName](predicate, thisArg).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : baseProperty;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.dropWhile = function(predicate, thisArg) {\n      var done;\n      predicate = getCallback(predicate, thisArg, 3);\n      return this.filter(function(value, index, array) {\n        return done || (done = !predicate(value, index, array));\n      });\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 3);\n      return this.filter(function(value, index, array) {\n        return !predicate(value, index, array);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n      var result = start < 0 ? this.takeRight(-start) : this.drop(start);\n\n      if (typeof end != 'undefined') {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.drop(0);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName],\n          retUnwrapped = /^(?:first|last)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = arguments,\n            chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (retUnwrapped && !chainAll) {\n          return onlyLazy\n            ? func.call(value)\n            : lodashFunc.call(lodash, this.value());\n        }\n        var interceptor = function(value) {\n          var otherArgs = [value];\n          push.apply(otherArgs, args);\n          return lodashFunc.apply(lodash, otherArgs);\n        };\n        if (isLazy || isArray(value)) {\n          var wrapper = onlyLazy ? value : new LazyWrapper(this),\n              result = func.apply(wrapper, args);\n\n          if (!retUnwrapped && (isHybrid || result.__actions__)) {\n            var actions = result.__actions__ || (result.__actions__ = []);\n            actions.push({ 'func': thru, 'args': [interceptor], 'thisArg': lodash });\n          }\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array.prototype` functions to `lodash.prototype`.\n    arrayEach(['concat', 'join', 'pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Narwhal or Rhino -require.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],3:[function(require,module,exports){\n/// <reference path=\"../typings/bundle.d.ts\" />\n'use strict';\nvar Renderer = require('./Renderer');\nvar Stroke = require('./Stroke');\nvar Point = require('./Point');\nvar Color = require('./Color');\nvar Transform = require('./Transform');\nfunction touchPoint(touch) {\n    return new Point(touch.clientX, touch.clientY);\n}\nvar InteractionState;\n(function (InteractionState) {\n    InteractionState[InteractionState[\"None\"] = 0] = \"None\";\n    InteractionState[InteractionState[\"Pressed\"] = 1] = \"Pressed\";\n    InteractionState[InteractionState[\"Pinching\"] = 2] = \"Pinching\";\n})(InteractionState || (InteractionState = {}));\nvar CanvasViewController = (function () {\n    function CanvasViewController() {\n        this.interactionState = 0 /* None */;\n        this.transform = Transform.identity();\n        this.initialTransform = Transform.identity();\n        this.isStroking = false;\n        this.strokeWidth = 2;\n        this.strokeColor = new Color(0, 0, 0, 1);\n        this.renderer = new Renderer();\n        this.currentStrokeRenderer = new Renderer();\n        var view = this.view = document.createElement('div');\n        view.style.width = '100%';\n        view.style.height = '100%';\n        view.appendChild(this.renderer.view);\n        view.appendChild(this.currentStrokeRenderer.view);\n        view.addEventListener('mousemove', this.onMouseMove.bind(this));\n        view.addEventListener('mousedown', this.onMouseDown.bind(this));\n        view.addEventListener('mouseup', this.onMouseUp.bind(this));\n        view.addEventListener('touchmove', this.onTouchMove.bind(this));\n        view.addEventListener('touchstart', this.onTouchStart.bind(this));\n        view.addEventListener('touchend', this.onTouchEnd.bind(this));\n        view.addEventListener('wheel', this.onWheel.bind(this));\n    }\n    CanvasViewController.prototype.pinchStart = function (points) {\n        this.interactionState = 2 /* Pinching */;\n        this.pinchStartPoints = points;\n        this.initialTransform = this.transform;\n    };\n    CanvasViewController.prototype.pinchMove = function (points) {\n        if (this.interactionState !== 2 /* Pinching */) {\n            this.pinchStart(points);\n        }\n        var scale = points[0].sub(points[1]).length / this.pinchStartPoints[0].sub(this.pinchStartPoints[1]).length;\n        var centerStart = this.pinchStartPoints[0].add(this.pinchStartPoints[1]).mul(0.5);\n        var center = points[0].add(points[1]).mul(0.5);\n        var diff = center.sub(centerStart.mul(scale));\n        var transform = Transform.scale(scale).merge(Transform.translation(diff));\n        var transform = this.initialTransform.merge(transform);\n        this.updateTransform(transform);\n        this.renderer.update();\n    };\n    CanvasViewController.prototype.pinchEnd = function () {\n        this.interactionState = 0 /* None */;\n    };\n    CanvasViewController.prototype.pressStart = function (pos) {\n        this.interactionState = 1 /* Pressed */;\n        pos = pos.transform(this.transform.invert());\n        var stroke = this.currentStroke = new Stroke();\n        stroke.width = this.strokeWidth;\n        stroke.color = this.strokeColor;\n        stroke.points.push(pos);\n        this.currentStrokeRenderer.strokes = [stroke];\n    };\n    CanvasViewController.prototype.pressMove = function (pos) {\n        if (this.interactionState === 1 /* Pressed */) {\n            pos = pos.transform(this.transform.invert());\n            this.currentStroke.points.push(pos);\n            this.currentStrokeRenderer.update();\n        }\n    };\n    CanvasViewController.prototype.pressEnd = function () {\n        var _this = this;\n        if (this.interactionState === 1 /* Pressed */) {\n            this.renderer.strokes.push(this.currentStroke);\n            requestAnimationFrame(function () {\n                _this.renderer.drawOther(_this.currentStrokeRenderer);\n                _this.currentStrokeRenderer.strokes = [];\n                _this.currentStrokeRenderer.clear();\n            });\n            this.interactionState = 0 /* None */;\n        }\n    };\n    CanvasViewController.prototype.updateTransform = function (transform) {\n        this.transform = transform;\n        this.renderer.transform = transform;\n        this.currentStrokeRenderer.transform = transform;\n    };\n    CanvasViewController.prototype.onMouseMove = function (ev) {\n        //console.log(`mouse move at ${ev.clientX}, ${ev.clientY}`);\n        this.pressMove(new Point(ev.clientX, ev.clientY));\n    };\n    CanvasViewController.prototype.onMouseDown = function (ev) {\n        //console.log(`mouse down at ${ev.clientX}, ${ev.clientY}`);\n        this.pressStart(new Point(ev.clientX, ev.clientY));\n    };\n    CanvasViewController.prototype.onMouseUp = function (ev) {\n        //console.log(`mouse up at ${ev.clientX}, ${ev.clientY}`);\n        this.pressEnd();\n    };\n    CanvasViewController.prototype.onTouchMove = function (ev) {\n        if (ev.touches.length === 1) {\n            var touch = ev.touches[0];\n            this.pressMove(touchPoint(touch));\n        }\n        else if (ev.touches.length === 2) {\n            this.pinchMove([0, 1].map(function (i) { return touchPoint(ev.touches[i]); }));\n        }\n        ev.preventDefault();\n    };\n    CanvasViewController.prototype.onTouchStart = function (ev) {\n        if (ev.touches.length === 1) {\n            var touch = ev.touches[0];\n            this.pressStart(touchPoint(touch));\n        }\n        else if (ev.touches.length === 2) {\n            this.pinchStart([0, 1].map(function (i) { return touchPoint(ev.touches[i]); }));\n        }\n        ev.preventDefault();\n    };\n    CanvasViewController.prototype.onTouchEnd = function (ev) {\n        this.pressEnd();\n        this.pinchEnd();\n        ev.preventDefault();\n    };\n    CanvasViewController.prototype.onWheel = function (ev) {\n        var transform = this.transform.translate(new Point(-ev.deltaX, -ev.deltaY));\n        this.updateTransform(transform);\n        this.renderer.update();\n        ev.preventDefault();\n    };\n    return CanvasViewController;\n})();\nmodule.exports = CanvasViewController;\n\n},{\"./Color\":4,\"./Point\":6,\"./Renderer\":8,\"./Stroke\":9,\"./Transform\":10}],4:[function(require,module,exports){\n'use strict';\nvar Color = (function () {\n    function Color(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n    Color.prototype.toString = function () {\n        return \"rgba(\" + this.r + \", \" + this.g + \", \" + this.b + \", \" + this.a + \")\";\n    };\n    return Color;\n})();\nmodule.exports = Color;\n\n},{}],5:[function(require,module,exports){\n'use strict';\nvar Point = require('./Point');\nvar Rect = require('./Rect');\nvar Bezier = require('./vendor/bezier');\nvar Curve = (function () {\n    function Curve(start, control1, control2, end) {\n        this.start = start;\n        this.control1 = control1;\n        this.control2 = control2;\n        this.end = end;\n    }\n    Curve.prototype.boundingRect = function () {\n        var bezier = new Bezier([this.start, this.control1, this.control2, this.end]);\n        var bbox = bezier.bbox();\n        return new Rect(new Point(bbox.x.min, bbox.y.min), new Point(bbox.x.max, bbox.y.max));\n    };\n    Curve.catmullRom = function (prev, start, end, next) {\n        return new Curve(start, start.add(end.sub(prev).div(6)), end.sub(next.sub(start).div(6)), end);\n    };\n    Curve.bSpline = function (c0, c1, c2, c3) {\n        return new Curve(c0.add(c1.mul(4)).add(c2).div(6), c1.mul(2).add(c2).div(3), c2.mul(2).add(c1).div(3), c3.add(c2.mul(4)).add(c1).div(6));\n    };\n    return Curve;\n})();\nmodule.exports = Curve;\n\n},{\"./Point\":6,\"./Rect\":7,\"./vendor/bezier\":11}],6:[function(require,module,exports){\n'use strict';\nvar Point = (function () {\n    function Point(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    Point.prototype.add = function (a) {\n        return new Point(this.x + a.x, this.y + a.y);\n    };\n    Point.prototype.sub = function (a) {\n        return new Point(this.x - a.x, this.y - a.y);\n    };\n    Point.prototype.mul = function (a) {\n        return new Point(this.x * a, this.y * a);\n    };\n    Point.prototype.div = function (a) {\n        return new Point(this.x / a, this.y / a);\n    };\n    Object.defineProperty(Point.prototype, \"length\", {\n        get: function () {\n            return Math.sqrt(this.x * this.x + this.y * this.y);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Point.prototype.floor = function () {\n        return new Point(Math.floor(this.x), Math.floor(this.y));\n    };\n    Point.prototype.ceil = function () {\n        return new Point(Math.ceil(this.x), Math.ceil(this.y));\n    };\n    Point.prototype.transform = function (t) {\n        var x = t.m11 * this.x + t.m21 * this.y + t.dx;\n        var y = t.m12 * this.x + t.m22 * this.y + t.dy;\n        return new Point(x, y);\n    };\n    Point.prototype.toString = function () {\n        return \"Point(\" + this.x + \",\" + this.y + \")\";\n    };\n    return Point;\n})();\nmodule.exports = Point;\n\n},{}],7:[function(require,module,exports){\n'use strict';\nvar Point = require('./Point');\nvar Rect = (function () {\n    function Rect(min, max) {\n        this.min = min;\n        this.max = max;\n    }\n    Object.defineProperty(Rect.prototype, \"x\", {\n        get: function () {\n            return this.min.x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"y\", {\n        get: function () {\n            return this.min.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"width\", {\n        get: function () {\n            return this.max.x - this.min.x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"height\", {\n        get: function () {\n            return this.max.y - this.min.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rect.prototype.union = function (other) {\n        var min = new Point(Math.min(this.min.x, other.min.x), Math.min(this.min.y, other.min.y));\n        var max = new Point(Math.max(this.max.x, other.max.x), Math.max(this.max.y, other.max.y));\n        return new Rect(min, max);\n    };\n    Rect.prototype.outset = function (offset) {\n        var diff = new Point(offset, offset);\n        return new Rect(this.min.sub(diff), this.max.add(diff));\n    };\n    Rect.prototype.transform = function (transform) {\n        var p1 = this.min.transform(transform);\n        var p2 = this.max.transform(transform);\n        return Rect.fromPoints(p1, p2);\n    };\n    Rect.prototype.boundingIntegerRect = function () {\n        return new Rect(this.min.floor(), this.max.ceil());\n    };\n    Rect.prototype.toString = function () {\n        return \"Rect(\" + this.min + \",\" + this.max + \")\";\n    };\n    Rect.fromPoints = function (p1, p2) {\n        var min = new Point(Math.min(p1.x, p2.x), Math.min(p1.y, p2.y));\n        var max = new Point(Math.max(p1.x, p2.x), Math.max(p1.y, p2.y));\n        return new Rect(min, max);\n    };\n    Rect.empty = function () {\n        return new Rect(new Point(0, 0), new Point(0, 0));\n    };\n    return Rect;\n})();\nmodule.exports = Rect;\n\n},{\"./Point\":6}],8:[function(require,module,exports){\n/// <reference path=\"../typings/bundle.d.ts\" />\n'use strict';\nvar Transform = require('./Transform');\nvar Renderer = (function () {\n    function Renderer() {\n        this.strokes = [];\n        this.isRenderQueued = false;\n        this.devicePixelRatio = 1;\n        this.transform = Transform.identity();\n        this.width = 0;\n        this.height = 0;\n        this.view = document.createElement('canvas');\n        this.context = this.view.getContext('2d');\n        window.addEventListener('resize', this.onResize.bind(this));\n        this.onResize();\n    }\n    Renderer.prototype.add = function (stroke) {\n        this.strokes.push(stroke);\n    };\n    Renderer.prototype.update = function () {\n        var _this = this;\n        if (!this.isRenderQueued) {\n            this.isRenderQueued = true;\n            requestAnimationFrame(function () {\n                _this.clear();\n                _this.render();\n                _this.isRenderQueued = false;\n            });\n        }\n    };\n    Renderer.prototype.clear = function () {\n        this.clearTransform();\n        this.context.clearRect(0, 0, this.width * this.devicePixelRatio, this.height * this.devicePixelRatio);\n        this.setTransform();\n    };\n    Renderer.prototype.clearStrokes = function () {\n        this.clearTransform();\n        var rect = this.strokes.map(function (stroke) { return stroke.boundingRect(); }).reduce(function (union, rect) { return union.union(rect); }).transform(this.createTransform()).boundingIntegerRect();\n        console.log(\"clearing \" + rect);\n        this.context.clearRect(rect.x, rect.y, rect.width, rect.height);\n        this.setTransform();\n    };\n    Renderer.prototype.drawOther = function (other) {\n        this.clearTransform();\n        this.context.drawImage(other.view, 0, 0);\n        this.setTransform();\n    };\n    Renderer.prototype.render = function () {\n        this.strokes.forEach(this.renderStroke.bind(this));\n    };\n    Renderer.prototype.renderStroke = function (stroke, smooth) {\n        if (smooth === void 0) { smooth = true; }\n        var count = stroke.points.length;\n        if (count === 0) {\n            return;\n        }\n        var context = this.context;\n        context.globalCompositeOperation = stroke.composition;\n        context.lineCap = 'round';\n        context.lineJoin = 'round';\n        this.setTransform();\n        if (count === 1) {\n            var pos = stroke.points[0];\n            context.fillStyle = stroke.color.toString();\n            context.beginPath();\n            context.arc(pos.x, pos.y, stroke.width / 2, 0, Math.PI * 2);\n            context.fill();\n        }\n        if (count > 1) {\n            context.lineWidth = stroke.width;\n            context.strokeStyle = stroke.color.toString();\n            context.beginPath();\n            stroke.points.forEach(function (pos, i) {\n                if (i === 0) {\n                    context.moveTo(pos.x, pos.y);\n                }\n                else {\n                    var curve = stroke.curveAt(i);\n                    context.bezierCurveTo(curve.control1.x, curve.control1.y, curve.control2.x, curve.control2.y, curve.end.x, curve.end.y);\n                }\n            });\n            context.stroke();\n        }\n    };\n    Renderer.prototype.clearTransform = function () {\n        this.context.setTransform(1, 0, 0, 1, 0, 0);\n    };\n    Renderer.prototype.createTransform = function () {\n        return this.transform.merge(Transform.scale(this.devicePixelRatio));\n    };\n    Renderer.prototype.setTransform = function () {\n        var t = this.createTransform();\n        this.context.setTransform(t.m11, t.m12, t.m21, t.m22, t.dx, t.dy);\n    };\n    Renderer.prototype.onResize = function () {\n        var width = this.width = window.innerWidth;\n        var height = this.height = window.innerHeight;\n        var devicePixelRatio = this.devicePixelRatio = window.devicePixelRatio || 1;\n        console.log(\"resized to \" + width + \" * \" + height + \", pixel ratio \" + devicePixelRatio);\n        this.view.width = width * devicePixelRatio;\n        this.view.height = height * devicePixelRatio;\n        this.update();\n    };\n    return Renderer;\n})();\nmodule.exports = Renderer;\n\n},{\"./Transform\":10}],9:[function(require,module,exports){\n'use strict';\nvar Point = require('./Point');\nvar Curve = require('./Curve');\nvar Color = require('./Color');\nvar Rect = require('./Rect');\nvar _ = require('lodash');\nvar Stroke = (function () {\n    function Stroke() {\n        this.points = [];\n        this.color = new Color(0, 0, 0, 1);\n        this.composition = 'source-over';\n        this.width = 1;\n    }\n    Stroke.prototype.toCurves = function () {\n        var _this = this;\n        if (this.points.length <= 1) {\n            return [];\n        }\n        return _.times(this.points.length - 1, function (i) { return _this.curveAt(i + 1); });\n    };\n    Stroke.prototype.boundingRect = function () {\n        if (this.points.length === 0) {\n            return Rect.empty();\n        }\n        else if (this.points.length === 1) {\n            var p = this.points[0];\n            var radius = this.width * 0.5;\n            return new Rect(p.sub(new Point(radius, radius)), p.add(new Point(radius, radius)));\n        }\n        else {\n            return this.toCurves().map(function (curve) { return curve.boundingRect(); }).reduce(function (union, rect) { return union.union(rect); }).outset(this.width * 0.5);\n        }\n    };\n    Stroke.prototype.curveAt = function (i) {\n        var prev = this.points[i - 2];\n        var start = this.points[i - 1];\n        var end = this.points[i];\n        var next = this.points[i + 1];\n        return Curve.bSpline(prev || start, start, end, next || end);\n    };\n    return Stroke;\n})();\nmodule.exports = Stroke;\n\n},{\"./Color\":4,\"./Curve\":5,\"./Point\":6,\"./Rect\":7,\"lodash\":2}],10:[function(require,module,exports){\n'use strict';\nvar Transform = (function () {\n    function Transform(m11, m12, m21, m22, dx, dy) {\n        this.m11 = m11;\n        this.m12 = m12;\n        this.m21 = m21;\n        this.m22 = m22;\n        this.dx = dx;\n        this.dy = dy;\n    }\n    Transform.prototype.merge = function (other) {\n        // other * this\n        // [P u] [Q v]   [PQ Pv + u]\n        // [0 1] [0 1] = [0  1     ]\n        var m11 = other.m11 * this.m11 + other.m21 * this.m12;\n        var m12 = other.m11 * this.m21 + other.m21 * this.m22;\n        var m21 = other.m12 * this.m11 + other.m22 * this.m12;\n        var m22 = other.m12 * this.m21 + other.m22 * this.m22;\n        var dx = other.m11 * this.dx + other.m21 * this.dy + other.dx;\n        var dy = other.m12 * this.dx + other.m22 * this.dy + other.dy;\n        return new Transform(m11, m12, m21, m22, dx, dy);\n    };\n    Transform.prototype.invert = function () {\n        // [P u]^-1   [P^-1 -P^1 * v]\n        // [0 1]    = [0    1       ]\n        var det = this.m11 * this.m22 - this.m12 * this.m21;\n        var m11 = this.m22 / det;\n        var m12 = -this.m12 / det;\n        var m21 = -this.m21 / det;\n        var m22 = this.m11 / det;\n        var dx = -(m11 * this.dx + m21 * this.dy);\n        var dy = -(m12 * this.dx + m22 * this.dy);\n        return new Transform(m11, m12, m21, m22, dx, dy);\n    };\n    Transform.prototype.translate = function (delta) {\n        return new Transform(this.m11, this.m12, this.m21, this.m22, this.dx + delta.x, this.dy + delta.y);\n    };\n    Transform.prototype.scale = function (scale) {\n        return new Transform(this.m11 * scale, this.m12 * scale, this.m21 * scale, this.m22 * scale, this.dx * scale, this.dy * scale);\n    };\n    Transform.identity = function () {\n        return new Transform(1, 0, 0, 1, 0, 0);\n    };\n    Transform.scale = function (scale) {\n        return new Transform(scale, 0, 0, scale, 0, 0);\n    };\n    Transform.translation = function (translation) {\n        return new Transform(1, 0, 0, 1, translation.x, translation.y);\n    };\n    return Transform;\n})();\nmodule.exports = Transform;\n\n},{}],11:[function(require,module,exports){\n/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n  \n  This code is MIT licensed.\n**/\n(function() {\n  \"use strict\";\n\n  // Math functions. I hate the Math namespace with a passion.\n  var abs = Math.abs,\n      min = Math.min,\n      max = Math.max,\n      cos = Math.cos,\n      sin = Math.sin,\n      acos = Math.acos,\n      asin = Math.asin,\n      atan2 = Math.atan2,\n      sqrt = Math.sqrt,\n      crt = function(v) { if(v<0) return -Math.pow(-v,1/3); return Math.pow(v,1/3); },\n      pi = Math.PI,\n      tau = 2*pi;\n\n  // a zero coordinate, which is surprisingly useful\n  var ZERO = {x:0,y:0,z:0};\n\n  // Bezier utility functions\n  var utils = {\n    // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n    Tvalues: [\n      -0.0640568928626056260850430826247450385909,\n       0.0640568928626056260850430826247450385909,\n      -0.1911188674736163091586398207570696318404,\n       0.1911188674736163091586398207570696318404,\n      -0.3150426796961633743867932913198102407864,\n       0.3150426796961633743867932913198102407864,\n      -0.4337935076260451384870842319133497124524,\n       0.4337935076260451384870842319133497124524,\n      -0.5454214713888395356583756172183723700107,\n       0.5454214713888395356583756172183723700107,\n      -0.6480936519369755692524957869107476266696,\n       0.6480936519369755692524957869107476266696,\n      -0.7401241915785543642438281030999784255232,\n       0.7401241915785543642438281030999784255232,\n      -0.8200019859739029219539498726697452080761,\n       0.8200019859739029219539498726697452080761,\n      -0.8864155270044010342131543419821967550873,\n       0.8864155270044010342131543419821967550873,\n      -0.9382745520027327585236490017087214496548,\n       0.9382745520027327585236490017087214496548,\n      -0.9747285559713094981983919930081690617411,\n       0.9747285559713094981983919930081690617411,\n      -0.9951872199970213601799974097007368118745,\n       0.9951872199970213601799974097007368118745\n    ],\n\n    // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n    Cvalues: [\n      0.1279381953467521569740561652246953718517,\n      0.1279381953467521569740561652246953718517,\n      0.1258374563468282961213753825111836887264,\n      0.1258374563468282961213753825111836887264,\n      0.1216704729278033912044631534762624256070,\n      0.1216704729278033912044631534762624256070,\n      0.1155056680537256013533444839067835598622,\n      0.1155056680537256013533444839067835598622,\n      0.1074442701159656347825773424466062227946,\n      0.1074442701159656347825773424466062227946,\n      0.0976186521041138882698806644642471544279,\n      0.0976186521041138882698806644642471544279,\n      0.0861901615319532759171852029837426671850,\n      0.0861901615319532759171852029837426671850,\n      0.0733464814110803057340336152531165181193,\n      0.0733464814110803057340336152531165181193,\n      0.0592985849154367807463677585001085845412,\n      0.0592985849154367807463677585001085845412,\n      0.0442774388174198061686027482113382288593,\n      0.0442774388174198061686027482113382288593,\n      0.0285313886289336631813078159518782864491,\n      0.0285313886289336631813078159518782864491,\n      0.0123412297999871995468056670700372915759,\n      0.0123412297999871995468056670700372915759\n    ],\n    arcfn: function(p, t, derivativeFn) {\n      var d = derivativeFn(t);\n      d = d.x*d.x + d.y*d.y;\n      if(typeof d.z !== \"undefined\") {\n        d += d.z*d.z;\n      }\n      return sqrt(d);\n    },\n    length: function(p, derivativeFn) {\n      var z=0.5,sum=0,len=this.Tvalues.length,i,t;\n      for(i=0; i<len; i++) {\n        t = z * this.Tvalues[i] + z;\n        sum += this.Cvalues[i] * this.arcfn(p,t,derivativeFn);\n      }\n      return z * sum;\n    },\n    map: function(v, ds,de, ts,te) {\n      var d1 = de-ds, d2 = te-ts, v2 =  v-ds, r = v2/d1;\n      return ts + d2*r;\n    },\n    lerp: function(r, v1, v2) {\n      var ret = {\n        x: v1.x + r*(v2.x-v1.x),\n        y: v1.y + r*(v2.y-v1.y)\n      };\n      if(!!v1.z && !!v2.z) {\n        ret.z =  v1.z + r*(v2.z-v1.z);\n      }\n      return ret;\n    },\n    pointToString: function(p) {\n      var s = p.x+\"/\"+p.y;\n      if(typeof p.z !== \"undefined\") {\n        s += \"/\"+p.z;\n      }\n      return s;\n    },\n    pointsToString: function(points) {\n      return \"[\" + points.map(this.pointToString).join(\", \") + \"]\";\n    },\n    copy: function(obj) {\n      return JSON.parse(JSON.stringify(obj));\n    },\n    angle: function(o,v1,v2) {\n      var dx1 = v1.x - o.x,\n          dy1 = v1.y - o.y,\n          dx2 = v2.x - o.x,\n          dy2 = v2.y - o.y,\n          cross = dx1*dy2 - dy1*dx2,\n          m1 = sqrt(dx1*dx1+dy1*dy1),\n          m2 = sqrt(dx2*dx2+dy2*dy2),\n          dot;\n      dx1/=m1; dy1/=m1; dx2/=m2; dy2/=m2;\n      dot = dx1*dx2 + dy1*dy2;\n      return atan2(cross, dot);\n    },\n    lli8: function(x1,y1,x2,y2,x3,y3,x4,y4) {\n      var nx=(x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4),\n          ny=(x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4),\n          d=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);\n      if(d==0) { return false; }\n      return { x: nx/d, y: ny/d };\n    },\n    lli4: function(p1,p2,p3,p4) {\n      var x1 = p1.x, y1 = p1.y,\n          x2 = p2.x, y2 = p2.y,\n          x3 = p3.x, y3 = p3.y,\n          x4 = p4.x, y4 = p4.y;\n      return this.lli8(x1,y1,x2,y2,x3,y3,x4,y4);\n    },\n    lli: function(v1, v2) {\n      return this.lli4(v1,v1.c,v2,v2.c);\n    },\n    makeline: function(p1,p2) {\n      var x1 = p1.x, y1 = p1.y, x2 = p2.x, y2 = p2.y, dx = (x2-x1)/3, dy = (y2-y1)/3;\n      return new Bezier(x1, y1, x1+dx, y1+dy, x1+2*dx, y1+2*dy, x2, y2);\n    },\n    findbbox: function(sections) {\n      var mx=99999999,my=mx,MX=-mx,MY=MX;\n      sections.forEach(function(s) {\n        var bbox = s.bbox();\n        if(mx > bbox.x.min) mx = bbox.x.min;\n        if(my > bbox.y.min) my = bbox.y.min;\n        if(MX < bbox.x.max) MX = bbox.x.max;\n        if(MY < bbox.y.max) MY = bbox.y.max;\n      });\n      return {\n        x: { min: mx, mid:(mx+MX)/2, max: MX, size:MX-mx },\n        y: { min: my, mid:(my+MY)/2, max: MY, size:MY-my }\n      }\n    },\n    shapeintersections: function(s1, bbox1, s2, bbox2) {\n      if(!this.bboxoverlap(bbox1, bbox2)) return [];\n      var intersections = [];\n      var a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n      var a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n      a1.forEach(function(l1) {\n        if(l1.virtual) return;\n        a2.forEach(function(l2) {\n          if(l2.virtual) return;\n          var iss = l1.intersects(l2);\n          if(iss.length>0) {\n            iss.c1 = l1;\n            iss.c2 = l2;\n            iss.s1 = s1;\n            iss.s2 = s2;\n            intersections.push(iss);\n          }\n        });\n      });\n      return intersections;\n    },\n    makeshape: function(forward, back) {\n      var bpl = back.points.length;\n      var fpl = forward.points.length;\n      var start  = this.makeline(back.points[bpl-1], forward.points[0]);\n      var end    = this.makeline(forward.points[fpl-1], back.points[0]);\n      var shape  = {\n        startcap: start,\n        forward: forward,\n        back: back,\n        endcap: end,\n        bbox: this.findbbox([start, forward, back, end])\n      };\n      var self = this;\n      shape.intersections = function(s2) {\n        return self.shapeintersections(shape,shape.bbox,s2,s2.bbox);\n      };\n      return shape;\n    },\n    getminmax: function(curve, d, list) {\n      if(!list) return { min:0, max:0 };\n      var min=0xFFFFFFFFFFFFFFFF, max=-min,t,c;\n      if(list.indexOf(0)===-1) { list = [0].concat(list); }\n      if(list.indexOf(1)===-1) { list.push(1); }\n      for(var i=0,len=list.length; i<len; i++) {\n        t = list[i];\n        c = curve.get(t);\n        if(c[d] < min) { min = c[d]; }\n        if(c[d] > max) { max = c[d]; }\n      }\n      return { min:min, mid:(min+max)/2, max:max, size:max-min };\n    },\n    align: function(points, line) {\n      var tx = line.p1.x,\n          ty = line.p1.y,\n          a = -atan2(line.p2.y-ty, line.p2.x-tx),\n          d = function(v) {\n            return {\n              x: (v.x-tx)*cos(a) - (v.y-ty)*sin(a),\n              y: (v.x-tx)*sin(a) + (v.y-ty)*cos(a)\n            };\n          };\n      return points.map(d);\n    },\n    roots: function(points, line) {\n      line = line || {p1:{x:0,y:0},p2:{x:1,y:0}};\n      var order = points.length - 1;\n      var p = this.align(points, line);\n      var reduce = function(t) { return 0<=t && t <=1; };\n\n      if (order === 2) {\n        var a = p[0].y,\n            b = p[1].y,\n            c = p[2].y,\n            d = a - 2*b + c;\n        if(d!==0) {\n          var m1 = -sqrt(b*b-a*c),\n              m2 = -a+b,\n              v1 = -( m1+m2)/d,\n              v2 = -(-m1+m2)/d;\n          return [v1, v2].filter(reduce);\n        }\n        else if(b!==c && d===0) {\n          return [ (2*b-c)/2*(b-c) ].filter(reduce);\n        }\n        return [];\n      }\n\n      // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n      var pa = p[0].y,\n          pb = p[1].y,\n          pc = p[2].y,\n          pd = p[3].y,\n          d = (-pa + 3*pb - 3*pc + pd),\n          a = (3*pa - 6*pb + 3*pc) / d,\n          b = (-3*pa + 3*pb) / d,\n          c = pa / d,\n          p = (3*b - a*a)/3,\n          p3 = p/3,\n          q = (2*a*a*a - 9*a*b + 27*c)/27,\n          q2 = q/2,\n          discriminant = q2*q2 + p3*p3*p3,\n          u1,v1,x1,x2,x3;\n       if (discriminant < 0) {\n        var mp3 = -p/3,\n            mp33 = mp3*mp3*mp3,\n            r = sqrt( mp33 ),\n            t = -q/(2*r),\n            cosphi = t<-1 ? -1 : t>1 ? 1 : t,\n            phi = acos(cosphi),\n            crtr = crt(r),\n            t1 = 2*crtr;\n        x1 = t1 * cos(phi/3) - a/3;\n        x2 = t1 * cos((phi+tau)/3) - a/3;\n        x3 = t1 * cos((phi+2*tau)/3) - a/3;\n        return [x1, x2, x3].filter(reduce);\n      } else if(discriminant === 0) {\n        u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n        x1 = 2*u1-a/3;\n        x2 = -u1 - a/3;\n        return [x1,x2].filter(reduce);\n      } else {\n        var sd = sqrt(discriminant);\n        u1 = crt(-q2+sd);\n        v1 = crt(q2+sd);\n        return [u1-v1-a/3].filter(reduce);;\n      }\n    },\n    droots: function(p) {\n      // quadratic roots are easy\n      if(p.length === 3) {\n        var a = p[0],\n            b = p[1],\n            c = p[2],\n            d = a - 2*b + c;\n        if(d!==0) {\n          var m1 = -sqrt(b*b-a*c),\n              m2 = -a+b,\n              v1 = -( m1+m2)/d,\n              v2 = -(-m1+m2)/d;\n          return [v1, v2];\n        }\n        else if(b!==c && d===0) {\n          return [ (2*b-c)/(2*(b-c)) ];\n        }\n        return [];\n      }\n\n      // linear roots are even easier\n      if(p.length === 2) {\n        var a = p[0], b = p[1];\n        if(a!==b) { return [a/(a-b)]; }\n        return [];\n      }\n    },\n    bboxoverlap: function(b1,b2) {\n      var dims=['x','y'],len=dims.length,i,dim,l,t,d\n      for(i=0; i<len; i++) {\n        dim = dims[i];\n        l = b1[dim].mid;\n        t = b2[dim].mid;\n        d = (b1[dim].size + b2[dim].size)/2;\n        if(abs(l-t) >= d) return false;\n      }\n      return true;\n    },\n    expandbox: function(bbox, _bbox) {\n      if(_bbox.x.min < bbox.x.min) { bbox.x.min = _bbox.x.min; }\n      if(_bbox.y.min < bbox.y.min) { bbox.y.min = _bbox.y.min; }\n      if(_bbox.z && _bbox.z.min < bbox.z.min) { bbox.z.min = _bbox.z.min; }\n      if(_bbox.x.max > bbox.x.max) { bbox.x.max = _bbox.x.max; }\n      if(_bbox.y.max > bbox.y.max) { bbox.y.max = _bbox.y.max; }\n      if(_bbox.z && _bbox.z.max > bbox.z.max) { bbox.z.max = _bbox.z.max; }\n      bbox.x.mid = (bbox.x.min + bbox.x.max)/2;\n      bbox.y.mid = (bbox.y.min + bbox.y.max)/2;\n      if(bbox.z) { bbox.z.mid = (bbox.z.min + bbox.z.max)/2; }\n      bbox.x.size = bbox.x.max - bbox.x.min;\n      bbox.y.size = bbox.y.max - bbox.y.min;\n      if(bbox.z) { bbox.z.size = bbox.z.max - bbox.z.min; }\n    },\n    pairiteration: function(c1,c2) {\n      var c1b = c1.bbox(),\n          c2b = c2.bbox(),\n          r = 100000,\n          threshold = 0.5;\n      if(c1b.x.size + c1b.y.size < threshold && c2b.x.size + c2b.y.size < threshold) {\n        return [ ((r * (c1._t1+c1._t2)/2)|0)/r + \"/\" + ((r * (c2._t1+c2._t2)/2)|0)/r ];\n      }\n      var cc1 = c1.split(0.5),\n          cc2 = c2.split(0.5),\n          pairs = [\n            {left: cc1.left, right: cc2.left },\n            {left: cc1.left, right: cc2.right },\n            {left: cc1.right, right: cc2.right },\n            {left: cc1.right, right: cc2.left }];\n      pairs = pairs.filter(function(pair) {\n        return utils.bboxoverlap(pair.left.bbox(),pair.right.bbox());\n      });\n      var results = [];\n      if(pairs.length === 0) return results;\n      pairs.forEach(function(pair) {\n        results = results.concat(\n          utils.pairiteration(pair.left, pair.right)\n        );\n      })\n      results = results.filter(function(v,i) {\n        return results.indexOf(v) === i;\n      });\n      return results;\n    }\n  };\n\n  var PolyBezier = function(curves) {\n    this.curves = [];\n    this._3d = false;\n    if(!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  }\n\n  PolyBezier.prototype = {\n    valueOf: function() {\n      return this.toString();\n    },\n    toString: function() {\n      return utils.pointsToString(this.points);\n    },\n    addCurve: function(curve) {\n      this.curves.push(curve);\n      this._3d = this._3d || curve._3d;\n    },\n    length: function() {\n      return this.curves.map(function(v) { return v.length(); }).reduce(function(a,b) { return a+b; });\n    },\n    curve: function(idx) {\n      return this.curves[idx];\n    },\n    bbox: function() {\n      var c = this.curves;\n      var bbox = c[0].bbox();\n      for(var i=1; i<c.length; i++) {\n        utils.expandbox(bbox, c[i].bbox());\n      }\n      return bbox;\n    },\n    offset: function(d) {\n      var offset = [];\n      this.curves.forEach(function(v) {\n        offset = offset.concat(v.offset(d));\n      });\n      return new PolyBezier(offset);\n    },\n  };\n\n  /**\n   * Bezier curve constructor. The constructor argument can be one of three things:\n   *\n   * 1. array/4 of {x:..., y:..., z:...}, z optional\n   * 2. numerical array/8 ordered x1,y1,x2,y2,x3,y3,x4,y4\n   * 3. numerical array/12 ordered x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4\n   *\n   */\n  var Bezier = function(coords) {\n    var args = (coords && coords.forEach ? coords : arguments);\n    if(typeof args[0] === \"object\") {\n      args = [];\n      for(var i=0; i<coords.length; i++) {\n        ['x','y','z'].forEach(function(d) {\n          if(typeof coords[i][d] !== \"undefined\") {\n            args.push(coords[i][d]);\n          }\n        });\n      }\n    }\n    var len = args.length;\n    if(len!==6 && len!==8 && len!==9 && len!==12) {\n      throw new Error(\"This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)\");\n    }\n    var _3d = (len === 9 || len === 12);\n    this._3d = _3d;\n    var points = [];\n    for(var idx=0, step=(_3d ? 3 : 2); idx<len; idx+=step) {\n      var point = {\n        x: args[idx],\n        y: args[idx+1]\n      };\n      if(_3d) { point.z = args[idx+2] };\n      points.push(point);\n    }\n    this.order = points.length - 1;\n    this.points = points;\n    var dims = ['x','y'];\n    if(_3d) dims.push('z');\n    this.dims = dims;\n    this.dimlen = dims.length;\n    (function(curve) {\n      var a = utils.align(points, {p1:points[0], p2:points[curve.order]});\n      for(var i=0; i<a.length; i++) {\n        if(abs(a[i].y) > 0.0001) {\n          curve._linear = false;\n          return;\n        }\n      }\n      curve._linear = true;\n    }(this));\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  };\n\n  Bezier.utils = utils;\n\n  Bezier.prototype = {\n    valueOf: function() {\n      return this.toString();\n    },\n    toString: function() {\n      return utils.pointsToString(this.points);\n    },\n    toSVG: function(relative) {\n      if(this._3d) return false;\n      var p = this.points,\n          x = p[0].x,\n          y = p[0].y,\n          s = \"M \"+x+\" \"+y+\" \"+(this.order===2 ? \"Q \":\"C \");\n      for(var i=1, last=p.length; i<last; i++) { s += p[i].x+\" \"+p[i].y; }\n      return s;\n    },\n    update: function() {\n      // one-time compute derivative coordinates\n      this.dpoints = [];\n      for(var p=this.points, d=p.length, c=d-1; d>1; d--, c--) {\n        var list = [];\n        for(var j=0, dpt; j<c; j++) {\n          dpt = {\n            x: c * (p[j+1].x - p[j].x),\n            y: c * (p[j+1].y - p[j].y)\n          };\n          if(this._3d) {\n            dpt.z = c * (p[j+1].z - p[j].z);\n          }\n          list.push(dpt);\n        }\n        this.dpoints.push(list);\n        p = list;\n      };\n      this.computedirection();\n    },\n    computedirection: function() {\n      var points = this.points;\n      var angle = utils.angle(points[0], points[this.order], points[1]);\n      this.clockwise = angle > 0;\n    },\n    length: function() {\n      return utils.length(this.points, this.derivative.bind(this));\n    },\n    getLUT: function(steps) {\n      steps = steps || 100;\n      var points = [];\n      for(var t=0; t<=steps; t++) {\n        points.push(this.compute(t/steps));\n      }\n      return points;\n    },\n    get: function(t) {\n      return this.compute(t);\n    },\n    point: function(idx) {\n      return this.points[idx];\n    },\n    compute: function(t) {\n      // shortcuts\n      if(t===0) { return this.points[0]; }\n      if(t===1) { return this.points[this.order]; }\n      // plain computation\n      var mt = 1-t,\n          mt2 = mt*mt,\n          t2 = t*t,\n          a,b,c,d = 0,\n          p = this.points;\n      if(this.order===2) {\n        p = [p[0], p[1], p[2], ZERO];\n        a = mt2;\n        b = mt*t*2;\n        c = t2;\n      }\n      if(this.order===3) {\n        a = mt2*mt;\n        b = mt2*t*3;\n        c = mt*t2*3;\n        d = t*t2;\n      }\n      var ret = {\n        x: a*p[0].x + b*p[1].x + c*p[2].x + d*p[3].x,\n        y: a*p[0].y + b*p[1].y + c*p[2].y + d*p[3].y\n      };\n      if(this._3d) {\n        ret.z = a*p[0].z + b*p[1].z + c*p[2].z + d*p[3].z;\n      }\n      return ret;\n    },\n    raise: function() {\n      var p = this.points, np = [p[0]], i, k=p.length, pi, pim;\n      for (var i=1; i<k; i++) {\n        pi = p[i];\n        pim = p[i-1];\n        np[i] = {\n          x: (k-i)/k * pi.x + i/k * pim.x,\n          y: (k-i)/k * pi.y + i/k * pim.y\n        };\n      }\n      np[k] = p[k-1];\n      return new Bezier(np);\n    },\n    derivative: function(t) {\n      var mt = 1-t,\n          a,b,c=0,\n          p = this.dpoints[0];\n      if(this.order===2) { p = [p[0], p[1], ZERO]; a = mt; b = t; }\n      if(this.order===3) { a = mt*mt; b = mt*t*2; c = t*t; }\n      var ret = {\n        x: a*p[0].x + b*p[1].x + c*p[2].x,\n        y: a*p[0].y + b*p[1].y + c*p[2].y\n      };\n      if(this._3d) {\n        ret.z = a*p[0].z + b*p[1].z + c*p[2].z;\n      }\n      return ret;\n    },\n    normal: function(t) {\n      return this._3d ? this.__normal3(t) : this.__normal2(t);\n    },\n    __normal2: function(t) {\n      var d = this.derivative(t);\n      var q = sqrt(d.x*d.x + d.y*d.y)\n      return { x: -d.y/q, y: d.x/q };\n    },\n    __normal3: function() {\n      // see http://stackoverflow.com/questions/25453159\n      var r1 = this.derivative(t),\n          r2 = this.derivative(t+0.01),\n          q1 = sqrt(r1.x*r1.x + r1.y*r1.y + r1.z*r1.z),\n          q2 = sqrt(r2.x*r2.x + r2.y*r2.y + r2.z*r2.z);\n      r1.x /= q1; r1.y /= q1; r1.z /= q1;\n      r2.x /= q2; r2.y /= q2; r2.z /= q2;\n      // cross product\n      var c = {\n        x: r2.y*r1.z - r2.z*r1.y,\n        y: r2.z*r1.x - r2.x*r1.z,\n        z: r2.x*r1.y - r2.y*r1.x\n      };\n      var m = sqrt(c.x*c.x + c.y*c.y + c.z*c.z);\n      c.x /= m; c.y /= m; c.z /= m;\n      // rotation matrix\n      var R = [   c.x*c.x,   c.x*c.y-c.z, c.x*c.z+c.y,\n                c.x*c.y+c.z,   c.y*c.y,   c.y*c.z-c.x,\n                c.x*c.z-c.y, c.y*c.z+c.x,   c.z*c.z    ];\n      // normal vector:\n      var n = {\n        x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n        y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n        z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z\n      };\n      return n;\n    },\n    split: function(t1, t2) {\n      // shortcuts\n      if(t1===0 && !!t2) { return this.split(t2).left; }\n      if(t2===1) { return this.split(t1).right; }\n      // no shortcut: use \"de Casteljau\" iteration.\n      var p = this.points,\n          _p = [],\n          pt,\n          q = [],\n          idx = 0,\n          i=0,\n          l=0;\n      q[idx++] = p[0];\n      q[idx++] = p[1];\n      q[idx++] = p[2];\n      if(this.order === 3) { q[idx++] = p[3]; }\n      // we lerp between all points at each iteration, until we have 1 point left.\n      while(p.length>1) {\n        _p = [];\n        for(i=0, l=p.length-1; i<l; i++) {\n          pt = utils.lerp(t1,p[i],p[i+1]);\n          q[idx++] = pt;\n          _p.push(pt);\n        }\n        p = _p;\n      }\n      var result = {\n        left: this.order === 2 ? new Bezier([q[0],q[3],q[5]]) : new Bezier([q[0],q[4],q[7],q[9]]),\n        right: this.order === 2 ? new Bezier([q[5],q[4],q[2]]) : new Bezier([q[9],q[8],q[6],q[3]]),\n        span: q\n      };\n\n      // make sure we bind _t1/_t2 information!\n      result.left._t1  = utils.map(0,  0,1, this._t1,this._t2);\n      result.left._t2  = utils.map(t1, 0,1, this._t1,this._t2);\n      result.right._t1 = utils.map(t1, 0,1, this._t1,this._t2);\n      result.right._t2 = utils.map(1,  0,1, this._t1,this._t2);\n\n      // if we have no t2, we're done\n      if(!t2) { return result; }\n\n      // if we have a t2, split again:\n      t2 = utils.map(t2,t1,1,0,1);\n      var subsplit = result.right.split(t2);\n      return subsplit.left;\n    },\n    inflections: function() {\n      var dims = this.dims,\n          len = this.dimlen,\n          result={},\n          roots=[],\n          p, mfn;\n      dims.forEach(function(dim) {\n        mfn = function(v) { return v[dim]; };\n        p = this.dpoints[0].map(mfn);\n        result[dim] = utils.droots(p);\n        if(this.order === 3) {\n          p = this.dpoints[1].map(mfn);\n          result[dim] = result[dim].concat(utils.droots(p));\n        }\n        result[dim] = result[dim].filter(function(t) { return (t>=0 && t<=1); });\n        roots = roots.concat(result[dim].sort());\n      }.bind(this));\n      roots.sort();\n      result.values = roots;\n      return result;\n    },\n    bbox: function() {\n      var inflections = this.inflections(), result = {};\n      this.dims.forEach(function(d) {\n        result[d] = utils.getminmax(this, d, inflections[d]);\n      }.bind(this));\n      return result;\n    },\n    overlaps: function(curve) {\n      var lbbox = this.bbox(),\n          tbbox = curve.bbox();\n      return utils.bboxoverlap(lbbox,tbbox);\n    },\n    offset: function(t, d) {\n      if(typeof d !== \"undefined\") {\n        var c = this.get(t);\n        var n = this.normal(t);\n        var ret = {\n          c: c,\n          n: n,\n          x: c.x + n.x * d,\n          y: c.y + n.y * d\n        };\n        if(this._3d) {\n          ret.z = c.z + n.z * d;\n        };\n        return ret;\n      }\n      if(this._linear) {\n        var nv = this.normal(0);\n        var coords = this.points.map(function(p) {\n          var ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y\n          };\n          if(p.z && n.z) { ret.z = p.z + t * nv.z; }\n          return ret;\n        });\n        return [new Bezier(coords)];\n      }\n      var reduced = this.reduce();\n      return reduced.map(function(s) {\n        return s.scale(t);\n      });\n    },\n    simple: function() {\n      if(this.order===3) {\n        var a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n        var a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n        if(a1>0 && a2<0 || a1<0 && a2>0) return false;\n      }\n      var n1 = this.normal(0);\n      var n2 = this.normal(1);\n      var s = n1.x*n2.x + n1.y*n2.y;\n      if(this._3d) { s += n1.z*n2.z; }\n      var angle = abs(acos(s));\n      return angle < pi/3;\n    },\n    reduce: function() {\n      var i, t1=0, t2=0, step=0.01, segment, pass1=[], pass2=[];\n      // first pass: split on inflections\n      var inflections = this.inflections().values;\n      if(inflections.indexOf(0)===-1) { inflections = [0].concat(inflections); }\n      if(inflections.indexOf(1)===-1) { inflections.push(1); }\n      for(t1=inflections[0], i=1; i<inflections.length; i++) {\n        t2 = inflections[i];\n        segment = this.split(t1,t2);\n        segment._t1 = t1;\n        segment._t2 = t2;\n        pass1.push(segment);\n        t1 = t2;\n      }\n      // second pass: further reduce these segments to simple segments\n      pass1.forEach(function(p1) {\n        t1=0;\n        t2=0;\n        while(t2 <= 1) {\n          for(t2=t1+step; t2<=1+step; t2+=step) {\n            segment = p1.split(t1,t2);\n            if(!segment.simple()) {\n              t2 -= step;\n              if(abs(t1-t2)<step) {\n                // we can never form a reduction\n                return [];\n              }\n              segment = p1.split(t1,t2);\n              segment._t1 = utils.map(t1,0,1,p1._t1,p1._t2);\n              segment._t2 = utils.map(t2,0,1,p1._t1,p1._t2);\n              pass2.push(segment);\n              t1 = t2;\n              break;\n            }\n          }\n        }\n        if(t1<1) {\n          segment = p1.split(t1,1);\n          segment._t1 = utils.map(t1,0,1,p1._t1,p1._t2);\n          segment._t2 = p1._t2;\n          pass2.push(segment);\n        }\n      });\n      return pass2;\n    },\n    scale: function(d) {\n      var order = this.order;\n      var distanceFn = false\n      if(typeof d === \"function\") { distanceFn = d; }\n      if(distanceFn && order === 2) { return this.raise().scale(distanceFn); }\n\n      // TODO: add special handling for degenerate (=linear) curves.\n      var clockwise = this.clockwise;\n      var r1 = distanceFn ? distanceFn(0) : d;\n      var r2 = distanceFn ? distanceFn(1) : d;\n      var v = [ this.offset(0,10), this.offset(1,10) ];\n      var o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n      if(!o) { throw \"cannot scale this curve. Try reducing it first.\"; }\n      // move all points by distance 'd' wrt the origin 'o'\n      var points=this.points, np=[];\n\n      // move end points by fixed distance along normal.\n      [0,1].forEach(function(t) {\n        var p = np[t*order] = utils.copy(points[t*order]);\n        p.x += (t?r2:r1) * v[t].n.x;\n        p.y += (t?r2:r1) * v[t].n.y;\n      }.bind(this));\n\n      if (!distanceFn) {\n        // move control points to lie on the intersection of the offset\n        // derivative vector, and the origin-through-control vector\n        [0,1].forEach(function(t) {\n          if(this.order===2 && !!t) return;\n          var p = np[t*order];\n          var d = this.derivative(t);\n          var p2 = { x: p.x + d.x, y: p.y + d.y };\n          np[t+1] = utils.lli4(p, p2, o, points[t+1]);\n        }.bind(this));\n        return new Bezier(np);\n      }\n\n      // move control points by \"however much necessary to\n      // ensure the correct tangent to endpoint\".\n      [0,1].forEach(function(t) {\n        if(this.order===2 && !!t) return;\n        var p = points[t+1];\n        var ov = {\n          x: p.x - o.x,\n          y: p.y - o.y\n        };\n        var rc = distanceFn ? distanceFn((t+1)/order) : d;\n        if(distanceFn && !clockwise) rc = -rc;\n        var m = sqrt(ov.x*ov.x + ov.y*ov.y);\n        ov.x /= m;\n        ov.y /= m;\n        np[t+1] = {\n          x: p.x + rc*ov.x,\n          y: p.y + rc*ov.y\n        }\n      }.bind(this));\n      return new Bezier(np);\n    },\n    outline: function(d1, d2, d3, d4) {\n      d2 = (typeof d2 === \"undefined\") ? d1 : d2;\n      var reduced = this.reduce(),\n          len = reduced.length,\n          order = this.order,\n          fcurves = [],\n          bcurves = [],\n          i, p, last,\n          alen = 0,\n          tlen = this.length();\n\n      var graduated = (typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\");\n\n      function linearDistanceFunction(s,e, tlen,alen,slen) {\n        return function (v) {\n          var f1 = alen/tlen, f2 = (alen+slen)/tlen, d = e-s;\n          return utils.map(v, 0,1, s+f1*d, s+f2*d);\n        };\n      };\n\n      // form curve oulines\n      reduced.forEach(function(segment) {\n        slen = segment.length();\n        if (graduated) {\n          fcurves.push(segment.scale(  linearDistanceFunction( d1, d3, tlen,alen,slen)  ));\n          bcurves.push(segment.scale(  linearDistanceFunction(-d2,-d4, tlen,alen,slen)  ));\n        } else {\n          fcurves.push(segment.scale( d1));\n          bcurves.push(segment.scale(-d2));\n        }\n        alen += slen;\n      });\n\n      // reverse the \"return\" outline\n      bcurves = bcurves.map(function(s) {\n        p = s.points;\n        if(p[3]) { s.points = [p[3],p[2],p[1],p[0]]; }\n        else { s.points = [p[2],p[1],p[0]]; }\n        return s;\n      }).reverse();\n\n      // form the endcaps as lines\n      var fs = fcurves[0].points[0],\n          fe = fcurves[len-1].points[fcurves[len-1].points.length-1],\n          bs = bcurves[len-1].points[bcurves[len-1].points.length-1],\n          be = bcurves[0].points[0],\n          ls = utils.makeline(bs,fs),\n          le = utils.makeline(fe,be),\n          segments = [ls].concat(fcurves).concat([le]).concat(bcurves),\n          slen = segments.length;\n\n      return new PolyBezier(segments);\n    },\n    outlineshapes: function(d1,d2) {\n      d2 = d2 || d1;\n      var outline = this.outline(d1,d2).curves;\n      var shapes = [];\n      for(var i=1, len=outline.length; i < len/2; i++) {\n        var shape = utils.makeshape(outline[i], outline[len-i]);\n        shape.startcap.virtual = (i > 1);\n        shape.endcap.virtual = (i < len/2-1);\n        shapes.push(shape);\n      }\n      return shapes;\n    },\n    intersects: function(curve) {\n      if(!curve) return this.selfintersects();\n      if(curve.p1 && curve.p2) {\n        return this.lineIntersects(curve);\n      }\n      if(curve instanceof Bezier) { curve = curve.reduce(); }\n      return this.curveintersects(this.reduce(), curve);\n    },\n    lineIntersects: function(line) {\n      var mx = min(line.p1.x, line.p2.x),\n          my = min(line.p1.y, line.p2.y),\n          MX = max(line.p1.x, line.p2.x),\n          MY = max(line.p1.y, line.p2.y),\n          self=this;\n      return utils.roots(this.points, line).filter(function(t) {\n        var p = self.get(t);\n        return (mx <= p.x && p.x <= MX && my <= p.y && p.y <= MY);\n      });\n    },\n    selfintersects: function() {\n      var reduced = this.reduce();\n      // \"simple\" curves cannot intersect with their direct\n      // neighbour, so for each segment X we check whether\n      // it intersects [0:x-2][x+2:last].\n      var i,len=reduced.length-2,results=[],result,left,right;\n      for(i=0; i<len; i++) {\n        left = reduced.slice(i,i+1);\n        right = reduced.slice(i+2);\n        result = this.curveintersects(left, right);\n        results = results.concat( result );\n      }\n      return results;\n    },\n    curveintersects: function(c1,c2) {\n      var pairs = [];\n      // step 1: pair off any overlapping segments\n      c1.forEach(function(l) {\n        c2.forEach(function(r) {\n          if(l.overlaps(r)) {\n            pairs.push({ left: l, right: r });\n          }\n        });\n      });\n      // step 2: for each pairing, run through the convergence algorithm.\n      var intersections = [];\n      pairs.forEach(function(pair) {\n        var result = utils.pairiteration(pair.left, pair.right);\n        if(result.length > 0) {\n          intersections = intersections.concat(result);\n        }\n      });\n      return intersections;\n    }\n  };\n\n\n  if(typeof module !== \"undefined\" && module.exports) {\n    module.exports = Bezier;\n  }\n\n  else if(typeof define !== \"undefined\") {\n    define(function() { return Bezier; });\n  }\n\n  else if(typeof window !== \"undefined\") {\n    window.Bezier = Bezier;\n  }\n\n}());\n\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}