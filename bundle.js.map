{"version":3,"sources":["bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"CanvasController","document","addEventListener","controller","body","appendChild","element","./CanvasController",2,"module","drainQueue","draining","currentQueue","len","queue","noop","process","nextTick","fun","push","setTimeout","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","binding","cwd","chdir","umask",3,"global","baseCompareAscending","value","other","valIsReflexive","othIsReflexive","baseIndexOf","array","fromIndex","indexOfNaN","index","baseIsFunction","baseToString","charAtCallback","string","charCodeAt","charsLeftIndex","chars","indexOf","charAt","charsRightIndex","compareAscending","object","criteria","compareMultiple","orders","objCriteria","othCriteria","ordersLength","result","deburrLetter","letter","deburredLetters","escapeHtmlChar","chr","htmlEscapes","escapeStringChar","stringEscapes","fromRight","isObjectLike","isSpace","charCode","replaceHolders","placeholder","resIndex","PLACEHOLDER","sortedUniq","iteratee","seen","computed","trimmedLeftIndex","trimmedRightIndex","unescapeHtmlChar","htmlUnescapes","runInContext","context","lodash","isArray","LazyWrapper","LodashWrapper","hasOwnProperty","wrapperClone","baseLodash","chainAll","actions","this","__wrapped__","__actions__","__chain__","__dir__","__dropCount__","__filtered__","__iteratees__","__takeCount__","POSITIVE_INFINITY","__views__","lazyClone","iteratees","views","arrayCopy","lazyReverse","clone","lazyValue","baseWrapperValue","dir","isRight","view","getView","start","end","takeCount","nativeMin","iterLength","outer","iterIndex","data","type","LAZY_DROP_WHILE_FLAG","done","count","limit","LAZY_MAP_FLAG","LAZY_FILTER_FLAG","MapCache","__data__","mapDelete","key","has","mapGet","undefined","mapHas","mapSet","SetCache","values","hash","nativeCreate","set","Set","cacheIndexOf","cache","isObject","cachePush","add","source","Array","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","arrayMap","arrayMax","NEGATIVE_INFINITY","arrayMin","arrayReduce","accumulator","initFromArray","arrayReduceRight","arraySome","assignDefaults","objectValue","sourceValue","assignOwnDefaults","baseAssign","customizer","props","keys","baseCopy","baseAt","collection","isArr","isLength","propsLength","parseFloat","isIndex","baseBindAll","methodNames","createWrapper","BIND_FLAG","baseCallback","func","thisArg","argCount","isBindable","bindCallback","identity","baseMatches","baseProperty","baseMatchesProperty","baseClone","isDeep","stackA","stackB","initCloneArray","tag","objToString","isFunc","funcTag","objectTag","argsTag","cloneableTags","initCloneByTag","initCloneObject","baseForOwn","subValue","baseDelay","wait","args","TypeError","FUNC_ERROR_TEXT","apply","baseSlice","baseDifference","getIndexOf","isCommon","createCache","valuesLength","valuesIndex","baseEach","iterable","toObject","baseEachRight","baseForOwnRight","baseEvery","baseFill","baseFilter","baseFind","eachFunc","retKey","baseFlatten","isStrict","isArguments","valIndex","valLength","baseFor","keysFunc","baseForRight","baseForIn","keysIn","baseFunctions","isFunction","baseInvoke","methodName","baseIsEqual","isWhere","valType","othType","baseIsEqualDeep","equalFunc","objIsArr","othIsArr","objTag","arrayTag","othTag","isTypedArray","objIsObj","othIsObj","isSameTag","equalByTag","valWrapped","othWrapped","equalArrays","equalObjects","pop","baseIsMatch","strictCompareFlags","noCustomizer","objValue","srcValue","baseMap","isStrictComparable","baseMerge","isSrcArr","baseMergeDeep","mergeFunc","isPlainObject","toPlainObject","basePullAt","indexes","sort","previous","splice","baseRandom","min","max","floor","nativeRandom","baseReduce","initFromCollection","baseSome","baseSortBy","comparer","baseSortByOrder","baseUniq","isLarge","seenIndex","baseValues","action","binaryIndex","retHighest","low","high","HALF_MAX_ARRAY_LENGTH","mid","binaryIndexBy","valIsNaN","valIsUndef","isReflexive","setLow","MAX_ARRAY_INDEX","arguments","bufferClone","buffer","bufferSlice","composeArgs","partials","holders","holdersLength","argsIndex","argsLength","nativeMax","leftIndex","leftLength","composeArgsRight","holdersIndex","rightIndex","rightLength","pad","createAggregator","setter","initializer","getCallback","createAssigner","assigner","guard","isIterateeCall","createBindWrapper","wrapper","fn","root","Ctor","createCtorWrapper","createComposer","funcs","createCompounder","callback","words","deburr","thisBinding","baseCreate","prototype","createExtremum","arrayFunc","isMin","noIteratee","isString","toIterable","extremumBy","createHybridWrapper","bitmask","partialsRight","holdersRight","argPos","ary","arity","isCurry","isCurryRight","argsHolders","newArgPos","newArity","newsHolders","newHoldersRight","newPartials","newPartialsRight","PARTIAL_FLAG","PARTIAL_RIGHT_FLAG","isCurryBound","BIND_KEY_FLAG","isBind","isBindKey","reorder","isAry","ARY_FLAG","CURRY_FLAG","CURRY_BOUND_FLAG","CURRY_RIGHT_FLAG","createPad","strLength","nativeIsFinite","padLength","repeat","ceil","slice","createPartialWrapper","getData","newData","mergeData","baseSetData","setData","arrLength","othLength","arrValue","othValue","othIndex","boolTag","dateTag","errorTag","name","message","numberTag","regexpTag","stringTag","objProps","objLength","othProps","hasCtor","objCtor","constructor","othCtor","exValue","current","target","transforms","size","input","Object","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","byteOffset","reFlags","exec","lastIndex","support","funcNames","funcDecomp","fnToString","reFuncName","test","reThis","isNative","MAX_SAFE_INTEGER","prereq","srcBitmask","newBitmask","arityFlags","REARG_FLAG","bindFlags","comboFlags","isRearg","isCombo","pickByArray","pickByCallback","oldArray","shimIsPlainObject","shimKeys","allowIndexes","nonEnumArgs","chunk","compact","difference","drop","dropRight","dropRightWhile","dropWhile","fill","findIndex","findLastIndex","first","flatten","flattenDeep","initial","intersection","caches","last","lastIndexOf","pull","pullAt","remove","rest","sortedIndex","sortedLastIndex","take","takeRight","takeRightWhile","takeWhile","union","uniq","isSorted","unzip","getLength","without","xor","concat","zip","zipObject","chain","tap","interceptor","thru","wrapperChain","wrapperCommit","wrapperPlant","parent","wrapperReverse","reverse","wrapperToString","wrapperValue","at","every","filter","find","findLast","findWhere","forEach","forEachRight","includes","invoke","map","pluck","reduce","reduceRight","reject","sample","shuffle","rand","some","sortBy","sortByAll","sortByOrder","where","after","temp","before","bind","bindAll","functions","bindKey","curry","curryRight","debounce","options","cancel","timeoutId","clearTimeout","maxTimeoutId","trailingCall","delayed","remaining","now","stamp","isCalled","lastCalled","maxDelayed","trailing","maxWait","debounced","leading","leadingCall","defer","delay","memoize","resolver","memoized","get","Cache","negate","partial","partialRight","rearg","spread","throttle","debounceOptions","wrap","cloneDeep","isBoolean","isDate","isElement","nodeType","isEmpty","isEqual","isError","isMatch","isNaN","isNumber","reNative","reHostCtor","isNull","isRegExp","typedArrayTags","isUndefined","toArray","create","properties","defaults","assign","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","invert","multiValue","isProto","skipIndexes","mapValues","omit","String","pairs","pick","defaultValue","transform","valuesIn","inRange","random","floating","noMin","noMax","capitalize","toUpperCase","replace","reLatin1","endsWith","position","escape","reHasUnescapedHtml","reUnescapedHtml","escapeRegExp","reHasRegExpChars","reRegExpChars","padLeft","padRight","parseInt","radix","nativeParseInt","startsWith","template","otherOptions","settings","templateSettings","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reNoMatch","reDelimiters","RegExp","reInterpolate","reEsTemplate","evaluate","sourceURL","templateCounter","match","escapeValue","interpolateValue","esTemplateValue","evaluateValue","offset","reUnescapedString","variable","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","attempt","Function","trim","trimLeft","trimRight","trunc","DEFAULT_TRUNC_LENGTH","omission","DEFAULT_TRUNC_OMISSION","separator","search","newEnd","substring","unescape","reHasEscapedHtml","reEscapedHtml","pattern","reWords","matches","constant","matchesProperty","mixin","isObj","noConflict","_","oldDash","property","propertyOf","range","step","times","MAX_ARRAY_LENGTH","uniqueId","prefix","id","idCounter","augend","addend","sum","contextProps","Date","Math","Number","arrayProto","objectProto","stringProto","window","toString","ArrayBuffer","getPrototypeOf","propertyIsEnumerable","Uint8Array","WeakMap","Float64Array","nativeIsArray","isFinite","nativeKeys","nativeNow","nativeNumIsFinite","pow","FLOAT64_BYTES_PER_ELEMENT","BYTES_PER_ELEMENT","metaMap","WinRTError","dom","createDocumentFragment","reEscape","reEvaluate","byteLength","floatLength","HOT_SPAN","HOT_COUNT","countBy","groupBy","indexBy","partition","getTime","flow","flowRight","valueOf","objProto","merge","camelCase","word","toLowerCase","kebabCase","whitespace","reHexPrefix","snakeCase","startCase","backflow","collect","compose","each","eachRight","extend","methods","select","tail","unique","all","any","contains","detect","foldl","foldr","head","include","inject","VERSION","isFilter","isDropWhile","filtered","whileName","takeName","dropName","operationName","createCallback","lodashFunc","checkIteratee","retUnwrapped","isHybrid","isLazy","useLazy","onlyLazy","otherArgs","chainName","commit","plant","run","toJSON","mapTag","setTag","weakMapTag","upper","lower","À","Á","Â","Ã","Ä","Å","à","á","â","ã","ä","å","Ç","ç","Ð","ð","È","É","Ê","Ë","è","é","ê","ë","Ì","Í","Î","Ï","ì","í","î","ï","Ñ","ñ","Ò","Ó","Ô","Õ","Ö","Ø","ò","ó","ô","õ","ö","ø","Ù","Ú","Û","Ü","ù","ú","û","ü","Ý","ý","ÿ","Æ","æ","Þ","þ","ß","&","<",">","\"","'","`","&amp;","&lt;","&gt;","&quot;","&#39;","&#96;","objectTypes","function","\\","\n","\r"," "," ","freeExports","freeModule","freeGlobal","freeWindow","moduleExports","define","amd","self",4,"touchPoint","touch","Point","clientX","clientY","InteractionState","Renderer","Stroke","Color","Transform","interactionState","initialTransform","isStroking","strokeWidth","strokeColor","renderer","tiled","currentStrokeRenderer","elem","createElement","className","onMouseMove","onMouseDown","onMouseUp","onTouchMove","onTouchStart","onTouchEnd","onWheel","pinchStart","points","pinchStartPoints","pinchMove","scale","sub","centerStart","mul","center","diff","translation","updateTransform","update","pinchEnd","pressStart","pos","stroke","currentStroke","width","color","addPoint","strokes","addDirtyRect","lastCurveBoundingRect","pressMove","pressEnd","_this","boundingRect","drawOther","clear","tiles","tile","isBlank","ev","touches","preventDefault","translate","deltaX","deltaY","./Color","./Point","./Renderer","./Stroke","./Transform","_process",5,"g","b",6,"Rect","Bezier","Curve","control1","control2","calcBoundingRect","bezier","bbox","x","y","catmullRom","prev","next","div","bSpline","c0","c1","c2","c3","./Rect","./vendor/bezier",7,"defineProperty","sqrt","enumerable","configurable","m11","m21","dx","m12","m22","dy","equals",8,"empty","outset","p1","p2","fromPoints","boundingIntegerRect","fromMetrics","height",9,"RendererTile","TILE_SIZE","opts","isTiled","isRenderQueued","devicePixelRatio","dirtyRect","_transform","transformToPixel","onResize","dirtyWhole","updateTileTransforms","rect","beginRendering","render","otherTile","drawStroke","setRendererTransform","innerWidth","innerHeight","console","log","rebuildTiles","tileSize","dpr","pixelWidth","pixelHeight","tileXCount","tileYCount","removeChild","tileY","tileHeight","tileX","tileWidth","topLeft","bottomRight","./RendererTile",10,"rendererTransform","renderingRect","style","left","top","getContext","save","clearRect","restore","beginPath","closePath","clip","globalCompositeOperation","setTransform","drawImage","strokeRect","lineCap","lineJoin","startPos","fillStyle","arc","PI","lineWidth","strokeStyle","moveTo","curves","curve","bezierCurveTo",11,"finalizedBoundingRect","point","radius","curveAt","./Curve",12,"det","delta",13,"abs","cos","sin","acos","atan2","asin","crt","v","pi","tau","ZERO","z","utils","Tvalues","Cvalues","arcfn","p","derivativeFn","d","ds","de","ts","te","d1","d2","v2","lerp","v1","ret","pointToString","pointsToString","join","copy","obj","JSON","parse","stringify","angle","dot","dx1","dy1","dx2","dy2","cross","m1","m2","lli8","x1","y1","x2","y2","x3","y3","x4","y4","nx","ny","lli4","p3","p4","lli","c","makeline","findbbox","sections","mx","my","MX","MY","shapeintersections","s1","bbox1","s2","bbox2","bboxoverlap","intersections","a1","startcap","forward","back","endcap","a2","l1","virtual","l2","iss","intersects","makeshape","bpl","fpl","shape","getminmax","list","align","line","tx","ty","roots","order","u1","pa","pb","pc","pd","q","q2","discriminant","mp3","mp33","cosphi","phi","crtr","t1","sd","droots","b1","b2","dim","dims","expandbox","_bbox","pairiteration","c1b","c2b","threshold","_t1","_t2","cc1","split","cc2","right","pair","results","PolyBezier","_3d","addCurve","idx","coords","dimlen","_linear","toSVG","dpoints","dpt","j","computedirection","clockwise","derivative","getLUT","steps","compute","mt","mt2","t2","raise","pim","np","k","normal","__normal3","__normal2","r1","r2","q1","m","R","pt","_p","span","subsplit","inflections","mfn","overlaps","lbbox","tbbox","nv","reduced","simple","n1","n2","segment","pass1","pass2","distanceFn","ov","rc","outline","d3","d4","linearDistanceFunction","tlen","alen","slen","f1","f2","fcurves","bcurves","graduated","fs","fe","bs","be","ls","le","segments","outlineshapes","shapes","lineIntersects","curveintersects","selfintersects"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/// <reference path=\"../typings/bundle.d.ts\" />\n'use strict';\nvar CanvasController = require('./CanvasController');\ndocument.addEventListener('DOMContentLoaded', function () {\n    var controller = new CanvasController();\n    document.body.appendChild(controller.element);\n});\n\n},{\"./CanvasController\":4}],2:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],3:[function(require,module,exports){\n(function (global){\n/**\n * @license\n * lodash 3.5.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -d -o ./index.js`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '3.5.0';\n\n  /** Used to compose bitmasks for wrapper metadata. */\n  var BIND_FLAG = 1,\n      BIND_KEY_FLAG = 2,\n      CURRY_BOUND_FLAG = 4,\n      CURRY_FLAG = 8,\n      CURRY_RIGHT_FLAG = 16,\n      PARTIAL_FLAG = 32,\n      PARTIAL_RIGHT_FLAG = 64,\n      REARG_FLAG = 128,\n      ARY_FLAG = 256;\n\n  /** Used as default options for `_.trunc`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect when a function becomes hot. */\n  var HOT_COUNT = 150,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_DROP_WHILE_FLAG = 0,\n      LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2;\n\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      weakMapTag = '[object WeakMap]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n      reUnescapedHtml = /[&<>\"'`]/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /**\n   * Used to match ES template delimiters.\n   * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-template-literal-lexical-components)\n   * for more details.\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect named functions. */\n  var reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n  /** Used to detect hexadecimal string values. */\n  var reHexPrefix = /^0[xX]/;\n\n  /** Used to detect host constructors (Safari > 5). */\n  var reHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /**\n   * Used to match `RegExp` special characters.\n   * See this [article on `RegExp` characters](http://www.regular-expressions.info/characters.html#special)\n   * for more details.\n   */\n  var reRegExpChars = /[.*+?^${}()|[\\]\\/\\\\]/g,\n      reHasRegExpChars = RegExp(reRegExpChars.source);\n\n  /** Used to detect functions containing a `this` reference. */\n  var reThis = /\\bthis\\b/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to match words to create compound words. */\n  var reWords = (function() {\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\n\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\n  }());\n\n  /** Used to detect and test for whitespace. */\n  var whitespace = (\n    // Basic whitespace characters.\n    ' \\t\\x0b\\f\\xa0\\ufeff' +\n\n    // Line terminators.\n    '\\n\\r\\u2028\\u2029' +\n\n    // Unicode category \"Zs\" space separators.\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'document',\n    'isFinite', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    'window', 'WinRTError'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[mapTag] = cloneableTags[setTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used as an internal `_.debounce` options object by `_.throttle`. */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\n  var deburredLetters = {\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&#96;': '`'\n  };\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n\n  /** Detect free variable `window`. */\n  var freeWindow = objectTypes[typeof window] && window;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /**\n   * Used as a reference to the global object.\n   *\n   * The `this` value is used if it is the global object to avoid Greasemonkey's\n   * restricted `window` object, otherwise the `window` object is used.\n   */\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || this;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `compareAscending` which compares values and\n   * sorts them in ascending order without guaranteeing a stable sort.\n   *\n   * @private\n   * @param {*} value The value to compare to `other`.\n   * @param {*} other The value to compare to `value`.\n   * @returns {number} Returns the sort order indicator for `value`.\n   */\n  function baseCompareAscending(value, other) {\n    if (value !== other) {\n      var valIsReflexive = value === value,\n          othIsReflexive = other === other;\n\n      if (value > other || !valIsReflexive || (typeof value == 'undefined' && othIsReflexive)) {\n        return 1;\n      }\n      if (value < other || !othIsReflexive || (typeof other == 'undefined' && valIsReflexive)) {\n        return -1;\n      }\n    }\n    return 0;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    if (value !== value) {\n      return indexOfNaN(array, fromIndex);\n    }\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isFunction` without support for environments\n   * with incorrect `typeof` results.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n   */\n  function baseIsFunction(value) {\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\n    return typeof value == 'function' || false;\n  }\n\n  /**\n   * Converts `value` to a string if it is not one. An empty string is returned\n   * for `null` or `undefined` values.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    if (typeof value == 'string') {\n      return value;\n    }\n    return value == null ? '' : (value + '');\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback for string values.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the code unit of the first character of the string.\n   */\n  function charAtCallback(string) {\n    return string.charCodeAt(0);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the first character not found in `chars`.\n   */\n  function charsLeftIndex(string, chars) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\n   * of `string` that is not found in `chars`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @param {string} chars The characters to find.\n   * @returns {number} Returns the index of the last character not found in `chars`.\n   */\n  function charsRightIndex(string, chars) {\n    var index = string.length;\n\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\n   * sort them in ascending order.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareAscending(object, other) {\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\n  }\n\n  /**\n   * Used by `_.sortByOrder` to compare multiple properties of each element\n   * in a collection and stable sort them in the following order:\n   *\n   * If orders is unspecified, sort in ascending order for all properties.\n   * Otherwise, for each property, sort in ascending order if its corresponding value in\n   * orders is true, and descending order if false.\n   *\n   * @private\n   * @param {Object} object The object to compare to `other`.\n   * @param {Object} other The object to compare to `object`.\n   * @param {boolean[]} orders The order to sort by for each property.\n   * @returns {number} Returns the sort order indicator for `object`.\n   */\n  function compareMultiple(object, other, orders) {\n    var index = -1,\n        objCriteria = object.criteria,\n        othCriteria = other.criteria,\n        length = objCriteria.length,\n        ordersLength = orders.length;\n\n    while (++index < length) {\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\n      if (result) {\n        if (index >= ordersLength) {\n          return result;\n        }\n        return result * (orders[index] ? 1 : -1);\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to provide the same value for\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n    // for more details.\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\n    return object.index - other.index;\n  }\n\n  /**\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  function deburrLetter(letter) {\n    return deburredLetters[letter];\n  }\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeHtmlChar(chr) {\n    return htmlEscapes[chr];\n  }\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\n   * If `fromRight` is provided elements of `array` are iterated from right to left.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n   */\n  function indexOfNaN(array, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 0 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      var other = array[index];\n      if (other !== other) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * Checks if `value` is object-like.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   */\n  function isObjectLike(value) {\n    return (value && typeof value == 'object') || false;\n  }\n\n  /**\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\n   * character code is whitespace.\n   *\n   * @private\n   * @param {number} charCode The character code to inspect.\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\n   */\n  function isSpace(charCode) {\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      if (array[index] === placeholder) {\n        array[index] = PLACEHOLDER;\n        result[++resIndex] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * An implementation of `_.uniq` optimized for sorted arrays without support\n   * for callback shorthands and `this` binding.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} [iteratee] The function invoked per iteration.\n   * @returns {Array} Returns the new duplicate-value-free array.\n   */\n  function sortedUniq(array, iteratee) {\n    var seen,\n        index = -1,\n        length = array.length,\n        resIndex = -1,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index],\n          computed = iteratee ? iteratee(value, index, array) : value;\n\n      if (!index || seen !== computed) {\n        seen = computed;\n        result[++resIndex] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the first non-whitespace character.\n   */\n  function trimmedLeftIndex(string) {\n    var index = -1,\n        length = string.length;\n\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedRightIndex(string) {\n    var index = string.length;\n\n    while (index-- && isSpace(string.charCodeAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  function unescapeHtmlChar(chr) {\n    return htmlUnescapes[chr];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the given `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utility\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'add': function(a, b) { return a + b; } });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'sub': function(a, b) { return a - b; } });\n   *\n   * _.isFunction(_.add);\n   * // => true\n   * _.isFunction(_.sub);\n   * // => false\n   *\n   * lodash.isFunction(lodash.add);\n   * // => false\n   * lodash.isFunction(lodash.sub);\n   * // => true\n   *\n   * // using `context` to mock `Date#getTime` use in `_.now`\n   * var mock = _.runInContext({\n   *   'Date': function() {\n   *     return { 'getTime': getTimeMock };\n   *   }\n   * });\n   *\n   * // or creating a suped-up `defer` in Node.js\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See https://es5.github.io/#x11.1.5 for more details.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for native method references. */\n    var arrayProto = Array.prototype,\n        objectProto = Object.prototype,\n        stringProto = String.prototype;\n\n    /** Used to detect DOM support. */\n    var document = (document = context.window) && document.document;\n\n    /** Used to resolve the decompiled source of functions. */\n    var fnToString = Function.prototype.toString;\n\n    /** Used to the length of n-tuples for `_.unzip`. */\n    var getLength = baseProperty('length');\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /**\n     * Used to resolve the `toStringTag` of values.\n     * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.tostring)\n     * for more details.\n     */\n    var objToString = objectProto.toString;\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = context._;\n\n    /** Used to detect if a method is native. */\n    var reNative = RegExp('^' +\n      escapeRegExp(objToString)\n      .replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Native method references. */\n    var ArrayBuffer = isNative(ArrayBuffer = context.ArrayBuffer) && ArrayBuffer,\n        bufferSlice = isNative(bufferSlice = ArrayBuffer && new ArrayBuffer(0).slice) && bufferSlice,\n        ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        push = arrayProto.push,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        Set = isNative(Set = context.Set) && Set,\n        setTimeout = context.setTimeout,\n        splice = arrayProto.splice,\n        Uint8Array = isNative(Uint8Array = context.Uint8Array) && Uint8Array,\n        WeakMap = isNative(WeakMap = context.WeakMap) && WeakMap;\n\n    /** Used to clone array buffers. */\n    var Float64Array = (function() {\n      // Safari 5 errors when using an array buffer to initialize a typed array\n      // where the array buffer's `byteLength` is not a multiple of the typed\n      // array's `BYTES_PER_ELEMENT`.\n      try {\n        var func = isNative(func = context.Float64Array) && func,\n            result = new func(new ArrayBuffer(10), 0, 1) && func;\n      } catch(e) {}\n      return result;\n    }());\n\n    /* Native method references for those with the same name as other `lodash` methods. */\n    var nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsFinite = context.isFinite,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = isNative(nativeNow = Date.now) && nativeNow,\n        nativeNumIsFinite = isNative(nativeNumIsFinite = Number.isFinite) && nativeNumIsFinite,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used as references for `-Infinity` and `Infinity`. */\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\n\n    /** Used as references for the maximum length and index of an array. */\n    var MAX_ARRAY_LENGTH = Math.pow(2, 32) - 1,\n        MAX_ARRAY_INDEX =  MAX_ARRAY_LENGTH - 1,\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n    /** Used as the size, in bytes, of each `Float64Array` element. */\n    var FLOAT64_BYTES_PER_ELEMENT = Float64Array ? Float64Array.BYTES_PER_ELEMENT : 0;\n\n    /**\n     * Used as the maximum length of an array-like value.\n     * See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.max_safe_integer)\n     * for more details.\n     */\n    var MAX_SAFE_INTEGER = Math.pow(2, 53) - 1;\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\n     * Methods that operate on and return arrays, collections, and functions can\n     * be chained together. Methods that return a boolean or single value will\n     * automatically end the chain returning the unwrapped value. Explicit chaining\n     * may be enabled using `_.chain`. The execution of chained methods is lazy,\n     * that is, execution is deferred until `_#value` is implicitly or explicitly\n     * called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\n     * fusion is an optimization that merges iteratees to avoid creating intermediate\n     * arrays and reduce the number of iteratee executions.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\n     * `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\n     * and `where`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defer`, `delay`,\n     * `difference`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `fill`,\n     * `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`, `forEach`,\n     * `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `functions`,\n     * `groupBy`, `indexBy`, `initial`, `intersection`, `invert`, `invoke`, `keys`,\n     * `keysIn`, `map`, `mapValues`, `matches`, `matchesProperty`, `memoize`, `merge`,\n     * `mixin`, `negate`, `noop`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `reverse`,\n     * `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`, `sortByOrder`, `splice`,\n     * `spread`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `tap`,\n     * `throttle`, `thru`, `times`, `toArray`, `toPlainObject`, `transform`,\n     * `union`, `uniq`, `unshift`, `unzip`, `values`, `valuesIn`, `where`,\n     * `without`, `wrap`, `xor`, `zip`, and `zipObject`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `clone`, `cloneDeep`, `deburr`,\n     * `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`,\n     * `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`, `has`,\n     * `identity`, `includes`, `indexOf`, `inRange`, `isArguments`, `isArray`,\n     * `isBoolean`, `isDate`, `isElement`, `isEmpty`, `isEqual`, `isError`,\n     * `isFinite`,`isFunction`, `isMatch`, `isNative`, `isNaN`, `isNull`, `isNumber`,\n     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`,\n     * `isTypedArray`, `join`, `kebabCase`, `last`, `lastIndexOf`, `max`, `min`,\n     * `noConflict`, `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`,\n     * `random`, `reduce`, `reduceRight`, `repeat`, `result`, `runInContext`,\n     * `shift`, `size`, `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`,\n     * `startCase`, `startsWith`, `sum`, `template`, `trim`, `trimLeft`,\n     * `trimRight`, `trunc`, `unescape`, `uniqueId`, `value`, and `words`\n     *\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\n     * otherwise an unwrapped value is returned.\n     *\n     * @name _\n     * @constructor\n     * @category Chain\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, n) {\n     *   return sum + n;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(n) {\n     *   return n * n;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The function whose prototype all chaining wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\n     */\n    function LodashWrapper(value, chainAll, actions) {\n      this.__wrapped__ = value;\n      this.__actions__ = actions || [];\n      this.__chain__ = !!chainAll;\n    }\n\n    /**\n     * An object environment feature flags.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    (function(x) {\n\n      /**\n       * Detect if functions can be decompiled by `Function#toString`\n       * (all but Firefox OS certified apps, older Opera mobile browsers, and\n       * the PlayStation 3; forced `false` for Windows 8 apps).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcDecomp = !isNative(context.WinRTError) && reThis.test(runInContext);\n\n      /**\n       * Detect if `Function#name` is supported (all but IE).\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      support.funcNames = typeof Function.name == 'string';\n\n      /**\n       * Detect if the DOM is supported.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.dom = document.createDocumentFragment().nodeType === 11;\n      } catch(e) {\n        support.dom = false;\n      }\n\n      /**\n       * Detect if `arguments` object indexes are non-enumerable.\n       *\n       * In Firefox < 4, IE < 9, PhantomJS, and Safari < 5.1 `arguments` object\n       * indexes are non-enumerable. Chrome < 25 and Node.js < 0.11.0 treat\n       * `arguments` object indexes as non-enumerable and fail `hasOwnProperty`\n       * checks for indexes that exceed their function's formal parameters with\n       * associated values of `0`.\n       *\n       * @memberOf _.support\n       * @type boolean\n       */\n      try {\n        support.nonEnumArgs = !propertyIsEnumerable.call(arguments, 1);\n      } catch(e) {\n        support.nonEnumArgs = true;\n      }\n    }(0, 0));\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB). Change the following template settings to use\n     * alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = null;\n      this.__dir__ = 1;\n      this.__dropCount__ = 0;\n      this.__filtered__ = false;\n      this.__iteratees__ = null;\n      this.__takeCount__ = POSITIVE_INFINITY;\n      this.__views__ = null;\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var actions = this.__actions__,\n          iteratees = this.__iteratees__,\n          views = this.__views__,\n          result = new LazyWrapper(this.__wrapped__);\n\n      result.__actions__ = actions ? arrayCopy(actions) : null;\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = iteratees ? arrayCopy(iteratees) : null;\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = views ? arrayCopy(views) : null;\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value();\n      if (!isArray(array)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var dir = this.__dir__,\n          isRight = dir < 0,\n          view = getView(0, array.length, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          takeCount = nativeMin(length, this.__takeCount__),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees ? iteratees.length : 0,\n          resIndex = 0,\n          result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type;\n\n          if (type == LAZY_DROP_WHILE_FLAG) {\n            if (data.done && (isRight ? (index > data.index) : (index < data.index))) {\n              data.count = 0;\n              data.done = false;\n            }\n            data.index = index;\n            if (!data.done) {\n              var limit = data.limit;\n              if (!(data.done = limit > -1 ? (data.count++ >= limit) : !iteratee(value))) {\n                continue outer;\n              }\n            }\n          } else {\n            var computed = iteratee(value);\n            if (type == LAZY_MAP_FLAG) {\n              value = computed;\n            } else if (!computed) {\n              if (type == LAZY_FILTER_FLAG) {\n                continue outer;\n              } else {\n                break outer;\n              }\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a cache object to store key/value pairs.\n     *\n     * @private\n     * @static\n     * @name Cache\n     * @memberOf _.memoize\n     */\n    function MapCache() {\n      this.__data__ = {};\n    }\n\n    /**\n     * Removes `key` and its value from the cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\n     */\n    function mapDelete(key) {\n      return this.has(key) && delete this.__data__[key];\n    }\n\n    /**\n     * Gets the cached value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the cached value.\n     */\n    function mapGet(key) {\n      return key == '__proto__' ? undefined : this.__data__[key];\n    }\n\n    /**\n     * Checks if a cached value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapHas(key) {\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\n    }\n\n    /**\n     * Adds `value` to `key` of the cache.\n     *\n     * @private\n     * @name set\n     * @memberOf _.memoize.Cache\n     * @param {string} key The key of the value to cache.\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache object.\n     */\n    function mapSet(key, value) {\n      if (key != '__proto__') {\n        this.__data__[key] = value;\n      }\n      return this;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates a cache object to store unique values.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var length = values ? values.length : 0;\n\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\n      while (length--) {\n        this.push(values[length]);\n      }\n    }\n\n    /**\n     * Checks if `value` is in `cache` mimicking the return signature of\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\n     *\n     * @private\n     * @param {Object} cache The cache to search.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\n     */\n    function cacheIndexOf(cache, value) {\n      var data = cache.data,\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\n\n      return result ? 0 : -1;\n    }\n\n    /**\n     * Adds `value` to the cache.\n     *\n     * @private\n     * @name push\n     * @memberOf SetCache\n     * @param {*} value The value to cache.\n     */\n    function cachePush(value) {\n      var data = this.data;\n      if (typeof value == 'string' || isObject(value)) {\n        data.set.add(value);\n      } else {\n        data.hash[value] = true;\n      }\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayCopy(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEach` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEach(array, iteratee) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (iteratee(array[index], index, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.forEachRight` for arrays without support for\n     * callback shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns `array`.\n     */\n    function arrayEachRight(array, iteratee) {\n      var length = array.length;\n\n      while (length--) {\n        if (iteratee(array[length], length, array) === false) {\n          break;\n        }\n      }\n      return array;\n    }\n\n    /**\n     * A specialized version of `_.every` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     */\n    function arrayEvery(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (!predicate(array[index], index, array)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * A specialized version of `_.filter` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function arrayFilter(array, predicate) {\n      var index = -1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.map` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function arrayMap(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = iteratee(array[index], index, array);\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.max` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     */\n    function arrayMax(array) {\n      var index = -1,\n          length = array.length,\n          result = NEGATIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value > result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.min` for arrays without support for iteratees.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     */\n    function arrayMin(array) {\n      var index = -1,\n          length = array.length,\n          result = POSITIVE_INFINITY;\n\n      while (++index < length) {\n        var value = array[index];\n        if (value < result) {\n          result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.reduce` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\n      var index = -1,\n          length = array.length;\n\n      if (initFromArray && length) {\n        accumulator = array[++index];\n      }\n      while (++index < length) {\n        accumulator = iteratee(accumulator, array[index], index, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.reduceRight` for arrays without support for\n     * callback shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\n     *  as the initial value.\n     * @returns {*} Returns the accumulated value.\n     */\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\n      var length = array.length;\n      if (initFromArray && length) {\n        accumulator = array[--length];\n      }\n      while (length--) {\n        accumulator = iteratee(accumulator, array[length], length, array);\n      }\n      return accumulator;\n    }\n\n    /**\n     * A specialized version of `_.some` for arrays without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function arraySome(array, predicate) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assign` use.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignDefaults(objectValue, sourceValue) {\n      return typeof objectValue == 'undefined' ? sourceValue : objectValue;\n    }\n\n    /**\n     * Used by `_.template` to customize its `_.assign` use.\n     *\n     * **Note:** This method is like `assignDefaults` except that it ignores\n     * inherited property values when checking if a property is `undefined`.\n     *\n     * @private\n     * @param {*} objectValue The destination object property value.\n     * @param {*} sourceValue The source object property value.\n     * @param {string} key The key associated with the object and source values.\n     * @param {Object} object The destination object.\n     * @returns {*} Returns the value to assign to the destination object.\n     */\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\n      return (typeof objectValue == 'undefined' || !hasOwnProperty.call(object, key))\n        ? sourceValue\n        : objectValue;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize assigning values.\n     * @returns {Object} Returns the destination object.\n     */\n    function baseAssign(object, source, customizer) {\n      var props = keys(source);\n      if (!customizer) {\n        return baseCopy(source, object, props);\n      }\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key],\n            result = customizer(value, source[key], key, object, source);\n\n        if ((result === result ? (result !== value) : (value === value)) ||\n            (typeof value == 'undefined' && !(key in object))) {\n          object[key] = result;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.at` without support for strings and individual\n     * key arguments.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {number[]|string[]} [props] The property names or indexes of elements to pick.\n     * @returns {Array} Returns the new array of picked elements.\n     */\n    function baseAt(collection, props) {\n      var index = -1,\n          length = collection.length,\n          isArr = isLength(length),\n          propsLength = props.length,\n          result = Array(propsLength);\n\n      while(++index < propsLength) {\n        var key = props[index];\n        if (isArr) {\n          key = parseFloat(key);\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\n        } else {\n          result[index] = collection[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Array} props The property names to copy.\n     * @returns {Object} Returns `object`.\n     */\n    function baseCopy(source, object, props) {\n      if (!props) {\n        props = object;\n        object = {};\n      }\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        object[key] = source[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.bindAll` without support for individual\n     * method name arguments.\n     *\n     * @private\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {string[]} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     */\n    function baseBindAll(object, methodNames) {\n      var index = -1,\n          length = methodNames.length;\n\n      while (++index < length) {\n        var key = methodNames[index];\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.callback` which supports specifying the\n     * number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function baseCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (type == 'function') {\n        return (typeof thisArg != 'undefined' && isBindable(func))\n          ? bindCallback(func, thisArg, argCount)\n          : func;\n      }\n      if (func == null) {\n        return identity;\n      }\n      if (type == 'object') {\n        return baseMatches(func);\n      }\n      return typeof thisArg == 'undefined'\n        ? baseProperty(func + '')\n        : baseMatchesProperty(func + '', thisArg);\n    }\n\n    /**\n     * The base implementation of `_.clone` without support for argument juggling\n     * and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The object `value` belongs to.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\n      var result;\n      if (customizer) {\n        result = object ? customizer(value, key, object) : customizer(value);\n      }\n      if (typeof result != 'undefined') {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return arrayCopy(value, result);\n        }\n      } else {\n        var tag = objToString.call(value),\n            isFunc = tag == funcTag;\n\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = initCloneObject(isFunc ? {} : value);\n          if (!isDeep) {\n            return baseCopy(value, result, keys(value));\n          }\n        } else {\n          return cloneableTags[tag]\n            ? initCloneByTag(value, tag, isDeep)\n            : (object ? value : {});\n        }\n      }\n      // Check for circular references and return corresponding clone.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == value) {\n          return stackB[length];\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate it with its clone.\n      stackA.push(value);\n      stackB.push(result);\n\n      // Recursively populate clone (susceptible to call stack limits).\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function Object() {}\n      return function(prototype) {\n        if (isObject(prototype)) {\n          Object.prototype = prototype;\n          var result = new Object;\n          Object.prototype = null;\n        }\n        return result || context.Object();\n      };\n    }());\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\n     * of where to slice the arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Object} args The `arguments` object to slice and provide to `func`.\n     * @returns {number} Returns the timer id.\n     */\n    function baseDelay(func, wait, args, fromIndex) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, baseSlice(args, fromIndex)); }, wait);\n    }\n\n    /**\n     * The base implementation of `_.difference` which accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var length = array ? array.length : 0,\n          result = [];\n\n      if (!length) {\n        return result;\n      }\n      var index = -1,\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf,\n          cache = (isCommon && values.length >= 200) ? createCache(values) : null,\n          valuesLength = values.length;\n\n      if (cache) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n        values = cache;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index];\n\n        if (isCommon && value === value) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === value) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (indexOf(values, value, 0) < 0) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    function baseEach(collection, iteratee) {\n      var length = collection ? collection.length : 0;\n      if (!isLength(length)) {\n        return baseForOwn(collection, iteratee);\n      }\n      var index = -1,\n          iterable = toObject(collection);\n\n      while (++index < length) {\n        if (iteratee(iterable[index], index, iterable) === false) {\n          break;\n        }\n      }\n      return collection;\n    }\n\n    /**\n     * The base implementation of `_.forEachRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object|string} Returns `collection`.\n     */\n    function baseEachRight(collection, iteratee) {\n      var length = collection ? collection.length : 0;\n      if (!isLength(length)) {\n        return baseForOwnRight(collection, iteratee);\n      }\n      var iterable = toObject(collection);\n      while (length--) {\n        if (iteratee(iterable[length], length, iterable) === false) {\n          break;\n        }\n      }\n      return collection;\n    }\n\n    /**\n     * The base implementation of `_.every` without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (typeof end == 'undefined' || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : (end >>> 0);\n      start >>>= 0;\n\n      while (start < length) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\n     * without support for callback shorthands and `this` binding, which iterates\n     * over `collection` using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @param {boolean} [retKey] Specify returning the key of the found element\n     *  instead of the element itself.\n     * @returns {*} Returns the found element or its key, else `undefined`.\n     */\n    function baseFind(collection, predicate, eachFunc, retKey) {\n      var result;\n      eachFunc(collection, function(value, key, collection) {\n        if (predicate(value, key, collection)) {\n          result = retKey ? key : value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with added support for restricting\n     * flattening and specifying the start index.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} isDeep Specify a deep flatten.\n     * @param {boolean} isStrict Restrict flattening to arrays and `arguments` objects.\n     * @param {number} fromIndex The index to start from.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, isDeep, isStrict, fromIndex) {\n      var index = fromIndex - 1,\n          length = array.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (isObjectLike(value) && isLength(value.length) && (isArray(value) || isArguments(value))) {\n          if (isDeep) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            value = baseFlatten(value, isDeep, isStrict, 0);\n          }\n          var valIndex = -1,\n              valLength = value.length;\n\n          result.length += valLength;\n          while (++valIndex < valLength) {\n            result[++resIndex] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\n     * each property. Iterator functions may exit iteration early by explicitly\n     * returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    function baseFor(object, iteratee, keysFunc) {\n      var index = -1,\n          iterable = toObject(object),\n          props = keysFunc(object),\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForRight(object, iteratee, keysFunc) {\n      var iterable = toObject(object),\n          props = keysFunc(object),\n          length = props.length;\n\n      while (length--) {\n        var key = props[length];\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `_.forIn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForIn(object, iteratee) {\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * The base implementation of `_.forOwn` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for callback\n     * shorthands and `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from those provided.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the new array of filtered property names.\n     */\n    function baseFunctions(object, props) {\n      var index = -1,\n          length = props.length,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var key = props[index];\n        if (isFunction(object[key])) {\n          result[++resIndex] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invoke` which requires additional arguments\n     * to be provided as an array of arguments rather than individually.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {Array} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     */\n    function baseInvoke(collection, methodName, args) {\n      var index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = isLength(length) ? Array(length) : [];\n\n      baseEach(collection, function(value) {\n        var func = isFunc ? methodName : (value != null && value[methodName]);\n        result[++index] = func ? func.apply(value, args) : undefined;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` without support for `this` binding\n     * `customizer` functions.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isWhere] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, customizer, isWhere, stackA, stackB) {\n      // Exit early for identical values.\n      if (value === other) {\n        // Treat `+0` vs. `-0` as not equal.\n        return value !== 0 || (1 / value == 1 / other);\n      }\n      var valType = typeof value,\n          othType = typeof other;\n\n      // Exit early for unlike primitive values.\n      if ((valType != 'function' && valType != 'object' && othType != 'function' && othType != 'object') ||\n          value == null || other == null) {\n        // Return `false` unless both values are `NaN`.\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isWhere, stackA, stackB);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @param {boolean} [isWhere] Specify performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isWhere, stackA, stackB) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = arrayTag,\n          othTag = arrayTag;\n\n      if (!objIsArr) {\n        objTag = objToString.call(object);\n        if (objTag == argsTag) {\n          objTag = objectTag;\n        } else if (objTag != objectTag) {\n          objIsArr = isTypedArray(object);\n        }\n      }\n      if (!othIsArr) {\n        othTag = objToString.call(other);\n        if (othTag == argsTag) {\n          othTag = objectTag;\n        } else if (othTag != objectTag) {\n          othIsArr = isTypedArray(other);\n        }\n      }\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && !(objIsArr || objIsObj)) {\n        return equalByTag(object, other, objTag);\n      }\n      var valWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n          othWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n      if (valWrapped || othWrapped) {\n        return equalFunc(valWrapped ? object.value() : object, othWrapped ? other.value() : other, customizer, isWhere, stackA, stackB);\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      // For more information on detecting circular references see https://es5.github.io/#JO.\n      stackA || (stackA = []);\n      stackB || (stackB = []);\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == object) {\n          return stackB[length] == other;\n        }\n      }\n      // Add `object` and `other` to the stack of traversed objects.\n      stackA.push(object);\n      stackB.push(other);\n\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isWhere, stackA, stackB);\n\n      stackA.pop();\n      stackB.pop();\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for callback\n     * shorthands or `this` binding.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The source property names to match.\n     * @param {Array} values The source values to match.\n     * @param {Array} strictCompareFlags Strict comparison flags for source values.\n     * @param {Function} [customizer] The function to customize comparing objects.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, props, values, strictCompareFlags, customizer) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      var index = -1,\n          noCustomizer = !customizer;\n\n      while (++index < length) {\n        if ((noCustomizer && strictCompareFlags[index])\n              ? values[index] !== object[props[index]]\n              : !hasOwnProperty.call(object, props[index])\n            ) {\n          return false;\n        }\n      }\n      index = -1;\n      while (++index < length) {\n        var key = props[index];\n        if (noCustomizer && strictCompareFlags[index]) {\n          var result = hasOwnProperty.call(object, key);\n        } else {\n          var objValue = object[key],\n              srcValue = values[index];\n\n          result = customizer ? customizer(objValue, srcValue, key) : undefined;\n          if (typeof result == 'undefined') {\n            result = baseIsEqual(srcValue, objValue, customizer, true);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for callback shorthands\n     * or `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var result = [];\n      baseEach(collection, function(value, key, collection) {\n        result.push(iteratee(value, key, collection));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which does not clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatches(source) {\n      var props = keys(source),\n          length = props.length;\n\n      if (length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return function(object) {\n            return object != null && object[key] === value && hasOwnProperty.call(object, key);\n          };\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = source[props[length]];\n        values[length] = value;\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return function(object) {\n        return baseIsMatch(object, props, values, strictCompareFlags);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which does not coerce `key`\n     * to a string.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     */\n    function baseMatchesProperty(key, value) {\n      if (isStrictComparable(value)) {\n        return function(object) {\n          return object != null && object[key] === value;\n        };\n      }\n      return function(object) {\n        return object != null && baseIsEqual(value, object[key], null, true);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for argument juggling,\n     * multiple sources, and `this` binding `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {Object} Returns the destination object.\n     */\n    function baseMerge(object, source, customizer, stackA, stackB) {\n      if (!isObject(object)) {\n        return object;\n      }\n      var isSrcArr = isLength(source.length) && (isArray(source) || isTypedArray(source));\n      (isSrcArr ? arrayEach : baseForOwn)(source, function(srcValue, key, source) {\n        if (isObjectLike(srcValue)) {\n          stackA || (stackA = []);\n          stackB || (stackB = []);\n          return baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\n        }\n        var value = object[key],\n            result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n            isCommon = typeof result == 'undefined';\n\n        if (isCommon) {\n          result = srcValue;\n        }\n        if ((isSrcArr || typeof result != 'undefined') &&\n            (isCommon || (result === result ? (result !== value) : (value === value)))) {\n          object[key] = result;\n        }\n      });\n      return object;\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\n      var length = stackA.length,\n          srcValue = source[key];\n\n      while (length--) {\n        if (stackA[length] == srcValue) {\n          object[key] = stackB[length];\n          return;\n        }\n      }\n      var value = object[key],\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\n          isCommon = typeof result == 'undefined';\n\n      if (isCommon) {\n        result = srcValue;\n        if (isLength(srcValue.length) && (isArray(srcValue) || isTypedArray(srcValue))) {\n          result = isArray(value)\n            ? value\n            : (value ? arrayCopy(value) : []);\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          result = isArguments(value)\n            ? toPlainObject(value)\n            : (isPlainObject(value) ? value : {});\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      // Add the source value to the stack of traversed objects and associate\n      // it with its merged value.\n      stackA.push(srcValue);\n      stackB.push(result);\n\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\n      } else if (result === result ? (result !== value) : (value === value)) {\n        object[key] = result;\n      }\n    }\n\n    /**\n     * The base implementation of `_.property` which does not coerce `key` to a string.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     */\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * index arguments.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     */\n    function basePullAt(array, indexes) {\n      var length = indexes.length,\n          result = baseAt(array, indexes);\n\n      indexes.sort(baseCompareAscending);\n      while (length--) {\n        var index = parseFloat(indexes[length]);\n        if (index != previous && isIndex(index)) {\n          var previous = index;\n          splice.call(array, index, 1);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for argument juggling\n     * and returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\n     * for callback shorthands or `this` binding, which iterates over `collection`\n     * using the provided `eachFunc`.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {*} accumulator The initial value.\n     * @param {boolean} initFromCollection Specify using the first or last element\n     *  of `collection` as the initial value.\n     * @param {Function} eachFunc The function to iterate over `collection`.\n     * @returns {*} Returns the accumulated value.\n     */\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\n      eachFunc(collection, function(value, index, collection) {\n        accumulator = initFromCollection\n          ? (initFromCollection = false, value)\n          : iteratee(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop detection.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      start = start == null ? 0 : (+start || 0);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (typeof end == 'undefined' || end > length) ? length : (+end || 0);\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for callback shorthands\n     * or `this` binding.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortBy` which uses `comparer` to define\n     * the sort order of `array` and replaces criteria objects with their\n     * corresponding values.\n     *\n     * @private\n     * @param {Array} array The array to sort.\n     * @param {Function} comparer The function to define sort order.\n     * @returns {Array} Returns `array`.\n     */\n    function baseSortBy(array, comparer) {\n      var length = array.length;\n\n      array.sort(comparer);\n      while (length--) {\n        array[length] = array[length].value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.sortByOrder` without param guards.\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string[]} props The property names to sort by.\n     * @param {boolean[]} orders The sort orders of `props`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseSortByOrder(collection, props, orders) {\n      var index = -1,\n          length = collection.length,\n          result = isLength(length) ? Array(length) : [];\n\n      baseEach(collection, function(value) {\n        var length = props.length,\n            criteria = Array(length);\n\n        while (length--) {\n          criteria[length] = value == null ? undefined : value[props[length]];\n        }\n        result[++index] = { 'criteria': criteria, 'index': index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * and `this` binding.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The function invoked per iteration.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     */\n    function baseUniq(array, iteratee) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array.length,\n          isCommon = indexOf == baseIndexOf,\n          isLarge = isCommon && length >= 200,\n          seen = isLarge ? createCache() : null,\n          result = [];\n\n      if (seen) {\n        indexOf = cacheIndexOf;\n        isCommon = false;\n      } else {\n        isLarge = false;\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value, index, array) : value;\n\n        if (isCommon && value === value) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (indexOf(seen, computed, 0) < 0) {\n          if (iteratee || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\n     * array of `object` property values corresponding to the property names\n     * returned by `keysFunc`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} props The property names to get values for.\n     * @returns {Object} Returns the array of property values.\n     */\n    function baseValues(object, props) {\n      var index = -1,\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved unwrapped value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      var index = -1,\n          length = actions.length;\n\n      while (++index < length) {\n        var args = [result],\n            action = actions[index];\n\n        push.apply(args, action.args);\n        result = action.func.apply(action.thisArg, args);\n      }\n      return result;\n    }\n\n    /**\n     * Performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest, instead\n     *  of the lowest, index at which a value should be inserted into `array`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndex(array, value, retHighest) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (retHighest ? (computed <= value) : (computed < value)) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return binaryIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [retHighest] Specify returning the highest, instead\n     *  of the lowest, index at which a value should be inserted into `array`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function binaryIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array ? array.length : 0,\n          valIsNaN = value !== value,\n          valIsUndef = typeof value == 'undefined';\n\n      while (low < high) {\n        var mid = floor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            isReflexive = computed === computed;\n\n        if (valIsNaN) {\n          var setLow = isReflexive || retHighest;\n        } else if (valIsUndef) {\n          setLow = isReflexive && (retHighest || typeof computed != 'undefined');\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * A specialized version of `baseCallback` which only supports `this` binding\n     * and specifying the number of arguments to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {number} [argCount] The number of arguments to provide to `func`.\n     * @returns {Function} Returns the callback.\n     */\n    function bindCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      if (typeof thisArg == 'undefined') {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n        case 5: return function(value, other, key, object, source) {\n          return func.call(thisArg, value, other, key, object, source);\n        };\n      }\n      return function() {\n        return func.apply(thisArg, arguments);\n      };\n    }\n\n    /**\n     * Creates a clone of the given array buffer.\n     *\n     * @private\n     * @param {ArrayBuffer} buffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function bufferClone(buffer) {\n      return bufferSlice.call(buffer, 0);\n    }\n    if (!bufferSlice) {\n      // PhantomJS has `ArrayBuffer` and `Uint8Array` but not `Float64Array`.\n      bufferClone = !(ArrayBuffer && Uint8Array) ? constant(null) : function(buffer) {\n        var byteLength = buffer.byteLength,\n            floatLength = Float64Array ? floor(byteLength / FLOAT64_BYTES_PER_ELEMENT) : 0,\n            offset = floatLength * FLOAT64_BYTES_PER_ELEMENT,\n            result = new ArrayBuffer(byteLength);\n\n        if (floatLength) {\n          var view = new Float64Array(result, 0, floatLength);\n          view.set(new Float64Array(buffer, 0, floatLength));\n        }\n        if (byteLength != offset) {\n          view = new Uint8Array(result, offset);\n          view.set(new Uint8Array(buffer, offset));\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders) {\n      var holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          leftIndex = -1,\n          leftLength = partials.length,\n          result = Array(argsLength + leftLength);\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        result[holders[argsIndex]] = args[argsIndex];\n      }\n      while (argsLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array|Object} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders) {\n      var holdersIndex = -1,\n          holdersLength = holders.length,\n          argsIndex = -1,\n          argsLength = nativeMax(args.length - holdersLength, 0),\n          rightIndex = -1,\n          rightLength = partials.length,\n          result = Array(argsLength + rightLength);\n\n      while (++argsIndex < argsLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var pad = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[pad + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        result[pad + holders[holdersIndex]] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an accumulator\n     * object composed from the results of running each element in the collection\n     * through an iteratee.\n     *\n     * @private\n     * @param {Function} setter The function to set keys and values of the accumulator object.\n     * @param {Function} [initializer] The function to initialize the accumulator object.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee, thisArg) {\n        var result = initializer ? initializer() : {};\n        iteratee = getCallback(iteratee, thisArg, 3);\n\n        if (isArray(collection)) {\n          var index = -1,\n              length = collection.length;\n\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, iteratee(value, index, collection), collection);\n          }\n        } else {\n          baseEach(collection, function(value, key, collection) {\n            setter(result, value, iteratee(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that assigns properties of source object(s) to a given\n     * destination object.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return function() {\n        var args = arguments,\n            length = args.length,\n            object = args[0];\n\n        if (length < 2 || object == null) {\n          return object;\n        }\n        var customizer = args[length - 2],\n            thisArg = args[length - 1],\n            guard = args[3];\n\n        if (length > 3 && typeof customizer == 'function') {\n          customizer = bindCallback(customizer, thisArg, 5);\n          length -= 2;\n        } else {\n          customizer = (length > 2 && typeof thisArg == 'function') ? thisArg : null;\n          length -= (customizer ? 1 : 0);\n        }\n        if (guard && isIterateeCall(args[1], args[2], guard)) {\n          customizer = length == 3 ? null : customizer;\n          length = 2;\n        }\n        var index = 0;\n        while (++index < length) {\n          var source = args[index];\n          if (source) {\n            assigner(object, source, customizer);\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createBindWrapper(func, thisArg) {\n      var Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(thisArg, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\n     *\n     * @private\n     * @param {Array} [values] The values to cache.\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\n     */\n    var createCache = !(nativeCreate && Set) ? constant(null) : function(values) {\n      return new SetCache(values);\n    };\n\n    /**\n     * Creates a function to compose other functions into a single function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new composer function.\n     */\n    function createComposer(fromRight) {\n      return function() {\n        var length = arguments.length,\n            index = length,\n            fromIndex = fromRight ? (length - 1) : 0;\n\n        if (!length) {\n          return function() { return arguments[0]; };\n        }\n        var funcs = Array(length);\n        while (index--) {\n          funcs[index] = arguments[index];\n          if (typeof funcs[index] != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n        }\n        return function() {\n          var index = fromIndex,\n              result = funcs[index].apply(this, arguments);\n\n          while ((fromRight ? index-- : ++index < length)) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      };\n    }\n\n    /**\n     * Creates a function that produces compound words out of the words in a\n     * given string.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        var index = -1,\n            array = words(deburr(string)),\n            length = array.length,\n            result = '';\n\n        while (++index < length) {\n          result = callback(result, array[index], index);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtorWrapper(Ctor) {\n      return function() {\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, arguments);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that gets the extremum value of a collection.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to get the extremum value from an array.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the maximum,\n     *  extremum value.\n     * @returns {Function} Returns the new extremum function.\n     */\n    function createExtremum(arrayFunc, isMin) {\n      return function(collection, iteratee, thisArg) {\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n          iteratee = null;\n        }\n        var func = getCallback(),\n            noIteratee = iteratee == null;\n\n        if (!(func === baseCallback && noIteratee)) {\n          noIteratee = false;\n          iteratee = func(iteratee, thisArg, 3);\n        }\n        if (noIteratee) {\n          var isArr = isArray(collection);\n          if (!isArr && isString(collection)) {\n            iteratee = charAtCallback;\n          } else {\n            return arrayFunc(isArr ? collection : toIterable(collection));\n          }\n        }\n        return extremumBy(collection, iteratee, isMin);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with optional `this`\n     * binding of, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & ARY_FLAG,\n          isBind = bitmask & BIND_FLAG,\n          isBindKey = bitmask & BIND_KEY_FLAG,\n          isCurry = bitmask & CURRY_FLAG,\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG;\n\n      var Ctor = !isBindKey && createCtorWrapper(func),\n          key = func;\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it to other functions.\n        var length = arguments.length,\n            index = length,\n            args = Array(length);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight);\n        }\n        if (isCurry || isCurryRight) {\n          var placeholder = wrapper.placeholder,\n              argsHolders = replaceHolders(args, placeholder);\n\n          length -= argsHolders.length;\n          if (length < arity) {\n            var newArgPos = argPos ? arrayCopy(argPos) : null,\n                newArity = nativeMax(arity - length, 0),\n                newsHolders = isCurry ? argsHolders : null,\n                newHoldersRight = isCurry ? null : argsHolders,\n                newPartials = isCurry ? args : null,\n                newPartialsRight = isCurry ? null : args;\n\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n            if (!isCurryBound) {\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n            }\n            var result = createHybridWrapper(func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity);\n            result.placeholder = placeholder;\n            return result;\n          }\n        }\n        var thisBinding = isBind ? thisArg : this;\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (argPos) {\n          args = reorder(args, argPos);\n        }\n        if (isAry && ary < args.length) {\n          args.length = ary;\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? (Ctor || createCtorWrapper(func)) : func;\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates the pad required for `string` based on the given padding length.\n     * The `chars` string may be truncated if the number of padding characters\n     * exceeds the padding length.\n     *\n     * @private\n     * @param {string} string The string to create padding for.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the pad for `string`.\n     */\n    function createPad(string, length, chars) {\n      var strLength = string.length;\n      length = +length;\n\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return '';\n      }\n      var padLength = length - strLength;\n      chars = chars == null ? ' ' : (chars + '');\n      return repeat(chars, ceil(padLength / chars.length)).slice(0, padLength);\n    }\n\n    /**\n     * Creates a function that wraps `func` and invokes it with the optional `this`\n     * binding of `thisArg` and the `partials` prepended to those provided to\n     * the wrapper.\n     *\n     * @private\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\n     * @returns {Function} Returns the new bound function.\n     */\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & BIND_FLAG,\n          Ctor = createCtorWrapper(func);\n\n      function wrapper() {\n        // Avoid `arguments` object use disqualifying optimizations by\n        // converting it to an array before providing it `func`.\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(argsLength + leftLength);\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of flags.\n     *  The bitmask may be composed of the following flags:\n     *     1 - `_.bind`\n     *     2 - `_.bindKey`\n     *     4 - `_.curry` or `_.curryRight` of a bound function\n     *     8 - `_.curry`\n     *    16 - `_.curryRight`\n     *    32 - `_.partial`\n     *    64 - `_.partialRight`\n     *   128 - `_.rearg`\n     *   256 - `_.ary`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n        partials = holders = null;\n      }\n      length -= (holders ? holders.length : 0);\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = null;\n      }\n      var data = !isBindKey && getData(func),\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\n\n      if (data && data !== true) {\n        mergeData(newData, data);\n        bitmask = newData[1];\n        arity = newData[9];\n      }\n      newData[9] = arity == null\n        ? (isBindKey ? 0 : func.length)\n        : (nativeMax(arity - length, 0) || 0);\n\n      if (bitmask == BIND_FLAG) {\n        var result = createBindWrapper(newData[0], newData[2]);\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\n        result = createPartialWrapper.apply(undefined, newData);\n      } else {\n        result = createHybridWrapper.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setter(result, newData);\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing arrays.\n     * @param {boolean} [isWhere] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, equalFunc, customizer, isWhere, stackA, stackB) {\n      var index = -1,\n          arrLength = array.length,\n          othLength = other.length,\n          result = true;\n\n      if (arrLength != othLength && !(isWhere && othLength > arrLength)) {\n        return false;\n      }\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (result && ++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        result = undefined;\n        if (customizer) {\n          result = isWhere\n            ? customizer(othValue, arrValue, index)\n            : customizer(arrValue, othValue, index);\n        }\n        if (typeof result == 'undefined') {\n          // Recursively compare arrays (susceptible to call stack limits).\n          if (isWhere) {\n            var othIndex = othLength;\n            while (othIndex--) {\n              othValue = other[othIndex];\n              result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isWhere, stackA, stackB);\n              if (result) {\n                break;\n              }\n            }\n          } else {\n            result = (arrValue && arrValue === othValue) || equalFunc(arrValue, othValue, customizer, isWhere, stackA, stackB);\n          }\n        }\n      }\n      return !!result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} value The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag) {\n      switch (tag) {\n        case boolTag:\n        case dateTag:\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\n          return +object == +other;\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case numberTag:\n          // Treat `NaN` vs. `NaN` as equal.\n          return (object != +object)\n            ? other != +other\n            // But, treat `-0` vs. `+0` as not equal.\n            : (object == 0 ? ((1 / object) == (1 / other)) : object == +other);\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings primitives and string\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\n          return object == (other + '');\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {boolean} [isWhere] Specify performing partial comparisons.\n     * @param {Array} [stackA] Tracks traversed `value` objects.\n     * @param {Array} [stackB] Tracks traversed `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, equalFunc, customizer, isWhere, stackA, stackB) {\n      var objProps = keys(object),\n          objLength = objProps.length,\n          othProps = keys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isWhere) {\n        return false;\n      }\n      var hasCtor,\n          index = -1;\n\n      while (++index < objLength) {\n        var key = objProps[index],\n            result = hasOwnProperty.call(other, key);\n\n        if (result) {\n          var objValue = object[key],\n              othValue = other[key];\n\n          result = undefined;\n          if (customizer) {\n            result = isWhere\n              ? customizer(othValue, objValue, key)\n              : customizer(objValue, othValue, key);\n          }\n          if (typeof result == 'undefined') {\n            // Recursively compare objects (susceptible to call stack limits).\n            result = (objValue && objValue === othValue) || equalFunc(objValue, othValue, customizer, isWhere, stackA, stackB);\n          }\n        }\n        if (!result) {\n          return false;\n        }\n        hasCtor || (hasCtor = key == 'constructor');\n      }\n      if (!hasCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\n     * in `collection` to generate the criterion by which the value is ranked.\n     * The `iteratee` is invoked with three arguments; (value, index, collection).\n     *\n     * @private\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {boolean} [isMin] Specify returning the minimum, instead of the\n     *  maximum, extremum value.\n     * @returns {*} Returns the extremum value.\n     */\n    function extremumBy(collection, iteratee, isMin) {\n      var exValue = isMin ? POSITIVE_INFINITY : NEGATIVE_INFINITY,\n          computed = exValue,\n          result = computed;\n\n      baseEach(collection, function(value, index, collection) {\n        var current = iteratee(value, index, collection);\n        if ((isMin ? (current < computed) : (current > computed)) ||\n            (current === exValue && current === result)) {\n          computed = current;\n          result = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseCallback` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getCallback(func, thisArg, argCount) {\n      var result = lodash.callback || callback;\n      result = result === callback ? baseCallback : result;\n      return argCount ? result(func, thisArg, argCount) : result;\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized this function returns the custom method, otherwise it returns\n     * the `baseIndexOf` function. If arguments are provided the chosen function\n     * is invoked with them and its result is returned.\n     *\n     * @private\n     * @returns {Function|number} Returns the chosen function or its result.\n     */\n    function getIndexOf(collection, target, fromIndex) {\n      var result = lodash.indexOf || indexOf;\n      result = result === indexOf ? baseIndexOf : result;\n      return collection ? result(collection, target, fromIndex) : result;\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} [transforms] The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms ? transforms.length : 0;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add array properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      var Ctor = object.constructor;\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\n        Ctor = Object;\n      }\n      return new Ctor;\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return bufferClone(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          var buffer = object.buffer;\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          var result = new Ctor(object.source, reFlags.exec(object));\n          result.lastIndex = object.lastIndex;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `func` is eligible for `this` binding.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is eligible, else `false`.\n     */\n    function isBindable(func) {\n      var support = lodash.support,\n          result = !(support.funcNames ? func.name : support.funcDecomp);\n\n      if (!result) {\n        var source = fnToString.call(func);\n        if (!support.funcNames) {\n          result = !reFuncName.test(source);\n        }\n        if (!result) {\n          // Check if `func` references the `this` keyword and store the result.\n          result = reThis.test(source) || isNative(func);\n          baseSetData(func, result);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      value = +value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n      return value > -1 && value % 1 == 0 && value < length;\n    }\n\n    /**\n     * Checks if the provided arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number') {\n        var length = object.length,\n            prereq = isLength(length) && isIndex(index, length);\n      } else {\n        prereq = type == 'string' && index in object;\n      }\n      if (prereq) {\n        var other = object[index];\n        return value === value ? (value === other) : (other !== other);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This function is based on ES `ToLength`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n     * for more details.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     */\n    function isLength(value) {\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && (value === 0 ? ((1 / value) > 0) : !isObject(value));\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers required to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\n     * augment function arguments, making the order in which they are executed important,\n     * preventing the merging of metadata. However, we make an exception for a safe\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask;\n\n      var arityFlags = ARY_FLAG | REARG_FLAG,\n          bindFlags = BIND_FLAG | BIND_KEY_FLAG,\n          comboFlags = arityFlags | bindFlags | CURRY_BOUND_FLAG | CURRY_RIGHT_FLAG;\n\n      var isAry = bitmask & ARY_FLAG && !(srcBitmask & ARY_FLAG),\n          isRearg = bitmask & REARG_FLAG && !(srcBitmask & REARG_FLAG),\n          argPos = (isRearg ? data : source)[7],\n          ary = (isAry ? data : source)[8];\n\n      var isCommon = !(bitmask >= REARG_FLAG && srcBitmask > bindFlags) &&\n        !(bitmask > bindFlags && srcBitmask >= REARG_FLAG);\n\n      var isCombo = (newBitmask >= arityFlags && newBitmask <= comboFlags) &&\n        (bitmask < REARG_FLAG || ((isRearg || isAry) && argPos.length <= ary));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = arrayCopy(value);\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * A specialized version of `_.pick` that picks `object` properties specified\n     * by the `props` array.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} props The property names to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByArray(object, props) {\n      object = toObject(object);\n\n      var index = -1,\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        if (key in object) {\n          result[key] = object[key];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.pick` that picks `object` properties `predicate`\n     * returns truthy for.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Object} Returns the new object.\n     */\n    function pickByCallback(object, predicate) {\n      var result = {};\n      baseForIn(object, function(value, key, object) {\n        if (predicate(value, key, object)) {\n          result[key] = value;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = arrayCopy(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity function\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = (function() {\n      var count = 0,\n          lastCalled = 0;\n\n      return function(key, value) {\n        var stamp = now(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return key;\n          }\n        } else {\n          count = 0;\n        }\n        return baseSetData(key, value);\n      };\n    }());\n\n    /**\n     * A fallback implementation of `_.isPlainObject` which checks if `value`\n     * is an object created by the `Object` constructor or has a `[[Prototype]]`\n     * of `null`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var Ctor,\n          support = lodash.support;\n\n      // Exit early for non `Object` objects.\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag) ||\n          (!hasOwnProperty.call(value, 'constructor') &&\n            (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\n        return false;\n      }\n      // IE < 9 iterates inherited properties before own properties. If the first\n      // iterated property is an object's own property then there are no inherited\n      // enumerable properties.\n      var result;\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      baseForIn(value, function(subValue, key) {\n        result = key;\n      });\n      return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * A fallback implementation of `Object.keys` which creates an array of the\n     * own enumerable property names of `object`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     */\n    function shimKeys(object) {\n      var props = keysIn(object),\n          propsLength = props.length,\n          length = propsLength && object.length,\n          support = lodash.support;\n\n      var allowIndexes = length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object)));\n\n      var index = -1,\n          result = [];\n\n      while (++index < propsLength) {\n        var key = props[index];\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to an array-like object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Array|Object} Returns the array-like object.\n     */\n    function toIterable(value) {\n      if (value == null) {\n        return [];\n      }\n      if (!isLength(value.length)) {\n        return values(value);\n      }\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Converts `value` to an object if it is not one.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {Object} Returns the object.\n     */\n    function toObject(value) {\n      return isObject(value) ? value : Object(value);\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      return wrapper instanceof LazyWrapper\n        ? wrapper.clone()\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `collection` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new array containing chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\n        size = 1;\n      } else {\n        size = nativeMax(+size || 1, 1);\n      }\n      var index = 0,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = Array(ceil(length / size));\n\n      while (index < length) {\n        result[++resIndex] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          resIndex = -1,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[++resIndex] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using\n     * `SameValueZero` for equality comparisons.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3], [4, 2]);\n     * // => [1, 3]\n     */\n    function difference() {\n      var args = arguments,\n          index = -1,\n          length = args.length;\n\n      while (++index < length) {\n        var value = args[index];\n        if (isArray(value) || isArguments(value)) {\n          break;\n        }\n      }\n      return baseDifference(value, baseFlatten(args, false, true, ++index));\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that match the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [1]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      predicate = getCallback(predicate, thisArg, 3);\n      while (length-- && predicate(array[length], length, array)) {}\n      return baseSlice(array, 0, length + 1);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * bound to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var index = -1;\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length && predicate(array[index], index, array)) {}\n      return baseSlice(array, index);\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function fill(array, value, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for, instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(chr) {\n     *   return chr.user == 'barney';\n     * });\n     * // => 0\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findIndex(users, 'active', false);\n     * // => 0\n     *\n     * // using the `_.property` callback shorthand\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0;\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        if (predicate(array[index], index, array)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(chr) {\n     *   return chr.user == 'pebbles';\n     * });\n     * // => 2\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastIndex(users, 'active', false);\n     * // => 2\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      predicate = getCallback(predicate, thisArg, 3);\n      while (length--) {\n        if (predicate(array[length], length, array)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([]);\n     * // => undefined\n     */\n    function first(array) {\n      return array ? array[0] : undefined;\n    }\n\n    /**\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\n     * flattened, otherwise it is only flattened a single level.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isDeep] Specify a deep flatten.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, [4]];\n     *\n     * // using `isDeep`\n     * _.flatten([1, [2, 3, [4]]], true);\n     * // => [1, 2, 3, 4];\n     */\n    function flatten(array, isDeep, guard) {\n      var length = array ? array.length : 0;\n      if (guard && isIterateeCall(array, isDeep, guard)) {\n        isDeep = false;\n      }\n      return length ? baseFlatten(array, isDeep, false, 0) : [];\n    }\n\n    /**\n     * Recursively flattens a nested array.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to recursively flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, 3, [4]]]);\n     * // => [1, 2, 3, 4];\n     */\n    function flattenDeep(array) {\n      var length = array ? array.length : 0;\n      return length ? baseFlatten(array, true, false, 0) : [];\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using `SameValueZero` for equality comparisons. If `fromIndex` is negative,\n     * it is used as the offset from the end of `array`. If `array` is sorted\n     * providing `true` for `fromIndex` performs a faster binary search.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // using `fromIndex`\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     *\n     * // performing a binary search\n     * _.indexOf([1, 1, 2, 2], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\n      } else if (fromIndex) {\n        var index = binaryIndex(array, value),\n            other = array[index];\n\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      return baseIndexOf(array, value, fromIndex || 0);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      return dropRight(array, 1);\n    }\n\n    /**\n     * Creates an array of unique values in all provided arrays using `SameValueZero`\n     * for equality comparisons.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of shared values.\n     * @example\n     * _.intersection([1, 2], [4, 2], [2, 1]);\n     * // => [2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = [],\n          indexOf = getIndexOf(),\n          isCommon = indexOf == baseIndexOf;\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArray(value) || isArguments(value)) {\n          args.push(value);\n          caches.push((isCommon && value.length >= 120) ? createCache(argsIndex && value) : null);\n        }\n      }\n      argsLength = args.length;\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          result = [],\n          seen = caches[0];\n\n      outer:\n      while (++index < length) {\n        value = array[index];\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\n          argsIndex = argsLength;\n          while (--argsIndex) {\n            var cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value, 0)) < 0) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(value);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array ? array.length : 0;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\n     *  or `true` to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // using `fromIndex`\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     *\n     * // performing a binary search\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\n     * // => 3\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\n      } else if (fromIndex) {\n        index = binaryIndex(array, value, true) - 1;\n        var other = array[index];\n        if (value === value ? (value === other) : (other !== other)) {\n          return index;\n        }\n        return -1;\n      }\n      if (value !== value) {\n        return indexOfNaN(array, index, true);\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from `array` using `SameValueZero` for equality\n     * comparisons.\n     *\n     * **Notes:**\n     *  - Unlike `_.without`, this method mutates `array`.\n     *  - `SameValueZero` comparisons are like strict equality comparisons, e.g. `===`,\n     *    except that `NaN` matches `NaN`. See the [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     *    for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     *\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull() {\n      var args = arguments,\n          array = args[0];\n\n      if (!(array && array.length)) {\n        return array;\n      }\n      var index = 0,\n          indexOf = getIndexOf(),\n          length = args.length;\n\n      while (++index < length) {\n        var fromIndex = 0,\n            value = args[index];\n\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to the given indexes and returns\n     * an array of the removed elements. Indexes may be specified as an array of\n     * indexes or as individual arguments.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [5, 10, 15, 20];\n     * var evens = _.pullAt(array, 1, 3);\n     *\n     * console.log(array);\n     * // => [5, 15]\n     *\n     * console.log(evens);\n     * // => [10, 20]\n     */\n    function pullAt(array) {\n      return basePullAt(array || [], baseFlatten(arguments, false, false, 1));\n    }\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is bound to\n     * `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          splice.call(array, index--, 1);\n          length--;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @alias tail\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function rest(array) {\n      return drop(array, 1);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This function is used instead of `Array#slice` to support node\n     * lists in IE < 9 and to ensure dense arrays are returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value` should\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\n     * function is provided it is invoked for `value` and each element of `array`\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\n     * invoked with one argument; (value).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     *\n     * _.sortedIndex([4, 4, 5, 5], 5);\n     * // => 2\n     *\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\n     *\n     * // using an iteratee function\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\n     *   return this.data[word];\n     * }, dict);\n     * // => 1\n     *\n     * // using the `_.property` callback shorthand\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 1\n     */\n    function sortedIndex(array, value, iteratee, thisArg) {\n      var func = getCallback(iteratee);\n      return (func === baseCallback && iteratee == null)\n        ? binaryIndex(array, value)\n        : binaryIndexBy(array, value, func(iteratee, thisArg, 1));\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value, iteratee, thisArg) {\n      var func = getCallback(iteratee);\n      return (func === baseCallback && iteratee == null)\n        ? binaryIndex(array, value, true)\n        : binaryIndexBy(array, value, func(iteratee, thisArg, 1), true);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\n        n = 1;\n      }\n      n = length - (+n || 0);\n      return baseSlice(array, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\n     * and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRightWhile([1, 2, 3], function(n) {\n     *   return n > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\n     * // => ['pebbles']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\n     * // => ['fred', 'pebbles']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeRightWhile(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      predicate = getCallback(predicate, thisArg, 3);\n      while (length-- && predicate(array[length], length, array)) {}\n      return baseSlice(array, length + 1);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is bound to\n     * `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeWhile([1, 2, 3], function(n) {\n     *   return n < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false},\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\n     * // => ['barney', 'fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\n     * // => []\n     */\n    function takeWhile(array, predicate, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      var index = -1;\n      predicate = getCallback(predicate, thisArg, 3);\n      while (++index < length && predicate(array[index], index, array)) {}\n      return baseSlice(array, 0, index);\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * `SameValueZero` for equality comparisons.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([1, 2], [4, 2], [2, 1]);\n     * // => [1, 2, 4]\n     */\n    function union() {\n      return baseUniq(baseFlatten(arguments, false, true, 0));\n    }\n\n    /**\n     * Creates a duplicate-value-free version of an array using `SameValueZero`\n     * for equality comparisons. Providing `true` for `isSorted` performs a faster\n     * search algorithm for sorted arrays. If an iteratee function is provided it\n     * is invoked for each value in the array to generate the criterion by which\n     * uniqueness is computed. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {boolean} [isSorted] Specify the array is sorted.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1]);\n     * // => [1, 2]\n     *\n     * // using `isSorted`\n     * _.uniq([1, 1, 2], true);\n     * // => [1, 2]\n     *\n     * // using an iteratee function\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => [1, 2.5]\n     *\n     * // using the `_.property` callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, iteratee, thisArg) {\n      var length = array ? array.length : 0;\n      if (!length) {\n        return [];\n      }\n      if (isSorted != null && typeof isSorted != 'boolean') {\n        thisArg = iteratee;\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? null : isSorted;\n        isSorted = false;\n      }\n      var func = getCallback();\n      if (!(func === baseCallback && iteratee == null)) {\n        iteratee = func(iteratee, thisArg, 3);\n      }\n      return (isSorted && getIndexOf() == baseIndexOf)\n        ? sortedUniq(array, iteratee)\n        : baseUniq(array, iteratee);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-`_.zip`\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\n     */\n    function unzip(array) {\n      var index = -1,\n          length = (array && array.length && arrayMax(arrayMap(array, getLength))) >>> 0,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = arrayMap(array, baseProperty(index));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all provided values using `SameValueZero` for\n     * equality comparisons.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {Array} array The array to filter.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 3], 1, 2);\n     * // => [3]\n     */\n    function without(array) {\n      return baseDifference(array, baseSlice(arguments, 1));\n    }\n\n    /**\n     * Creates an array that is the symmetric difference of the provided arrays.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Symmetric_difference) for\n     * more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of values.\n     * @example\n     *\n     * _.xor([1, 2], [4, 2]);\n     * // => [1, 4]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArray(array) || isArguments(array)) {\n          var result = result\n            ? baseDifference(result, array).concat(baseDifference(array, result))\n            : array;\n        }\n      }\n      return result ? baseUniq(result) : [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second elements\n     * of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    function zip() {\n      var length = arguments.length,\n          array = Array(length);\n\n      while (length--) {\n        array[length] = arguments[length];\n      }\n      return unzip(array);\n    }\n\n    /**\n     * Creates an object composed from arrays of property names and values. Provide\n     * either a single two dimensional array, e.g. `[[key1, value1], [key2, value2]]`\n     * or two arrays, one of property names and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Array\n     * @param {Array} props The property names.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(props, values) {\n      var index = -1,\n          length = props ? props.length : 0,\n          result = {};\n\n      if (length && !values && !isArray(props[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = props[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps `value` with explicit method\n     * chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(users)\n     *   .sortBy('age')\n     *   .map(function(chr) {\n     *     return chr.user + ' is ' + chr.age;\n     *   })\n     *   .first()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor is\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\n     * this method is to \"tap into\" a method chain in order to perform operations\n     * on intermediate results within the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor, thisArg) {\n      interceptor.call(thisArg, value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     *\n     * @static\n     * @memberOf _\n     * @category Chain\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .last()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => [3]\n     */\n    function thru(value, interceptor, thisArg) {\n      return interceptor.call(thisArg, value);\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(users).first();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(users).chain()\n     *   .first()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chained sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapper = wrapper.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapper.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapper = _(array).map(function(value) {\n     *   return Math.pow(value, 2);\n     * });\n     *\n     * var other = [3, 4];\n     * var otherWrapper = wrapper.plant(other);\n     *\n     * otherWrapper.value();\n     * // => [9, 16]\n     *\n     * wrapper.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * Reverses the wrapped array so the first element becomes the last, the\n     * second element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @category Chain\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        if (this.__actions__.length) {\n          value = new LazyWrapper(this);\n        }\n        return new LodashWrapper(value.reverse(), this.__chain__);\n      }\n      return this.thru(function(value) {\n        return value.reverse();\n      });\n    }\n\n    /**\n     * Produces the result of coercing the unwrapped value to a string.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chain\n     * @returns {string} Returns the coerced string value.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return (this.value() + '');\n    }\n\n    /**\n     * Executes the chained sequence to extract the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @alias run, toJSON, valueOf\n     * @category Chain\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements corresponding to the given keys, or indexes,\n     * of `collection`. Keys may be specified as individual arguments or as arrays\n     * of keys.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [props] The property names\n     *  or indexes of elements to pick, specified individually or in arrays.\n     * @returns {Array} Returns the new array of picked elements.\n     * @example\n     *\n     * _.at(['a', 'b', 'c'], [0, 2]);\n     * // => ['a', 'c']\n     *\n     * _.at(['fred', 'barney', 'pebbles'], 0, 2);\n     * // => ['fred', 'pebbles']\n     */\n    function at(collection) {\n      var length = collection ? collection.length : 0;\n      if (isLength(length)) {\n        collection = toIterable(collection);\n      }\n      return baseAt(collection, baseFlatten(arguments, false, false, 1));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the number of times the key was returned by `iteratee`.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * The predicate is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': false },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.every(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.filter([4, 5, 6], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 6]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.filter(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.filter(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function filter(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, predicate);\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.result(_.find(users, function(chr) {\n     *   return chr.age < 40;\n     * }), 'user');\n     * // => 'barney'\n     *\n     * // using the `_.matches` callback shorthand\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.result(_.find(users, 'active', false), 'user');\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.result(_.find(users, 'active'), 'user');\n     * // => 'barney'\n     */\n    function find(collection, predicate, thisArg) {\n      if (isArray(collection)) {\n        var index = findIndex(collection, predicate, thisArg);\n        return index > -1 ? collection[index] : undefined;\n      }\n      predicate = getCallback(predicate, thisArg, 3);\n      return baseFind(collection, predicate, baseEach);\n    }\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    function findLast(collection, predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 3);\n      return baseFind(collection, predicate, baseEachRight);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning the first element that has equivalent property\n     * values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\n     * // => 'barney'\n     *\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\n     * // => 'fred'\n     */\n    function findWhere(collection, source) {\n      return find(collection, baseMatches(source));\n    }\n\n    /**\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection). Iterator functions may exit iteration early\n     * by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a `length` property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEach(function(n) {\n     *   console.log(n);\n     * }).value();\n     * // => logs each value from left to right and returns the array\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\n     *   console.log(n, key);\n     * });\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\n     */\n    function forEach(collection, iteratee, thisArg) {\n      return (typeof iteratee == 'function' && typeof thisArg == 'undefined' && isArray(collection))\n        ? arrayEach(collection, iteratee)\n        : baseEach(collection, bindCallback(iteratee, thisArg, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2]).forEachRight(function(n) {\n     *   console.log(n);\n     * }).join(',');\n     * // => logs each value from right to left and returns the array\n     */\n    function forEachRight(collection, iteratee, thisArg) {\n      return (typeof iteratee == 'function' && typeof thisArg == 'undefined' && isArray(collection))\n        ? arrayEachRight(collection, iteratee)\n        : baseEachRight(collection, bindCallback(iteratee, thisArg, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return Math.floor(n);\n     * });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\n     *   return this.floor(n);\n     * }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using the `_.property` callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        result[key] = [value];\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection` using `SameValueZero` for equality\n     * comparisons. If `fromIndex` is negative, it is used as the offset from\n     * the end of `collection`.\n     *\n     * **Note:** `SameValueZero` comparisons are like strict equality comparisons,\n     * e.g. `===`, except that `NaN` matches `NaN`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-samevaluezero)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @alias contains, include\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {*} target The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.includes('pebbles', 'eb');\n     * // => true\n     */\n    function includes(collection, target, fromIndex) {\n      var length = collection ? collection.length : 0;\n      if (!isLength(length)) {\n        collection = values(collection);\n        length = collection.length;\n      }\n      if (!length) {\n        return false;\n      }\n      if (typeof fromIndex == 'number') {\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\n      } else {\n        fromIndex = 0;\n      }\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\n        ? (fromIndex < length && collection.indexOf(target, fromIndex) > -1)\n        : (getIndexOf(collection, target, fromIndex) > -1);\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through `iteratee`. The corresponding value\n     * of each key is the last element responsible for generating the key. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keyData = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keyData, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return String.fromCharCode(object.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keyData, function(object) {\n     *   return this.fromCharCode(object.code);\n     * }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method named by `methodName` on each element in `collection`,\n     * returning an array of the results of each invoked method. Any additional\n     * arguments are provided to each invoked method. If `methodName` is a function\n     * it is invoked for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    function invoke(collection, methodName) {\n      return baseInvoke(collection, methodName, baseSlice(arguments, 2));\n    }\n\n    /**\n     * Creates an array of values by running each element in `collection` through\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`, `drop`,\n     * `dropRight`, `fill`, `flatten`, `invert`, `max`, `min`, `parseInt`, `slice`,\n     * `sortBy`, `take`, `takeRight`, `template`, `trim`, `trimLeft`, `trimRight`,\n     * `trunc`, `random`, `range`, `sample`, `uniq`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     *  create a `_.property` or `_.matches` style callback respectively.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function timesThree(n) {\n     *   return n * 3;\n     * }\n     *\n     * _.map([1, 2], timesThree);\n     * // => [3, 6]\n     *\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\n     * // => [3, 6] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee, thisArg) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      iteratee = getCallback(iteratee, thisArg, 3);\n      return func(collection, iteratee);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, while the second of which\n     * contains elements `predicate` returns falsey for. The predicate is bound\n     * to `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * _.partition([1, 2, 3], function(n) {\n     *   return n % 2;\n     * });\n     * // => [[1, 3], [2]]\n     *\n     * _.partition([1.2, 2.3, 3.4], function(n) {\n     *   return this.floor(n) % 2;\n     * }, Math);\n     * // => [[1.2, 3.4], [2.3]]\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * var mapper = function(array) {\n     *   return _.pluck(array, 'user');\n     * };\n     *\n     * // using the `_.matches` callback shorthand\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\n     * // => [['pebbles'], ['barney', 'fred']]\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.map(_.partition(users, 'active', false), mapper);\n     * // => [['barney', 'pebbles'], ['fred']]\n     *\n     * // using the `_.property` callback shorthand\n     * _.map(_.partition(users, 'active'), mapper);\n     * // => [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Gets the value of `key` from all elements in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string} key The key of the property to pluck.\n     * @returns {Array} Returns the property values.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(users, 'user');\n     * // => ['barney', 'fred']\n     *\n     * var userIndex = _.indexBy(users, 'user');\n     * _.pluck(userIndex, 'age');\n     * // => [36, 40] (iteration order is not guaranteed)\n     */\n    function pluck(collection, key) {\n      return map(collection, baseProperty(key));\n    }\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` through `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not provided the first element of `collection` is used as the initial\n     * value. The `iteratee` is bound to `thisArg`and invoked with four arguments;\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as interatees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `merge`, and `sortAllBy`\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * });\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator, thisArg) {\n      var func = isArray(collection) ? arrayReduce : baseReduce;\n      return func(collection, getCallback(iteratee, thisArg, 4), accumulator, arguments.length < 3, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator, thisArg) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce;\n      return func(collection, getCallback(iteratee, thisArg, 4), accumulator, arguments.length < 3, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * _.reject([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 0;\n     * });\n     * // => [1, 3]\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\n     * // => ['barney']\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.pluck(_.reject(users, 'active', false), 'user');\n     * // => ['fred']\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.reject(users, 'active'), 'user');\n     * // => ['barney']\n     */\n    function reject(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      predicate = getCallback(predicate, thisArg, 3);\n      return func(collection, function(value, index, collection) {\n        return !predicate(value, index, collection);\n      });\n    }\n\n    /**\n     * Gets a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {*} Returns the random sample(s).\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\n        collection = toIterable(collection);\n        var length = collection.length;\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(n < 0 ? 0 : (+n || 0), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the Fisher-Yates\n     * shuffle. See [Wikipedia](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      collection = toIterable(collection);\n\n      var index = -1,\n          length = collection.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var rand = baseRandom(0, index);\n        if (index != rand) {\n          result[index] = result[rand];\n        }\n        result[rand] = collection[index];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the size of `collection`.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return isLength(length) ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * The function returns as soon as it finds a passing value and does not iterate\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\n     * with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // using the `_.matches` callback shorthand\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.some(users, 'active', false);\n     * // => true\n     *\n     * // using the `_.property` callback shorthand\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, thisArg) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (typeof predicate != 'function' || typeof thisArg != 'undefined') {\n        predicate = getCallback(predicate, thisArg, 3);\n      }\n      return func(collection, predicate);\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through `iteratee`. This method performs\n     * a stable sort, that is, it preserves the original sort order of equal elements.\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|Object|string} [iteratee=_.identity] The function\n     *  invoked per iteration. If a property name or an object is provided it is\n     *  used to create a `_.property` or `_.matches` style callback respectively.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return Math.sin(n);\n     * });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(n) {\n     *   return this.sin(n);\n     * }, Math);\n     * // => [3, 1, 2]\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * // using the `_.property` callback shorthand\n     * _.pluck(_.sortBy(users, 'user'), 'user');\n     * // => ['barney', 'fred', 'pebbles']\n     */\n    function sortBy(collection, iteratee, thisArg) {\n      if (collection == null) {\n        return [];\n      }\n      var index = -1,\n          length = collection.length,\n          result = isLength(length) ? Array(length) : [];\n\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\n        iteratee = null;\n      }\n      iteratee = getCallback(iteratee, thisArg, 3);\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = { 'criteria': iteratee(value, key, collection), 'index': index, 'value': value };\n      });\n      return baseSortBy(result, compareAscending);\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it sorts by property names\n     * instead of an iteratee function.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(string|string[])} props The property names to sort by,\n     *  specified as individual property names or arrays of property names.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 26 },\n     *   { 'user': 'fred',   'age': 30 }\n     * ];\n     *\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\n     * // => [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n     */\n    function sortByAll(collection) {\n      if (collection == null) {\n        return [];\n      }\n      var args = arguments,\n          guard = args[3];\n\n      if (guard && isIterateeCall(args[1], args[2], guard)) {\n        args = [collection, args[1]];\n      }\n      return baseSortByOrder(collection, baseFlatten(args, false, false, 1), []);\n    }\n\n    /**\n     * This method is like `_.sortByAll` except that it allows specifying the\n     * sort orders of the property names to sort by. A truthy value in `orders`\n     * will sort the corresponding property name in ascending order while a\n     * falsey value will sort it in descending order.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string[]} props The property names to sort by.\n     * @param {boolean[]} orders The sort orders of `props`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 26 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 }\n     * ];\n     *\n     * // sort by `user` in ascending order and by `age` in descending order\n     * _.map(_.sortByOrder(users, ['user', 'age'], [true, false]), _.values);\n     * // => [['barney', 36], ['barney', 26], ['fred', 40], ['fred', 30]]\n     */\n    function sortByOrder(collection, props, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (guard && isIterateeCall(props, orders, guard)) {\n        orders = null;\n      }\n      if (!isArray(props)) {\n        props = props == null ? [] : [props];\n      }\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseSortByOrder(collection, props, orders);\n    }\n\n    /**\n     * Performs a deep comparison between each element in `collection` and the\n     * source object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to search.\n     * @param {Object} source The object of property values to match.\n     * @returns {Array} Returns the new filtered array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\n     * // => ['barney']\n     *\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\n     * // => ['fred']\n     */\n    function where(collection, source) {\n      return filter(collection, baseMatches(source));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Date\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\n     */\n    var now = nativeNow || function() {\n      return new Date().getTime();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it is called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'done saving!' after the two async saves have completed\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      n = nativeIsFinite(n = +n) ? n : 0;\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that accepts up to `n` arguments ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      if (guard && isIterateeCall(func, n, guard)) {\n        n = null;\n      }\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\n      return createWrapper(func, ARY_FLAG, null, null, null, null, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it is called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery('#add').on('click', _.before(5, addContactToList));\n     * // => allows adding up to 4 contacts to the list\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        if (typeof n == 'function') {\n          var temp = n;\n          n = func;\n          func = temp;\n        } else {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n      }\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        } else {\n          func = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and prepends any additional `_.bind` arguments to those provided to the\n     * bound function.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind` this method does not set the `length`\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [args] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var greet = function(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * };\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // using placeholders\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    function bind(func, thisArg) {\n      var bitmask = BIND_FLAG;\n      if (arguments.length > 2) {\n        var partials = baseSlice(arguments, 2),\n            holders = replaceHolders(partials, bind.placeholder);\n\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(func, bitmask, thisArg, partials, holders);\n    }\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all enumerable function\n     * properties, own and inherited, of `object` are bound.\n     *\n     * **Note:** This method does not set the `length` property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\n     *  specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs' when the element is clicked\n     */\n    function bindAll(object) {\n      return baseBindAll(object,\n        arguments.length > 1\n          ? baseFlatten(arguments, false, false, 1)\n          : functions(object)\n      );\n    }\n\n    /**\n     * Creates a function that invokes the method at `object[key]` and prepends\n     * any additional `_.bindKey` arguments to those provided to the bound function.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist.\n     * See [Peter Michaux's article](http://michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [args] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // using placeholders\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    function bindKey(object, key) {\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n      if (arguments.length > 2) {\n        var partials = baseSlice(arguments, 2),\n            holders = replaceHolders(partials, bindKey.placeholder);\n\n        bitmask |= PARTIAL_FLAG;\n      }\n      return createWrapper(key, bitmask, object, partials, holders);\n    }\n\n    /**\n     * Creates a function that accepts one or more arguments of `func` that when\n     * called either invokes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\n     * if `func.length` is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the `length` property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      if (guard && isIterateeCall(func, arity, guard)) {\n        arity = null;\n      }\n      var result = createWrapper(func, CURRY_FLAG, null, null, null, null, null, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method does not set the `length` property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // using placeholders\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      if (guard && isIterateeCall(func, arity, guard)) {\n        arity = null;\n      }\n      var result = createWrapper(func, CURRY_RIGHT_FLAG, null, null, null, null, null, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a function that delays invoking `func` until after `wait` milliseconds\n     * have elapsed since the last time it was invoked. The created function comes\n     * with a `cancel` method to cancel delayed invocations. Provide an options\n     * object to indicate that `func` should be invoked on the leading and/or\n     * trailing edge of the `wait` timeout. Subsequent calls to the debounced\n     * function return the result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n     *  delayed before it is invoked.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }));\n     *\n     * // cancel a debounced call\n     * var todoChanges = _.debounce(batchLog, 1000);\n     * Object.observe(models.todo, todoChanges);\n     *\n     * Object.observe(models, function(changes) {\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\n     *     todoChanges.cancel();\n     *   }\n     * }, ['delete']);\n     *\n     * // ...at some point `models.todo` is changed\n     * models.todo.completed = true;\n     *\n     * // ...before 1 second has passed `models.todo` is deleted\n     * // which cancels the debounced `todoChanges` call\n     * delete models.todo;\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = wait < 0 ? 0 : (+wait || 0);\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n\n      function cancel() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        if (maxTimeoutId) {\n          clearTimeout(maxTimeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n      }\n\n      function delayed() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0 || remaining > wait) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      }\n\n      function maxDelayed() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      }\n\n      function debounced() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0 || remaining > maxWait;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    function defer(func) {\n      return baseDelay(func, 1, arguments, 1);\n    }\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    function delay(func, wait) {\n      return baseDelay(func, wait, arguments, 2);\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the provided\n     * functions with the `this` binding of the created function, where each\n     * successive invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow(_.add, square);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createComposer();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the provided functions from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias backflow, compose\n     * @category Function\n     * @param {...Function} [funcs] Functions to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight(square, _.add);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createComposer(true);\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is coerced to a string and used as the\n     * cache key. The `func` is invoked with the `this` binding of the memoized\n     * function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the ES `Map` method interface\n     * of `get`, `has`, and `set`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-properties-of-the-map-prototype-object)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var upperCase = _.memoize(function(string) {\n     *   return string.toUpperCase();\n     * });\n     *\n     * upperCase('fred');\n     * // => 'FRED'\n     *\n     * // modifying the result cache\n     * upperCase.cache.set('fred', 'BARNEY');\n     * upperCase('fred');\n     * // => 'BARNEY'\n     *\n     * // replacing `_.memoize.Cache`\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'barney' };\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'fred' }\n     *\n     * _.memoize.Cache = WeakMap;\n     * var identity = _.memoize(_.identity);\n     *\n     * identity(object);\n     * // => { 'user': 'fred' }\n     * identity(other);\n     * // => { 'user': 'barney' }\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            cache = memoized.cache,\n            key = resolver ? resolver.apply(this, args) : args[0];\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        cache.set(key, result);\n        return result;\n      };\n      memoized.cache = new memoize.Cache;\n      return memoized;\n    }\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        return !predicate.apply(this, arguments);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first call. The `func` is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` invokes `createApplication` once\n     */\n    function once(func) {\n      return before(func, 2);\n    }\n\n    /**\n     * Creates a function that invokes `func` with `partial` arguments prepended\n     * to those provided to the new function. This method is like `_.bind` except\n     * it does **not** alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the `length` property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [args] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // using placeholders\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    function partial(func) {\n      var partials = baseSlice(arguments, 1),\n          holders = replaceHolders(partials, partial.placeholder);\n\n      return createWrapper(func, PARTIAL_FLAG, null, partials, holders);\n    }\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to those provided to the new function.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method does not set the `length` property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [args] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) {\n     *   return greeting + ' ' + name;\n     * };\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // using placeholders\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    function partialRight(func) {\n      var partials = baseSlice(arguments, 1),\n          holders = replaceHolders(partials, partialRight.placeholder);\n\n      return createWrapper(func, PARTIAL_RIGHT_FLAG, null, partials, holders);\n    }\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified indexes where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes,\n     *  specified as individual indexes or arrays of indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, 2, 0, 1);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     *\n     * var map = _.rearg(_.map, [1, 0]);\n     * map(function(n) {\n     *   return n * 3;\n     * }, [1, 2, 3]);\n     * // => [3, 6, 9]\n     */\n    function rearg(func) {\n      var indexes = baseFlatten(arguments, false, false, 1);\n      return createWrapper(func, REARG_FLAG, null, null, null, indexes);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and the array of arguments provided to the created\n     * function much like [Function#apply](http://es5.github.io/#x15.3.4.3).\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @returns {*} Returns the new function.\n     * @example\n     *\n     * var spread = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * spread(['Fred', 'hello']);\n     * // => 'Fred says hello'\n     *\n     * // with a Promise\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function(array) {\n        return func.apply(this, array);\n      };\n    }\n\n    /**\n     * Creates a function that only invokes `func` at most once per every `wait`\n     * milliseconds. The created function comes with a `cancel` method to cancel\n     * delayed invocations. Provide an options object to indicate that `func`\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\n     * Subsequent calls to the throttled function return the result of the last\n     * `func` call.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\n     *  edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n     *  edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     *\n     * // cancel a trailing throttled call\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = +wait;\n      debounceOptions.trailing = trailing;\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Any additional arguments provided to the function are\n     * appended to those provided to the wrapper function. The wrapper is invoked\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      wrapper = wrapper == null ? identity : wrapper;\n      return createWrapper(wrapper, PARTIAL_FLAG, null, [value], []);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\n     * otherwise they are assigned by reference. If `customizer` is provided it is\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\n     * cloning is handled by the method instead. The `customizer` is bound to\n     * `thisArg` and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the structured clone algorithm.\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps. See the [HTML5 specification](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var shallow = _.clone(users);\n     * shallow[0] === users[0];\n     * // => true\n     *\n     * var deep = _.clone(users, true);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.clone(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, customizer, thisArg) {\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\n        isDeep = false;\n      }\n      else if (typeof isDeep == 'function') {\n        thisArg = customizer;\n        customizer = isDeep;\n        isDeep = false;\n      }\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, isDeep, customizer);\n    }\n\n    /**\n     * Creates a deep clone of `value`. If `customizer` is provided it is invoked\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\n     * and invoked with two argument; (value [, index|key, object]).\n     *\n     * **Note:** This method is loosely based on the structured clone algorithm.\n     * The enumerable properties of `arguments` objects and objects created by\n     * constructors other than `Object` are cloned to plain `Object` objects. An\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\n     * Maps, Sets, and WeakMaps. See the [HTML5 specification](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to deep clone.\n     * @param {Function} [customizer] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * var deep = _.cloneDeep(users);\n     * deep[0] === users[0];\n     * // => false\n     *\n     * // using a customizer callback\n     * var el = _.cloneDeep(document.body, function(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * });\n     *\n     * el === document.body\n     * // => false\n     * el.nodeName\n     * // => BODY\n     * el.childNodes.length;\n     * // => 20\n     */\n    function cloneDeep(value, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 1);\n      return baseClone(value, true, customizer);\n    }\n\n    /**\n     * Checks if `value` is classified as an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      var length = isObjectLike(value) ? value.length : undefined;\n      return (isLength(length) && objToString.call(value) == argsTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(function() { return arguments; }());\n     * // => false\n     */\n    var isArray = nativeIsArray || function(value) {\n      return (isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag) || false;\n    };\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return (value === true || value === false || isObjectLike(value) && objToString.call(value) == boolTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    function isDate(value) {\n      return (isObjectLike(value) && objToString.call(value) == dateTag) || false;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return (value && value.nodeType === 1 && isObjectLike(value) &&\n        (objToString.call(value).indexOf('Element') > -1)) || false;\n    }\n    // Fallback for environments without DOM support.\n    if (!support.dom) {\n      isElement = function(value) {\n        return (value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value)) || false;\n      };\n    }\n\n    /**\n     * Checks if `value` is empty. A value is considered empty unless it is an\n     * `arguments` object, array, string, or jQuery-like collection with a length\n     * greater than `0` or an object with own enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      var length = value.length;\n      if (isLength(length) && (isArray(value) || isString(value) || isArguments(value) ||\n          (isObjectLike(value) && isFunction(value.splice)))) {\n        return !length;\n      }\n      return !keys(value).length;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent. If `customizer` is provided it is invoked to compare values.\n     * If `customizer` returns `undefined` comparisons are handled by the method\n     * instead. The `customizer` is bound to `thisArg` and invoked with three\n     * arguments; (value, other [, index|key]).\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\n     * are **not** supported. Provide a customizer function to extend support\n     * for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var other = { 'user': 'fred' };\n     *\n     * object == other;\n     * // => false\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * // using a customizer callback\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqual(array, other, function(value, other) {\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\n     *     return true;\n     *   }\n     * });\n     * // => true\n     */\n    function isEqual(value, other, customizer, thisArg) {\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && isStrictComparable(value) && isStrictComparable(other)) {\n        return value === other;\n      }\n      var result = customizer ? customizer(value, other) : undefined;\n      return typeof result == 'undefined' ? baseIsEqual(value, other, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      return (isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag) || false;\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on ES `Number.isFinite`. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-number.isfinite)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(10);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => false\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite(Object(10));\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    var isFinite = nativeNumIsFinite || function(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    var isFunction = !(baseIsFunction(/x/) || (Uint8Array && !baseIsFunction(Uint8Array))) ? baseIsFunction : function(value) {\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in older versions of Chrome and Safari which return 'function' for regexes\n      // and Safari 8 equivalents which return 'object' for typed array constructors.\n      return objToString.call(value) == funcTag;\n    };\n\n    /**\n     * Checks if `value` is the language type of `Object`.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * **Note:** See the [ES5 spec](https://es5.github.io/#x8) for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // Avoid a V8 JIT bug in Chrome 19-20.\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n      var type = typeof value;\n      return type == 'function' || (value && type == 'object') || false;\n    }\n\n    /**\n     * Performs a deep comparison between `object` and `source` to determine if\n     * `object` contains equivalent property values. If `customizer` is provided\n     * it is invoked to compare values. If `customizer` returns `undefined`\n     * comparisons are handled by the method instead. The `customizer` is bound\n     * to `thisArg` and invoked with three arguments; (value, other, index|key).\n     *\n     * **Note:** This method supports comparing properties of arrays, booleans,\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\n     * support for comparing other values.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.isMatch(object, { 'age': 40 });\n     * // => true\n     *\n     * _.isMatch(object, { 'age': 36 });\n     * // => false\n     *\n     * // using a customizer callback\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatch(object, source, function(value, other) {\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\n     * });\n     * // => true\n     */\n    function isMatch(object, source, customizer, thisArg) {\n      var props = keys(source),\n          length = props.length;\n\n      customizer = typeof customizer == 'function' && bindCallback(customizer, thisArg, 3);\n      if (!customizer && length == 1) {\n        var key = props[0],\n            value = source[key];\n\n        if (isStrictComparable(value)) {\n          return object != null && value === object[key] && hasOwnProperty.call(object, key);\n        }\n      }\n      var values = Array(length),\n          strictCompareFlags = Array(length);\n\n      while (length--) {\n        value = values[length] = source[props[length]];\n        strictCompareFlags[length] = isStrictComparable(value);\n      }\n      return baseIsMatch(object, props, values, strictCompareFlags, customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is not the same as native `isNaN` which returns `true`\n     * for `undefined` and other non-numeric values. See the [ES5 spec](https://es5.github.io/#x15.1.2.4)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (value == null) {\n        return false;\n      }\n      if (objToString.call(value) == funcTag) {\n        return reNative.test(fnToString.call(value));\n      }\n      return (isObjectLike(value) && reHostCtor.test(value)) || false;\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n     * as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4);\n     * // => true\n     *\n     * _.isNumber(NaN);\n     * // => true\n     *\n     * _.isNumber('8.4');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag) || false;\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * **Note:** This method assumes objects created by the `Object` constructor\n     * have no inherited enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && objToString.call(value) == objectTag)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    function isRegExp(value) {\n      return (isObjectLike(value) && objToString.call(value) == regexpTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag) || false;\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    function isTypedArray(value) {\n      return (isObjectLike(value) && isLength(value.length) && typedArrayTags[objToString.call(value)]) || false;\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * (function() {\n     *   return _.toArray(arguments).slice(1);\n     * }(1, 2, 3));\n     * // => [2, 3]\n     */\n    function toArray(value) {\n      var length = value ? value.length : 0;\n      if (!isLength(length)) {\n        return values(value);\n      }\n      if (!length) {\n        return [];\n      }\n      return arrayCopy(value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable\n     * properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return baseCopy(value, keysIn(value));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources overwrite property assignments of previous sources.\n     * If `customizer` is provided it is invoked to produce the assigned values.\n     * The `customizer` is bound to `thisArg` and invoked with five arguments;\n     * (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize assigning values.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\n     * // => { 'user': 'fred', 'age': 40 }\n     *\n     * // using a customizer callback\n     * var defaults = _.partialRight(_.assign, function(value, other) {\n     *   return typeof value == 'undefined' ? other : value;\n     * });\n     *\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    var assign = createAssigner(baseAssign);\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties, guard) {\n      var result = baseCreate(prototype);\n      if (guard && isIterateeCall(prototype, properties, guard)) {\n        properties = null;\n      }\n      return properties ? baseCopy(properties, result, keys(properties)) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional values of the same property are ignored.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n     * // => { 'user': 'barney', 'age': 36 }\n     */\n    function defaults(object) {\n      if (object == null) {\n        return object;\n      }\n      var args = arrayCopy(arguments);\n      args.push(assignDefaults);\n      return assign.apply(undefined, args);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it returns the key of the\n     * first element `predicate` returns truthy for, instead of the element itself.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 3);\n      return baseFind(object, predicate, baseForOwn, true);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\n     *\n     * // using the `_.matches` callback shorthand\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // using the `_.matchesProperty` callback shorthand\n     * _.findLastKey(users, 'active', false);\n     * // => 'fred'\n     *\n     * // using the `_.property` callback shorthand\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 3);\n      return baseFind(object, predicate, baseForOwnRight, true);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object invoking\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\n     * with three arguments; (value, key, object). Iterator functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\n     */\n    function forIn(object, iteratee, thisArg) {\n      if (typeof iteratee != 'function' || typeof thisArg != 'undefined') {\n        iteratee = bindCallback(iteratee, thisArg, 3);\n      }\n      return baseFor(object, iteratee, keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\n     */\n    function forInRight(object, iteratee, thisArg) {\n      iteratee = bindCallback(iteratee, thisArg, 3);\n      return baseForRight(object, iteratee, keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable properties of an object invoking `iteratee`\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\n     * three arguments; (value, key, object). Iterator functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\n     */\n    function forOwn(object, iteratee, thisArg) {\n      if (typeof iteratee != 'function' || typeof thisArg != 'undefined') {\n        iteratee = bindCallback(iteratee, thisArg, 3);\n      }\n      return baseForOwn(object, iteratee);\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\n     */\n    function forOwnRight(object, iteratee, thisArg) {\n      iteratee = bindCallback(iteratee, thisArg, 3);\n      return baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * Creates an array of function property names from all enumerable properties,\n     * own and inherited, of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of property names.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['after', 'ary', 'assign', ...]\n     */\n    function functions(object) {\n      return baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Checks if `key` exists as a direct property of `object` instead of an\n     * inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` is a direct property, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 3 };\n     *\n     * _.has(object, 'b');\n     * // => true\n     */\n    function has(object, key) {\n      return object ? hasOwnProperty.call(object, key) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite property\n     * assignments of previous values unless `multiValue` is `true`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {boolean} [multiValue] Allow multiple values per key.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     *\n     * // with `multiValue`\n     * _.invert(object, true);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function invert(object, multiValue, guard) {\n      if (guard && isIterateeCall(object, multiValue, guard)) {\n        multiValue = null;\n      }\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index],\n            value = object[key];\n\n        if (multiValue) {\n          if (hasOwnProperty.call(result, value)) {\n            result[value].push(key);\n          } else {\n            result[value] = [key];\n          }\n        }\n        else {\n          result[value] = key;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (object) {\n        var Ctor = object.constructor,\n            length = object.length;\n      }\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\n          (typeof object != 'function' && (length && isLength(length)))) {\n        return shimKeys(object);\n      }\n      return isObject(object) ? nativeKeys(object) : [];\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      if (object == null) {\n        return [];\n      }\n      if (!isObject(object)) {\n        object = Object(object);\n      }\n      var length = object.length;\n      length = (length && isLength(length) &&\n        (isArray(object) || (support.nonEnumArgs && isArguments(object))) && length) || 0;\n\n      var Ctor = object.constructor,\n          index = -1,\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\n          result = Array(length),\n          skipIndexes = length > 0;\n\n      while (++index < length) {\n        result[index] = (index + '');\n      }\n      for (var key in object) {\n        if (!(skipIndexes && isIndex(key, length)) &&\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through `iteratee`. The\n     * iteratee function is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * If a property name is provided for `iteratee` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `iteratee` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\n     *  per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Object} Returns the new mapped object.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\n     *   return n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using the `_.property` callback shorthand\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee, thisArg) {\n      var result = {};\n      iteratee = getCallback(iteratee, thisArg, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        result[key] = iteratee(value, key, object);\n      });\n      return result;\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * overwrite property assignments of previous sources. If `customizer` is\n     * provided it is invoked to produce the merged values of the destination and\n     * source properties. If `customizer` returns `undefined` merging is handled\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\n     * with five arguments; (objectValue, sourceValue, key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @param {Function} [customizer] The function to customize merging properties.\n     * @param {*} [thisArg] The `this` binding of `customizer`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var users = {\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n     * };\n     *\n     * var ages = {\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\n     * };\n     *\n     * _.merge(users, ages);\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n     *\n     * // using a customizer callback\n     * var object = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var other = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(object, other, function(a, b) {\n     *   if (_.isArray(a)) {\n     *     return a.concat(b);\n     *   }\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n     */\n    var merge = createAssigner(baseMerge);\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable properties of `object` that are not omitted.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If `predicate` is provided it is invoked for each property\n     * of `object` omitting the properties `predicate` returns truthy for. The\n     * predicate is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to omit, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.omit(object, 'age');\n     * // => { 'user': 'fred' }\n     *\n     * _.omit(object, _.isNumber);\n     * // => { 'user': 'fred' }\n     */\n    function omit(object, predicate, thisArg) {\n      if (object == null) {\n        return {};\n      }\n      if (typeof predicate != 'function') {\n        var props = arrayMap(baseFlatten(arguments, false, false, 1), String);\n        return pickByArray(object, baseDifference(keysIn(object), props));\n      }\n      predicate = bindCallback(predicate, thisArg, 3);\n      return pickByCallback(object, function(value, key, object) {\n        return !predicate(value, key, object);\n      });\n    }\n\n    /**\n     * Creates a two dimensional array of the key-value pairs for `object`,\n     * e.g. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties. Property\n     * names may be specified as individual arguments or as arrays of property\n     * names. If `predicate` is provided it is invoked for each property of `object`\n     * picking the properties `predicate` returns truthy for. The predicate is\n     * bound to `thisArg` and invoked with three arguments; (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `predicate`.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': 40 };\n     *\n     * _.pick(object, 'user');\n     * // => { 'user': 'fred' }\n     *\n     * _.pick(object, _.isString);\n     * // => { 'user': 'fred' }\n     */\n    function pick(object, predicate, thisArg) {\n      if (object == null) {\n        return {};\n      }\n      return typeof predicate == 'function'\n        ? pickByCallback(object, bindCallback(predicate, thisArg, 3))\n        : pickByArray(object, baseFlatten(arguments, false, false, 1));\n    }\n\n    /**\n     * Resolves the value of property `key` on `object`. If the value of `key` is\n     * a function it is invoked with the `this` binding of `object` and its result\n     * is returned, else the property value is returned. If the property value is\n     * `undefined` the `defaultValue` is used in its place.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to resolve.\n     * @param {*} [defaultValue] The value returned if the property value\n     *  resolves to `undefined`.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'user': 'fred', 'age': _.constant(40) };\n     *\n     * _.result(object, 'user');\n     * // => 'fred'\n     *\n     * _.result(object, 'age');\n     * // => 40\n     *\n     * _.result(object, 'status', 'busy');\n     * // => 'busy'\n     *\n     * _.result(object, 'status', _.constant('busy'));\n     * // => 'busy'\n     */\n    function result(object, key, defaultValue) {\n      var value = object == null ? undefined : object[key];\n      if (typeof value == 'undefined') {\n        value = defaultValue;\n      }\n      return isFunction(value) ? value.call(object) : value;\n    }\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own enumerable\n     * properties through `iteratee`, with each invocation potentially mutating\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\n     * with four arguments; (accumulator, value, key, object). Iterator functions\n     * may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * });\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\n     *   result[key] = n * 3;\n     * });\n     * // => { 'a': 3, 'b': 6 }\n     */\n    function transform(object, iteratee, accumulator, thisArg) {\n      var isArr = isArray(object) || isTypedArray(object);\n      iteratee = getCallback(iteratee, thisArg, 4);\n\n      if (accumulator == null) {\n        if (isArr || isObject(object)) {\n          var Ctor = object.constructor;\n          if (isArr) {\n            accumulator = isArray(object) ? new Ctor : [];\n          } else {\n            accumulator = baseCreate(isFunction(Ctor) && Ctor.prototype);\n          }\n        } else {\n          accumulator = {};\n        }\n      }\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Creates an array of the own enumerable property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property values\n     * of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `n` is between `start` and up to but not including, `end`. If\n     * `end` is not specified it is set to `start` with `start` then set to `0`.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} n The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     */\n    function inRange(value, start, end) {\n      start = +start || 0;\n      if (typeof end === 'undefined') {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      return value >= start && value < end;\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number is returned.\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\n     * number is returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Number\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      if (floating && isIterateeCall(min, max, floating)) {\n        max = floating = null;\n      }\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (noMax && typeof min == 'boolean') {\n          floating = min;\n          min = 1;\n        }\n        else if (typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n        noMax = false;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to camel case.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/CamelCase) for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__foo_bar__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\n    });\n\n    /**\n     * Capitalizes the first character of `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('fred');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      string = baseToString(string);\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\n    }\n\n    /**\n     * Deburrs `string` by converting latin-1 supplementary letters to basic latin letters.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = baseToString(string);\n      return string && string.replace(reLatin1, deburrLetter);\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search from.\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = baseToString(string);\n      target = (target + '');\n\n      var length = string.length;\n      position = typeof position == 'undefined'\n        ? length\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\n\n      position -= target.length;\n      return position >= 0 && string.indexOf(target, position) == position;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\n     * their corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional characters\n     * use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't require escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value.\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\n     * of attribute values or HTML comments. See [#102](https://html5sec.org/#102),\n     * [#108](https://html5sec.org/#108), and [#133](https://html5sec.org/#133) of\n     * the [HTML5 Security Cheatsheet](https://html5sec.org/) for more details.\n     *\n     * When working with HTML you should always quote attribute values to reduce\n     * XSS vectors. See [Ryan Grove's article](http://wonko.com/post/html-escaping)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\n      string = baseToString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"\\\", \"^\", \"$\", \".\", \"|\", \"?\", \"*\",\n     * \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = baseToString(string);\n      return (string && reHasRegExpChars.test(string))\n        ? string.replace(reRegExpChars, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to kebab case.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles) for\n     * more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__foo_bar__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Pads `string` on the left and right sides if it is shorter then the given\n     * padding length. The `chars` string may be truncated if the number of padding\n     * characters can't be evenly divided by the padding length.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = baseToString(string);\n      length = +length;\n\n      var strLength = string.length;\n      if (strLength >= length || !nativeIsFinite(length)) {\n        return string;\n      }\n      var mid = (length - strLength) / 2,\n          leftLength = floor(mid),\n          rightLength = ceil(mid);\n\n      chars = createPad('', rightLength, chars);\n      return chars.slice(0, leftLength) + string + chars;\n    }\n\n    /**\n     * Pads `string` on the left side if it is shorter then the given padding\n     * length. The `chars` string may be truncated if the number of padding\n     * characters exceeds the padding length.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padLeft('abc', 6);\n     * // => '   abc'\n     *\n     * _.padLeft('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padLeft('abc', 3);\n     * // => 'abc'\n     */\n    function padLeft(string, length, chars) {\n      string = baseToString(string);\n      return string && (createPad(string, length, chars) + string);\n    }\n\n    /**\n     * Pads `string` on the right side if it is shorter then the given padding\n     * length. The `chars` string may be truncated if the number of padding\n     * characters exceeds the padding length.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padRight('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padRight('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padRight('abc', 3);\n     * // => 'abc'\n     */\n    function padRight(string, length, chars) {\n      string = baseToString(string);\n      return string && (string + createPad(string, length, chars));\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\n     * in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the ES5 implementation of `parseInt`.\n     * See the [ES5 spec](https://es5.github.io/#E) for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard && isIterateeCall(string, radix, guard)) {\n        radix = 0;\n      }\n      return nativeParseInt(string, radix);\n    }\n    // Fallback for environments with pre-ES5 implementations.\n    if (nativeParseInt(whitespace + '08') != 8) {\n      parseInt = function(string, radix, guard) {\n        // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\n        // Chrome fails to trim leading <BOM> whitespace characters.\n        // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\n        if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\n          radix = 0;\n        } else if (radix) {\n          radix = +radix;\n        }\n        string = trim(string);\n        return nativeParseInt(string, radix || (reHexPrefix.test(string) ? 16 : 10));\n      };\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=0] The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n) {\n      var result = '';\n      string = baseToString(string);\n      n = +n;\n      if (n < 1 || !string || !nativeIsFinite(n)) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = floor(n / 2);\n        string += string;\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * Converts `string` to snake case.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Snake_case) for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--foo-bar');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string` to start case.\n     * See [Wikipedia](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage)\n     * for more details.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__foo_bar__');\n     * // => 'Foo Bar'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to search.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = baseToString(string);\n      position = position == null\n        ? 0\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\n\n      return string.lastIndexOf(target, position) == position;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is provided it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes sourceURLs for easier debugging.\n     * See the [HTML5 Rocks article on sourcemaps](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for more details.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [options.variable] The data object variable name.\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // using the HTML \"escape\" delimiter to escape data property values\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // using custom template delimiters\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using backslashes to treat delimiters as plain text\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // using the `imports` option to import `jQuery` as `jq`\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, otherOptions) {\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\n        options = otherOptions = null;\n      }\n      string = baseToString(string);\n      options = baseAssign(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\n\n      var imports = baseAssign(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      var sourceURL = '//# sourceURL=' +\n        ('sourceURL' in options\n          ? options.sourceURL\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar]\n     */\n    function trim(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\n      }\n      chars = (chars + '');\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimLeft('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimLeft('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimLeft(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(trimmedLeftIndex(string));\n      }\n      return string.slice(charsLeftIndex(string, (chars + '')));\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimRight('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimRight('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimRight(string, chars, guard) {\n      var value = string;\n      string = baseToString(string);\n      if (!string) {\n        return string;\n      }\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\n        return string.slice(0, trimmedRightIndex(string) + 1);\n      }\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\n    }\n\n    /**\n     * Truncates `string` if it is longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object|number} [options] The options object or maximum string length.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.trunc('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\n     * // => 'hi-diddly-ho there, n...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * //=> 'hi-diddly-ho there...'\n     *\n     * _.trunc('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function trunc(string, options, guard) {\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = null;\n      }\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (options != null) {\n        if (isObject(options)) {\n          var separator = 'separator' in options ? options.separator : separator;\n          length = 'length' in options ? (+options.length || 0) : length;\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\n        } else {\n          length = +options || 0;\n        }\n      }\n      string = baseToString(string);\n      if (length >= string.length) {\n        return string;\n      }\n      var end = length - omission.length;\n      if (end < 1) {\n        return omission;\n      }\n      var result = string.slice(0, end);\n      if (separator == null) {\n        return result + omission;\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              newEnd,\n              substring = string.slice(0, end);\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            newEnd = match.index;\n          }\n          result = result.slice(0, newEnd == null ? end : newEnd);\n        }\n      } else if (string.indexOf(separator, end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\n     * corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\n     * entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = baseToString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      if (guard && isIterateeCall(string, pattern, guard)) {\n        pattern = null;\n      }\n      string = baseToString(string);\n      return string.match(pattern || reWords) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} func The function to attempt.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // avoid throwing errors for invalid selectors\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    function attempt() {\n      var func = arguments[0],\n          length = arguments.length,\n          args = Array(length ? (length - 1) : 0);\n\n      while (--length > 0) {\n        args[length - 1] = arguments[length];\n      }\n      try {\n        return func.apply(undefined, args);\n      } catch(e) {\n        return isError(e) ? e : new Error(e);\n      }\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and arguments of the created function. If `func` is a property name the\n     * created callback returns the property value for a given element. If `func`\n     * is an object the created callback returns `true` for elements that contain\n     * the equivalent object properties, otherwise it returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias iteratee\n     * @category Utility\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\n     *   if (!match) {\n     *     return callback(func, thisArg);\n     *   }\n     *   return function(object) {\n     *     return match[2] == 'gt'\n     *       ? object[match[1]] > match[3]\n     *       : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(users, 'age__gt36');\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     */\n    function callback(func, thisArg, guard) {\n      if (guard && isIterateeCall(func, thisArg, guard)) {\n        thisArg = null;\n      }\n      return isObjectLike(func)\n        ? matches(func)\n        : baseCallback(func, thisArg);\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     * var getter = _.constant(object);\n     *\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function which performs a deep comparison between a given object\n     * and `source`, returning `true` if the given object has equivalent property\n     * values, else `false`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties. For comparing a single\n     * own or inherited property value see `_.matchesProperty`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, true));\n    }\n\n    /**\n     * Creates a function which compares the property value of `key` on a given\n     * object to `value`.\n     *\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\n     * their own, not inherited, enumerable properties.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} key The key of the property to get.\n     * @param {*} value The value to compare.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' },\n     *   { 'user': 'pebbles' }\n     * ];\n     *\n     * _.find(users, _.matchesProperty('user', 'fred'));\n     * // => { 'user': 'fred', 'age': 40 }\n     */\n    function matchesProperty(key, value) {\n      return baseMatchesProperty(key + '', baseClone(value, true));\n    }\n\n    /**\n     * Adds all own enumerable function properties of a source object to the\n     * destination object. If `object` is a function then methods are added to\n     * its prototype as well.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Function|Object} [object=this] object The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added\n     *  are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * // use `_.runInContext` to avoid potential conflicts (esp. in Node.js)\n     * var _ = require('lodash').runInContext();\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      if (options == null) {\n        var isObj = isObject(source),\n            props = isObj && keys(source),\n            methodNames = props && props.length && baseFunctions(source, props);\n\n        if (!(methodNames ? methodNames.length : isObj)) {\n          methodNames = false;\n          options = source;\n          source = object;\n          object = this;\n        }\n      }\n      if (!methodNames) {\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = true,\n          index = -1,\n          isFunc = isFunction(object),\n          length = methodNames.length;\n\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      while (++index < length) {\n        var methodName = methodNames[index],\n            func = source[methodName];\n\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = (function(func) {\n            return function() {\n              var chainAll = this.__chain__;\n              if (chain || chainAll) {\n                var result = object(this.__wrapped__);\n                (result.__actions__ = arrayCopy(this.__actions__)).push({\n                  'func': func,\n                  'args': arguments,\n                  'thisArg': object\n                });\n                result.__chain__ = chainAll;\n                return result;\n              }\n              var args = [this.value()];\n              push.apply(args, arguments);\n              return func.apply(object, args);\n            };\n          }(func));\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function which returns `undefined` regardless of the\n     * arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @example\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function which returns the property value of `key` on a given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} key The key of the property to get.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred' },\n     *   { 'user': 'barney' }\n     * ];\n     *\n     * var getName = _.property('user');\n     *\n     * _.map(users, getName);\n     * // => ['fred', barney']\n     *\n     * _.pluck(_.sortBy(users, getName), 'user');\n     * // => ['barney', 'fred']\n     */\n    function property(key) {\n      return baseProperty(key + '');\n    }\n\n    /**\n     * The inverse of `_.property`; this method creates a function which returns\n     * the property value of a given key on `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {Object} object The object to inspect.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'a': 3, 'b': 1, 'c': 2 };\n     *\n     * _.map(['a', 'c'], _.propertyOf(object));\n     * // => [3, 2]\n     *\n     * _.sortBy(['a', 'b', 'c'], _.propertyOf(object));\n     * // => ['b', 'c', 'a']\n     */\n    function propertyOf(object) {\n      return function(key) {\n        return object == null ? undefined : object[key];\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. If `end` is not specified it is\n     * set to `start` with `start` then set to `0`. If `start` is less than `end`\n     * a zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the new array of numbers.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      if (step && isIterateeCall(start, end, step)) {\n        end = step = null;\n      }\n      start = +start || 0;\n      step = step == null ? 1 : (+step || 0);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      } else {\n        end = +end || 0;\n      }\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\n      var index = -1,\n          length = nativeMax(ceil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Invokes the iteratee function `n` times, returning an array of the results\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\n     * one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) {\n     *   mage.castSpell(n);\n     * });\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) {\n     *   this.cast(n);\n     * }, mage);\n     * // => also invokes `mage.castSpell(n)` three times\n     */\n    function times(n, iteratee, thisArg) {\n      n = +n;\n\n      // Exit early to avoid a JSC JIT bug in Safari 8\n      // where `Array(0)` is treated as `Array(1)`.\n      if (n < 1 || !nativeIsFinite(n)) {\n        return [];\n      }\n      var index = -1,\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\n\n      iteratee = bindCallback(iteratee, thisArg, 1);\n      while (++index < n) {\n        if (index < MAX_ARRAY_LENGTH) {\n          result[index] = iteratee(index);\n        } else {\n          iteratee(index);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utility\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return baseToString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {number} augend The first number to add.\n     * @param {number} addend The second number to add.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    function add(augend, addend) {\n      return augend + addend;\n    }\n\n    /**\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\n     * `-Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => -Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'fred', 'age': 40 };\n     *\n     * // using the `_.property` callback shorthand\n     * _.max(users, 'age');\n     * // => { 'user': 'fred', 'age': 40 };\n     */\n    var max = createExtremum(arrayMax);\n\n    /**\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\n     * `Infinity` is returned. If an iteratee function is provided it is invoked\n     * for each value in `collection` to generate the criterion by which the value\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `predicate` the created `_.property`\n     * style callback returns the property value of the given element.\n     *\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\n     * style callback returns `true` for elements that have a matching property\n     * value, else `false`.\n     *\n     * If an object is provided for `predicate` the created `_.matches` style\n     * callback returns `true` for elements that have the properties of the given\n     * object, else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => Infinity\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(users, function(chr) {\n     *   return chr.age;\n     * });\n     * // => { 'user': 'barney', 'age': 36 };\n     *\n     * // using the `_.property` callback shorthand\n     * _.min(users, 'age');\n     * // => { 'user': 'barney', 'age': 36 };\n     */\n    var min = createExtremum(arrayMin, true);\n\n    /**\n     * Gets the sum of the values in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Math\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 6, 2]);\n     * // => 12\n     *\n     * _.sum({ 'a': 4, 'b': 6, 'c': 2 });\n     * // => 12\n     */\n    function sum(collection) {\n      if (!isArray(collection)) {\n        collection = toIterable(collection);\n      }\n      var length = collection.length,\n          result = 0;\n\n      while (length--) {\n        result += +collection[length] || 0;\n      }\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    // Add functions to the `Map` cache.\n    MapCache.prototype['delete'] = mapDelete;\n    MapCache.prototype.get = mapGet;\n    MapCache.prototype.has = mapHas;\n    MapCache.prototype.set = mapSet;\n\n    // Add functions to the `Set` cache.\n    SetCache.prototype.push = cachePush;\n\n    // Assign cache to `_.memoize`.\n    memoize.Cache = MapCache;\n\n    // Add functions that return wrapped values when chaining.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.callback = callback;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortByAll = sortByAll;\n    lodash.sortByOrder = sortByOrder;\n    lodash.spread = spread;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.unzip = unzip;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // Add aliases.\n    lodash.backflow = flowRight;\n    lodash.collect = map;\n    lodash.compose = flowRight;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.iteratee = callback;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n\n    // Add functions to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions that return unwrapped values when chaining.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.deburr = deburr;\n    lodash.endsWith = endsWith;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.findWhere = findWhere;\n    lodash.first = first;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isMatch = isMatch;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.max = max;\n    lodash.min = min;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padLeft = padLeft;\n    lodash.padRight = padRight;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.sum = sum;\n    lodash.template = template;\n    lodash.trim = trim;\n    lodash.trimLeft = trimLeft;\n    lodash.trimRight = trimRight;\n    lodash.trunc = trunc;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.words = words;\n\n    // Add aliases.\n    lodash.all = every;\n    lodash.any = some;\n    lodash.contains = includes;\n    lodash.detect = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.head = first;\n    lodash.include = includes;\n    lodash.inject = reduce;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), false);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\n    lodash.sample = sample;\n\n    lodash.prototype.sample = function(n) {\n      if (!this.__chain__ && n == null) {\n        return sample(this.value());\n      }\n      return this.thru(function(value) {\n        return sample(value, n);\n      });\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['dropWhile', 'filter', 'map', 'takeWhile'], function(methodName, type) {\n      var isFilter = type != LAZY_MAP_FLAG,\n          isDropWhile = type == LAZY_DROP_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\n        var filtered = this.__filtered__,\n            result = (filtered && isDropWhile) ? new LazyWrapper(this) : this.clone(),\n            iteratees = result.__iteratees__ || (result.__iteratees__ = []);\n\n        iteratees.push({\n          'done': false,\n          'count': 0,\n          'index': 0,\n          'iteratee': getCallback(iteratee, thisArg, 1),\n          'limit': -1,\n          'type': type\n        });\n\n        result.__filtered__ = filtered || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      var whileName = methodName + 'While';\n\n      LazyWrapper.prototype[methodName] = function(n) {\n        var filtered = this.__filtered__,\n            result = (filtered && !index) ? this.dropWhile() : this.clone();\n\n        n = n == null ? 1 : nativeMax(floor(n) || 0, 0);\n        if (filtered) {\n          if (index) {\n            result.__takeCount__ = nativeMin(result.__takeCount__, n);\n          } else {\n            last(result.__iteratees__).limit = n;\n          }\n        } else {\n          var views = result.__views__ || (result.__views__ = []);\n          views.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n\n      LazyWrapper.prototype[methodName + 'RightWhile'] = function(predicate, thisArg) {\n        return this.reverse()[whileName](predicate, thisArg).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\n    arrayEach(['first', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\n    arrayEach(['initial', 'rest'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[dropName](1);\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\n    arrayEach(['pluck', 'where'], function(methodName, index) {\n      var operationName = index ? 'filter' : 'map',\n          createCallback = index ? baseMatches : baseProperty;\n\n      LazyWrapper.prototype[methodName] = function(value) {\n        return this[operationName](createCallback(value));\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\n      predicate = getCallback(predicate, thisArg, 1);\n      return this.filter(function(value) {\n        return !predicate(value);\n      });\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = start == null ? 0 : (+start || 0);\n      var result = start < 0 ? this.takeRight(-start) : this.drop(start);\n\n      if (typeof end != 'undefined') {\n        end = (+end || 0);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.drop(0);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName],\n          checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\n          retUnwrapped = /^(?:first|last)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments,\n            length = args.length,\n            chainAll = this.__chain__,\n            value = this.__wrapped__,\n            isHybrid = !!this.__actions__.length,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // avoid lazy use if the iteratee has a `length` other than `1`\n          isLazy = useLazy = false;\n        }\n        var onlyLazy = isLazy && !isHybrid;\n        if (retUnwrapped && !chainAll) {\n          return onlyLazy\n            ? func.call(value)\n            : lodashFunc.call(lodash, this.value());\n        }\n        var interceptor = function(value) {\n          var otherArgs = [value];\n          push.apply(otherArgs, args);\n          return lodashFunc.apply(lodash, otherArgs);\n        };\n        if (useLazy) {\n          var wrapper = onlyLazy ? value : new LazyWrapper(this),\n              result = func.apply(wrapper, args);\n\n          if (!retUnwrapped && (isHybrid || result.__actions__)) {\n            var actions = result.__actions__ || (result.__actions__ = []);\n            actions.push({ 'func': thru, 'args': [interceptor], 'thisArg': lodash });\n          }\n          return new LodashWrapper(result, chainAll);\n        }\n        return this.thru(interceptor);\n      };\n    });\n\n    // Add `Array` and `String` methods to `lodash.prototype`.\n    arrayEach(['concat', 'join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          return func.apply(this.value(), args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(value, args);\n        });\n      };\n    });\n\n    // Add functions to the lazy wrapper.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chaining functions to the `lodash` wrapper.\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add function aliases to the `lodash` wrapper.\n    lodash.prototype.collect = lodash.prototype.map;\n    lodash.prototype.head = lodash.prototype.first;\n    lodash.prototype.select = lodash.prototype.filter;\n    lodash.prototype.tail = lodash.prototype.rest;\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose lodash to the global object when an AMD loader is present to avoid\n    // errors in cases where lodash is loaded by a script tag and not intended\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\n    // more details.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for Node.js or RingoJS.\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // Export for Narwhal or Rhino -require.\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // Export for a browser or Rhino.\n    root._ = _;\n  }\n}.call(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],4:[function(require,module,exports){\n(function (process){\n/// <reference path=\"../typings/bundle.d.ts\" />\n'use strict';\nvar Renderer = require('./Renderer');\nvar Stroke = require('./Stroke');\nvar Point = require('./Point');\nvar Color = require('./Color');\nvar Transform = require('./Transform');\nfunction touchPoint(touch) {\n    return new Point(touch.clientX, touch.clientY);\n}\nvar InteractionState;\n(function (InteractionState) {\n    InteractionState[InteractionState[\"None\"] = 0] = \"None\";\n    InteractionState[InteractionState[\"Pressed\"] = 1] = \"Pressed\";\n    InteractionState[InteractionState[\"Pinching\"] = 2] = \"Pinching\";\n})(InteractionState || (InteractionState = {}));\nvar CanvasController = (function () {\n    function CanvasController() {\n        this.interactionState = 0 /* None */;\n        this.transform = Transform.identity();\n        this.initialTransform = Transform.identity();\n        this.isStroking = false;\n        this.strokeWidth = 4;\n        this.strokeColor = new Color(0, 0, 0, 1);\n        this.renderer = new Renderer({ tiled: false });\n        this.currentStrokeRenderer = new Renderer({ tiled: true });\n        var elem = this.element = document.createElement('div');\n        elem.className = 'canvas-area';\n        elem.appendChild(this.renderer.element);\n        elem.appendChild(this.currentStrokeRenderer.element);\n        elem.addEventListener('mousemove', this.onMouseMove.bind(this));\n        elem.addEventListener('mousedown', this.onMouseDown.bind(this));\n        elem.addEventListener('mouseup', this.onMouseUp.bind(this));\n        elem.addEventListener('touchmove', this.onTouchMove.bind(this));\n        elem.addEventListener('touchstart', this.onTouchStart.bind(this));\n        elem.addEventListener('touchend', this.onTouchEnd.bind(this));\n        elem.addEventListener('wheel', this.onWheel.bind(this));\n    }\n    CanvasController.prototype.pinchStart = function (points) {\n        this.interactionState = 2 /* Pinching */;\n        this.pinchStartPoints = points;\n        this.initialTransform = this.transform;\n    };\n    CanvasController.prototype.pinchMove = function (points) {\n        if (this.interactionState !== 2 /* Pinching */) {\n            this.pinchStart(points);\n        }\n        var scale = points[0].sub(points[1]).length / this.pinchStartPoints[0].sub(this.pinchStartPoints[1]).length;\n        var centerStart = this.pinchStartPoints[0].add(this.pinchStartPoints[1]).mul(0.5);\n        var center = points[0].add(points[1]).mul(0.5);\n        var diff = center.sub(centerStart.mul(scale));\n        var transform = Transform.scale(scale).merge(Transform.translation(diff));\n        var transform = this.initialTransform.merge(transform);\n        this.updateTransform(transform);\n        this.renderer.update();\n    };\n    CanvasController.prototype.pinchEnd = function () {\n        this.interactionState = 0 /* None */;\n    };\n    CanvasController.prototype.pressStart = function (pos) {\n        this.interactionState = 1 /* Pressed */;\n        pos = pos.transform(this.transform.invert());\n        var stroke = this.currentStroke = new Stroke();\n        stroke.width = this.strokeWidth;\n        stroke.color = this.strokeColor;\n        stroke.addPoint(pos);\n        this.currentStrokeRenderer.strokes = [stroke];\n        var renderer = this.currentStrokeRenderer;\n        renderer.addDirtyRect(stroke.lastCurveBoundingRect);\n        renderer.update();\n    };\n    CanvasController.prototype.pressMove = function (pos) {\n        if (this.interactionState === 1 /* Pressed */) {\n            pos = pos.transform(this.transform.invert());\n            var stroke = this.currentStroke;\n            var renderer = this.currentStrokeRenderer;\n            renderer.addDirtyRect(stroke.lastCurveBoundingRect);\n            stroke.addPoint(pos);\n            renderer.addDirtyRect(stroke.lastCurveBoundingRect);\n            renderer.update();\n        }\n    };\n    CanvasController.prototype.pressEnd = function () {\n        var _this = this;\n        if (this.interactionState === 1 /* Pressed */) {\n            this.renderer.strokes.push(this.currentStroke);\n            process.nextTick(function () {\n                _this.renderer.addDirtyRect(_this.currentStroke.boundingRect);\n                _this.renderer.drawOther(_this.currentStrokeRenderer);\n                _this.currentStrokeRenderer.strokes = [];\n                _this.currentStrokeRenderer.addDirtyRect(_this.currentStroke.boundingRect);\n                _this.currentStrokeRenderer.clear();\n                _this.currentStrokeRenderer.tiles.forEach(function (tile) {\n                    tile.isBlank = true;\n                });\n            });\n            this.interactionState = 0 /* None */;\n        }\n    };\n    CanvasController.prototype.updateTransform = function (transform) {\n        this.transform = transform;\n        this.renderer.transform = transform;\n        this.currentStrokeRenderer.transform = transform;\n    };\n    CanvasController.prototype.onMouseMove = function (ev) {\n        //console.log(`mouse move at ${ev.clientX}, ${ev.clientY}`);\n        this.pressMove(new Point(ev.clientX, ev.clientY));\n    };\n    CanvasController.prototype.onMouseDown = function (ev) {\n        //console.log(`mouse down at ${ev.clientX}, ${ev.clientY}`);\n        this.pressStart(new Point(ev.clientX, ev.clientY));\n    };\n    CanvasController.prototype.onMouseUp = function (ev) {\n        //console.log(`mouse up at ${ev.clientX}, ${ev.clientY}`);\n        this.pressEnd();\n    };\n    CanvasController.prototype.onTouchMove = function (ev) {\n        if (ev.touches.length === 1) {\n            var touch = ev.touches[0];\n            this.pressMove(touchPoint(touch));\n        }\n        else if (ev.touches.length === 2) {\n            this.pinchMove([0, 1].map(function (i) { return touchPoint(ev.touches[i]); }));\n        }\n        ev.preventDefault();\n    };\n    CanvasController.prototype.onTouchStart = function (ev) {\n        if (ev.touches.length === 1) {\n            var touch = ev.touches[0];\n            this.pressStart(touchPoint(touch));\n        }\n        else if (ev.touches.length === 2) {\n            this.pinchStart([0, 1].map(function (i) { return touchPoint(ev.touches[i]); }));\n        }\n        ev.preventDefault();\n    };\n    CanvasController.prototype.onTouchEnd = function (ev) {\n        this.pressEnd();\n        this.pinchEnd();\n        ev.preventDefault();\n    };\n    CanvasController.prototype.onWheel = function (ev) {\n        var transform = this.transform.translate(new Point(-ev.deltaX, -ev.deltaY));\n        this.updateTransform(transform);\n        this.renderer.update();\n        ev.preventDefault();\n    };\n    return CanvasController;\n})();\nmodule.exports = CanvasController;\n\n}).call(this,require('_process'))\n},{\"./Color\":5,\"./Point\":7,\"./Renderer\":9,\"./Stroke\":11,\"./Transform\":12,\"_process\":2}],5:[function(require,module,exports){\n'use strict';\nvar Color = (function () {\n    function Color(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n    Color.prototype.toString = function () {\n        return \"rgba(\" + this.r + \", \" + this.g + \", \" + this.b + \", \" + this.a + \")\";\n    };\n    return Color;\n})();\nmodule.exports = Color;\n\n},{}],6:[function(require,module,exports){\n'use strict';\nvar Point = require('./Point');\nvar Rect = require('./Rect');\nvar Bezier = require('./vendor/bezier');\nvar Curve = (function () {\n    function Curve(start, control1, control2, end) {\n        this.start = start;\n        this.control1 = control1;\n        this.control2 = control2;\n        this.end = end;\n        this.boundingRect = this.calcBoundingRect();\n    }\n    Curve.prototype.calcBoundingRect = function () {\n        var bezier = new Bezier([this.start, this.control1, this.control2, this.end]);\n        var bbox = bezier.bbox();\n        return new Rect(new Point(bbox.x.min, bbox.y.min), new Point(bbox.x.max, bbox.y.max));\n    };\n    Curve.catmullRom = function (prev, start, end, next) {\n        return new Curve(start, start.add(end.sub(prev).div(6)), end.sub(next.sub(start).div(6)), end);\n    };\n    Curve.bSpline = function (c0, c1, c2, c3) {\n        return new Curve(c0.add(c1.mul(4)).add(c2).div(6), c1.mul(2).add(c2).div(3), c2.mul(2).add(c1).div(3), c3.add(c2.mul(4)).add(c1).div(6));\n    };\n    return Curve;\n})();\nmodule.exports = Curve;\n\n},{\"./Point\":7,\"./Rect\":8,\"./vendor/bezier\":13}],7:[function(require,module,exports){\n'use strict';\nvar Point = (function () {\n    function Point(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    Point.prototype.add = function (a) {\n        return new Point(this.x + a.x, this.y + a.y);\n    };\n    Point.prototype.sub = function (a) {\n        return new Point(this.x - a.x, this.y - a.y);\n    };\n    Point.prototype.mul = function (a) {\n        return new Point(this.x * a, this.y * a);\n    };\n    Point.prototype.div = function (a) {\n        return new Point(this.x / a, this.y / a);\n    };\n    Point.prototype.negate = function () {\n        return new Point(-this.x, -this.y);\n    };\n    Object.defineProperty(Point.prototype, \"length\", {\n        get: function () {\n            return Math.sqrt(this.x * this.x + this.y * this.y);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Point.prototype.floor = function () {\n        return new Point(Math.floor(this.x), Math.floor(this.y));\n    };\n    Point.prototype.ceil = function () {\n        return new Point(Math.ceil(this.x), Math.ceil(this.y));\n    };\n    Point.prototype.transform = function (t) {\n        var x = t.m11 * this.x + t.m21 * this.y + t.dx;\n        var y = t.m12 * this.x + t.m22 * this.y + t.dy;\n        return new Point(x, y);\n    };\n    Point.prototype.toString = function () {\n        return \"Point(\" + this.x + \",\" + this.y + \")\";\n    };\n    Point.prototype.equals = function (other) {\n        return this.x === other.x && this.y === other.y;\n    };\n    return Point;\n})();\nmodule.exports = Point;\n\n},{}],8:[function(require,module,exports){\n'use strict';\nvar Point = require('./Point');\nvar Rect = (function () {\n    function Rect(min, max) {\n        this.min = min;\n        this.max = max;\n    }\n    Object.defineProperty(Rect.prototype, \"x\", {\n        get: function () {\n            return this.min.x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"y\", {\n        get: function () {\n            return this.min.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"width\", {\n        get: function () {\n            return this.max.x - this.min.x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"height\", {\n        get: function () {\n            return this.max.y - this.min.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Rect.prototype, \"isEmpty\", {\n        get: function () {\n            return this.max.x < this.min.x || this.max.y < this.min.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Rect.prototype.union = function (other) {\n        if (this.isEmpty) {\n            return other;\n        }\n        if (other.isEmpty) {\n            return this;\n        }\n        var min = new Point(Math.min(this.min.x, other.min.x), Math.min(this.min.y, other.min.y));\n        var max = new Point(Math.max(this.max.x, other.max.x), Math.max(this.max.y, other.max.y));\n        return new Rect(min, max);\n    };\n    Rect.prototype.intersection = function (other) {\n        if (this.isEmpty || other.isEmpty) {\n            return Rect.empty;\n        }\n        var min = new Point(Math.max(this.min.x, other.min.x), Math.max(this.min.y, other.min.y));\n        var max = new Point(Math.min(this.max.x, other.max.x), Math.min(this.max.y, other.max.y));\n        return new Rect(min, max);\n    };\n    Rect.prototype.outset = function (offset) {\n        var diff = new Point(offset, offset);\n        return new Rect(this.min.sub(diff), this.max.add(diff));\n    };\n    Rect.prototype.translate = function (offset) {\n        return new Rect(this.min.add(offset), this.max.add(offset));\n    };\n    Rect.prototype.transform = function (transform) {\n        var p1 = this.min.transform(transform);\n        var p2 = this.max.transform(transform);\n        return Rect.fromPoints(p1, p2);\n    };\n    Rect.prototype.boundingIntegerRect = function () {\n        return new Rect(this.min.floor(), this.max.ceil());\n    };\n    Rect.prototype.toString = function () {\n        return \"Rect(\" + this.min + \",\" + this.max + \")\";\n    };\n    Rect.prototype.equals = function (other) {\n        return this.min.equals(other.min) && this.max.equals(other.max);\n    };\n    Rect.fromPoints = function (p1, p2) {\n        var min = new Point(Math.min(p1.x, p2.x), Math.min(p1.y, p2.y));\n        var max = new Point(Math.max(p1.x, p2.x), Math.max(p1.y, p2.y));\n        return new Rect(min, max);\n    };\n    Rect.fromMetrics = function (x, y, width, height) {\n        return new Rect(new Point(x, y), new Point(x + width, y + height));\n    };\n    Object.defineProperty(Rect, \"empty\", {\n        get: function () {\n            return new Rect(new Point(0, 0), new Point(-1, -1));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Rect;\n})();\nmodule.exports = Rect;\n\n},{\"./Point\":7}],9:[function(require,module,exports){\n(function (process){\n/// <reference path=\"../typings/bundle.d.ts\" />\n'use strict';\nvar _ = require('lodash');\nvar Point = require('./Point');\nvar Rect = require('./Rect');\nvar Transform = require('./Transform');\nvar RendererTile = require('./RendererTile');\nvar TILE_SIZE = 256;\nvar Renderer = (function () {\n    function Renderer(opts) {\n        this.isTiled = true;\n        this.element = document.createElement('div');\n        this.tiles = [];\n        this.strokes = [];\n        this.isRenderQueued = false;\n        this.devicePixelRatio = 1;\n        this.width = 0;\n        this.height = 0;\n        this.dirtyRect = Rect.empty;\n        this._transform = Transform.identity();\n        this.transformToPixel = Transform.identity();\n        var options = {\n            tiled: true\n        };\n        _.assign(options, opts);\n        this.isTiled = options.tiled;\n        this.element.className = 'canvas-area__renderer';\n        window.addEventListener('resize', this.onResize.bind(this));\n        this.onResize();\n    }\n    Object.defineProperty(Renderer.prototype, \"transform\", {\n        get: function () {\n            return this._transform;\n        },\n        set: function (transform) {\n            this._transform = transform;\n            this.transformToPixel = transform.scale(this.devicePixelRatio);\n            this.dirtyWhole();\n            this.updateTileTransforms();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Renderer.prototype.add = function (stroke) {\n        this.strokes.push(stroke);\n    };\n    Renderer.prototype.addDirtyRect = function (rect) {\n        this.dirtyRect = this.dirtyRect.union(rect.transform(this.transformToPixel).boundingIntegerRect());\n    };\n    Renderer.prototype.dirtyWhole = function () {\n        this.dirtyRect = Rect.fromMetrics(0, 0, this.width * this.devicePixelRatio, this.height * this.devicePixelRatio);\n    };\n    Renderer.prototype.update = function () {\n        var _this = this;\n        if (!this.isRenderQueued) {\n            this.isRenderQueued = true;\n            process.nextTick(function () {\n                _this.beginRendering();\n                _this.render();\n                _this.isRenderQueued = false;\n            });\n        }\n    };\n    Renderer.prototype.clear = function () {\n        this.beginRendering();\n    };\n    Renderer.prototype.beginRendering = function (clear) {\n        var _this = this;\n        if (clear === void 0) { clear = true; }\n        this.tiles.forEach(function (tile) {\n            tile.beginRendering(_this.dirtyRect, clear);\n        });\n        this.dirtyRect = Rect.empty;\n    };\n    Renderer.prototype.drawOther = function (other) {\n        this.beginRendering(false);\n        this.tiles.forEach(function (tile) {\n            other.tiles.forEach(function (otherTile) {\n                tile.drawOther(otherTile);\n            });\n        });\n    };\n    Renderer.prototype.render = function () {\n        var _this = this;\n        this.tiles.forEach(function (tile) {\n            _this.strokes.forEach(function (stroke) {\n                tile.drawStroke(stroke);\n            });\n        });\n    };\n    Renderer.prototype.updateTileTransforms = function () {\n        var _this = this;\n        this.tiles.forEach(function (tile) {\n            tile.setRendererTransform(_this.transformToPixel);\n        });\n    };\n    Renderer.prototype.onResize = function () {\n        var width = this.width = window.innerWidth;\n        var height = this.height = window.innerHeight;\n        var devicePixelRatio = this.devicePixelRatio = window.devicePixelRatio || 1;\n        this.transformToPixel = this.transform.scale(devicePixelRatio);\n        console.log(\"resized to \" + width + \" * \" + height + \", pixel ratio \" + devicePixelRatio);\n        this.rebuildTiles();\n        this.update();\n    };\n    Renderer.prototype.rebuildTiles = function () {\n        var _this = this;\n        var dpr = this.devicePixelRatio;\n        var pixelWidth = this.width * dpr;\n        var pixelHeight = this.height * dpr;\n        var tileSize;\n        if (this.isTiled) {\n            // tile size: the maximum multiple of devicePixelRatio which does not exceed TILE_SIZE\n            var dpr = this.devicePixelRatio;\n            tileSize = Math.floor(TILE_SIZE / dpr) * dpr;\n            while (Math.floor(tileSize) !== tileSize) {\n                tileSize -= dpr;\n            }\n        }\n        else {\n            tileSize = Math.max(pixelWidth, pixelHeight);\n        }\n        var tileXCount = Math.ceil(pixelWidth / tileSize);\n        var tileYCount = Math.ceil(pixelHeight / tileSize);\n        this.tiles.forEach(function (tile) {\n            _this.element.removeChild(tile.element);\n        });\n        this.tiles = [];\n        for (var tileY = 0; tileY < tileYCount; ++tileY) {\n            var tileHeight;\n            if (tileY === tileYCount - 1) {\n                tileHeight = pixelHeight % tileSize;\n                if (tileHeight === 0) {\n                    tileHeight = tileSize;\n                }\n            }\n            else {\n                tileHeight = tileSize;\n            }\n            for (var tileX = 0; tileX < tileXCount; ++tileX) {\n                var tileWidth;\n                if (tileX === tileXCount - 1) {\n                    tileWidth = pixelWidth % tileSize;\n                    if (tileWidth === 0) {\n                        tileWidth = tileSize;\n                    }\n                }\n                else {\n                    tileWidth = tileSize;\n                }\n                var topLeft = new Point(tileX, tileY).mul(tileSize);\n                var bottomRight = topLeft.add(new Point(tileWidth, tileHeight));\n                var tile = new RendererTile(new Rect(topLeft, bottomRight));\n                this.tiles.push(tile);\n                this.element.appendChild(tile.element);\n            }\n        }\n        this.updateTileTransforms();\n        this.update();\n    };\n    return Renderer;\n})();\nmodule.exports = Renderer;\n\n}).call(this,require('_process'))\n},{\"./Point\":7,\"./Rect\":8,\"./RendererTile\":10,\"./Transform\":12,\"_process\":2,\"lodash\":3}],10:[function(require,module,exports){\n/// <reference path=\"../typings/bundle.d.ts\" />\n'use strict';\nvar Rect = require('./Rect');\nvar Transform = require('./Transform');\nvar RendererTile = (function () {\n    function RendererTile(rect) {\n        this.rect = Rect.empty;\n        this.rendererTransform = Transform.identity();\n        this.transform = Transform.identity();\n        this.isBlank = true;\n        this.renderingRect = Rect.empty;\n        this.rect = rect;\n        var elem = this.element = document.createElement('canvas');\n        elem.width = rect.width;\n        elem.height = rect.height;\n        var dpr = window.devicePixelRatio || 0;\n        elem.className = 'canvas-area__renderer-tile';\n        var style = elem.style;\n        var styleAny = style;\n        style.left = \"\" + rect.x / dpr + \"px\";\n        style.top = \"\" + rect.y / dpr + \"px\";\n        style.width = \"\" + rect.width / dpr + \"px\";\n        style.height = \"\" + rect.height / dpr + \"px\";\n        this.context = elem.getContext('2d');\n        this.context.save();\n    }\n    RendererTile.prototype.setRendererTransform = function (transform) {\n        this.rendererTransform = transform;\n        this.transform = transform.translate(this.rect.min.negate());\n    };\n    // clear and clip\n    RendererTile.prototype.beginRendering = function (rect, clear) {\n        if (clear === void 0) { clear = true; }\n        var clearRect = this.rect.intersection(rect);\n        if (clearRect.isEmpty) {\n            this.renderingRect = Rect.empty;\n            return;\n        }\n        var renderingRect = this.renderingRect = clearRect.translate(this.rect.min.negate());\n        var context = this.context;\n        //context.setTransform(1, 0, 0, 1, 0, 0);\n        context.restore();\n        context.save();\n        if (!this.isBlank && clear) {\n            context.clearRect(renderingRect.x, renderingRect.y, renderingRect.width, renderingRect.height);\n            if (clearRect.equals(this.rect)) {\n                this.isBlank = true;\n            }\n        }\n        context.beginPath();\n        context.rect(renderingRect.x, renderingRect.y, renderingRect.width, renderingRect.height);\n        context.closePath();\n        context.clip();\n    };\n    RendererTile.prototype.drawOther = function (other) {\n        if (other.isBlank) {\n            return;\n        }\n        this.isBlank = false;\n        var context = this.context;\n        context.globalCompositeOperation = 'source-over';\n        context.setTransform(1, 0, 0, 1, 0, 0);\n        var offset = other.rect.min.sub(this.rect.min);\n        context.drawImage(other.element, offset.x, offset.y);\n    };\n    RendererTile.prototype.drawStroke = function (stroke) {\n        if (this.renderingRect.isEmpty) {\n            return;\n        }\n        var strokeRect = stroke.boundingRect.transform(this.rendererTransform);\n        if (this.rect.intersection(strokeRect).isEmpty) {\n            return;\n        }\n        this.isBlank = false;\n        var count = stroke.points.length;\n        if (count === 0) {\n            return;\n        }\n        var context = this.context;\n        context.globalCompositeOperation = 'copy';\n        context.lineCap = 'round';\n        context.lineJoin = 'round';\n        var t = this.transform;\n        context.setTransform(t.m11, t.m12, t.m21, t.m22, t.dx, t.dy);\n        var startPos = stroke.points[0];\n        if (count === 1) {\n            context.fillStyle = stroke.color.toString();\n            context.beginPath();\n            context.arc(startPos.x, startPos.y, stroke.width / 2, 0, Math.PI * 2);\n            context.fill();\n        }\n        if (count > 1) {\n            context.lineWidth = stroke.width;\n            context.strokeStyle = stroke.color.toString();\n            context.beginPath();\n            context.moveTo(startPos.x, startPos.y);\n            stroke.curves.forEach(function (curve) {\n                context.bezierCurveTo(curve.control1.x, curve.control1.y, curve.control2.x, curve.control2.y, curve.end.x, curve.end.y);\n            });\n            context.stroke();\n        }\n    };\n    return RendererTile;\n})();\nmodule.exports = RendererTile;\n\n},{\"./Rect\":8,\"./Transform\":12}],11:[function(require,module,exports){\n'use strict';\nvar Point = require('./Point');\nvar Curve = require('./Curve');\nvar Color = require('./Color');\nvar Rect = require('./Rect');\nvar Stroke = (function () {\n    function Stroke() {\n        this.points = [];\n        this.color = new Color(0, 0, 0, 1);\n        this.width = 1;\n        this.curves = [];\n        this.finalizedBoundingRect = Rect.empty;\n        this.lastCurveBoundingRect = Rect.empty;\n    }\n    Object.defineProperty(Stroke.prototype, \"boundingRect\", {\n        get: function () {\n            return this.finalizedBoundingRect.union(this.lastCurveBoundingRect);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Stroke.prototype.addPoint = function (point) {\n        this.points.push(point);\n        var count = this.points.length;\n        if (count === 1) {\n            var radius = this.width * 0.5;\n            var rect = new Rect(point.sub(new Point(radius, radius)), point.add(new Point(radius, radius)));\n            this.finalizedBoundingRect = this.lastCurveBoundingRect = rect;\n        }\n        else {\n            if (count >= 3) {\n                var curve = this.curves[count - 3] = this.curveAt(count - 3);\n                var rect = curve.boundingRect.outset(this.width * 0.5);\n                this.finalizedBoundingRect = this.finalizedBoundingRect.union(rect);\n            }\n            if (count >= 2) {\n                var curve = this.curveAt(count - 2);\n                this.curves.push(curve);\n                this.lastCurveBoundingRect = curve.boundingRect.outset(this.width * 0.5);\n            }\n        }\n    };\n    Stroke.prototype.curveAt = function (i) {\n        var prev = this.points[i - 1];\n        var start = this.points[i];\n        var end = this.points[i + 1];\n        var next = this.points[i + 2];\n        return Curve.bSpline(prev || start, start, end, next || end);\n    };\n    return Stroke;\n})();\nmodule.exports = Stroke;\n\n},{\"./Color\":5,\"./Curve\":6,\"./Point\":7,\"./Rect\":8}],12:[function(require,module,exports){\n'use strict';\nvar Transform = (function () {\n    function Transform(m11, m12, m21, m22, dx, dy) {\n        this.m11 = m11;\n        this.m12 = m12;\n        this.m21 = m21;\n        this.m22 = m22;\n        this.dx = dx;\n        this.dy = dy;\n    }\n    Transform.prototype.merge = function (other) {\n        // other * this\n        // [P u] [Q v]   [PQ Pv + u]\n        // [0 1] [0 1] = [0  1     ]\n        var m11 = other.m11 * this.m11 + other.m21 * this.m12;\n        var m12 = other.m11 * this.m21 + other.m21 * this.m22;\n        var m21 = other.m12 * this.m11 + other.m22 * this.m12;\n        var m22 = other.m12 * this.m21 + other.m22 * this.m22;\n        var dx = other.m11 * this.dx + other.m21 * this.dy + other.dx;\n        var dy = other.m12 * this.dx + other.m22 * this.dy + other.dy;\n        return new Transform(m11, m12, m21, m22, dx, dy);\n    };\n    Transform.prototype.invert = function () {\n        // [P u]^-1   [P^-1 -P^1 * v]\n        // [0 1]    = [0    1       ]\n        var det = this.m11 * this.m22 - this.m12 * this.m21;\n        var m11 = this.m22 / det;\n        var m12 = -this.m12 / det;\n        var m21 = -this.m21 / det;\n        var m22 = this.m11 / det;\n        var dx = -(m11 * this.dx + m21 * this.dy);\n        var dy = -(m12 * this.dx + m22 * this.dy);\n        return new Transform(m11, m12, m21, m22, dx, dy);\n    };\n    Transform.prototype.translate = function (delta) {\n        return new Transform(this.m11, this.m12, this.m21, this.m22, this.dx + delta.x, this.dy + delta.y);\n    };\n    Transform.prototype.scale = function (scale) {\n        return new Transform(this.m11 * scale, this.m12 * scale, this.m21 * scale, this.m22 * scale, this.dx * scale, this.dy * scale);\n    };\n    Transform.identity = function () {\n        return new Transform(1, 0, 0, 1, 0, 0);\n    };\n    Transform.scale = function (scale) {\n        return new Transform(scale, 0, 0, scale, 0, 0);\n    };\n    Transform.translation = function (translation) {\n        return new Transform(1, 0, 0, 1, translation.x, translation.y);\n    };\n    return Transform;\n})();\nmodule.exports = Transform;\n\n},{}],13:[function(require,module,exports){\n/**\n  A javascript Bezier curve library by Pomax.\n\n  Based on http://pomax.github.io/bezierinfo\n  \n  This code is MIT licensed.\n**/\n(function() {\n  \"use strict\";\n\n  // Math functions. I hate the Math namespace with a passion.\n  var abs = Math.abs,\n      min = Math.min,\n      max = Math.max,\n      cos = Math.cos,\n      sin = Math.sin,\n      acos = Math.acos,\n      asin = Math.asin,\n      atan2 = Math.atan2,\n      sqrt = Math.sqrt,\n      crt = function(v) { if(v<0) return -Math.pow(-v,1/3); return Math.pow(v,1/3); },\n      pi = Math.PI,\n      tau = 2*pi;\n\n  // a zero coordinate, which is surprisingly useful\n  var ZERO = {x:0,y:0,z:0};\n\n  // Bezier utility functions\n  var utils = {\n    // Legendre-Gauss abscissae with n=24 (x_i values, defined at i=n as the roots of the nth order Legendre polynomial Pn(x))\n    Tvalues: [\n      -0.0640568928626056260850430826247450385909,\n       0.0640568928626056260850430826247450385909,\n      -0.1911188674736163091586398207570696318404,\n       0.1911188674736163091586398207570696318404,\n      -0.3150426796961633743867932913198102407864,\n       0.3150426796961633743867932913198102407864,\n      -0.4337935076260451384870842319133497124524,\n       0.4337935076260451384870842319133497124524,\n      -0.5454214713888395356583756172183723700107,\n       0.5454214713888395356583756172183723700107,\n      -0.6480936519369755692524957869107476266696,\n       0.6480936519369755692524957869107476266696,\n      -0.7401241915785543642438281030999784255232,\n       0.7401241915785543642438281030999784255232,\n      -0.8200019859739029219539498726697452080761,\n       0.8200019859739029219539498726697452080761,\n      -0.8864155270044010342131543419821967550873,\n       0.8864155270044010342131543419821967550873,\n      -0.9382745520027327585236490017087214496548,\n       0.9382745520027327585236490017087214496548,\n      -0.9747285559713094981983919930081690617411,\n       0.9747285559713094981983919930081690617411,\n      -0.9951872199970213601799974097007368118745,\n       0.9951872199970213601799974097007368118745\n    ],\n\n    // Legendre-Gauss weights with n=24 (w_i values, defined by a function linked to in the Bezier primer article)\n    Cvalues: [\n      0.1279381953467521569740561652246953718517,\n      0.1279381953467521569740561652246953718517,\n      0.1258374563468282961213753825111836887264,\n      0.1258374563468282961213753825111836887264,\n      0.1216704729278033912044631534762624256070,\n      0.1216704729278033912044631534762624256070,\n      0.1155056680537256013533444839067835598622,\n      0.1155056680537256013533444839067835598622,\n      0.1074442701159656347825773424466062227946,\n      0.1074442701159656347825773424466062227946,\n      0.0976186521041138882698806644642471544279,\n      0.0976186521041138882698806644642471544279,\n      0.0861901615319532759171852029837426671850,\n      0.0861901615319532759171852029837426671850,\n      0.0733464814110803057340336152531165181193,\n      0.0733464814110803057340336152531165181193,\n      0.0592985849154367807463677585001085845412,\n      0.0592985849154367807463677585001085845412,\n      0.0442774388174198061686027482113382288593,\n      0.0442774388174198061686027482113382288593,\n      0.0285313886289336631813078159518782864491,\n      0.0285313886289336631813078159518782864491,\n      0.0123412297999871995468056670700372915759,\n      0.0123412297999871995468056670700372915759\n    ],\n    arcfn: function(p, t, derivativeFn) {\n      var d = derivativeFn(t);\n      d = d.x*d.x + d.y*d.y;\n      if(typeof d.z !== \"undefined\") {\n        d += d.z*d.z;\n      }\n      return sqrt(d);\n    },\n    length: function(p, derivativeFn) {\n      var z=0.5,sum=0,len=this.Tvalues.length,i,t;\n      for(i=0; i<len; i++) {\n        t = z * this.Tvalues[i] + z;\n        sum += this.Cvalues[i] * this.arcfn(p,t,derivativeFn);\n      }\n      return z * sum;\n    },\n    map: function(v, ds,de, ts,te) {\n      var d1 = de-ds, d2 = te-ts, v2 =  v-ds, r = v2/d1;\n      return ts + d2*r;\n    },\n    lerp: function(r, v1, v2) {\n      var ret = {\n        x: v1.x + r*(v2.x-v1.x),\n        y: v1.y + r*(v2.y-v1.y)\n      };\n      if(!!v1.z && !!v2.z) {\n        ret.z =  v1.z + r*(v2.z-v1.z);\n      }\n      return ret;\n    },\n    pointToString: function(p) {\n      var s = p.x+\"/\"+p.y;\n      if(typeof p.z !== \"undefined\") {\n        s += \"/\"+p.z;\n      }\n      return s;\n    },\n    pointsToString: function(points) {\n      return \"[\" + points.map(this.pointToString).join(\", \") + \"]\";\n    },\n    copy: function(obj) {\n      return JSON.parse(JSON.stringify(obj));\n    },\n    angle: function(o,v1,v2) {\n      var dx1 = v1.x - o.x,\n          dy1 = v1.y - o.y,\n          dx2 = v2.x - o.x,\n          dy2 = v2.y - o.y,\n          cross = dx1*dy2 - dy1*dx2,\n          m1 = sqrt(dx1*dx1+dy1*dy1),\n          m2 = sqrt(dx2*dx2+dy2*dy2),\n          dot;\n      dx1/=m1; dy1/=m1; dx2/=m2; dy2/=m2;\n      dot = dx1*dx2 + dy1*dy2;\n      return atan2(cross, dot);\n    },\n    lli8: function(x1,y1,x2,y2,x3,y3,x4,y4) {\n      var nx=(x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4),\n          ny=(x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4),\n          d=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);\n      if(d==0) { return false; }\n      return { x: nx/d, y: ny/d };\n    },\n    lli4: function(p1,p2,p3,p4) {\n      var x1 = p1.x, y1 = p1.y,\n          x2 = p2.x, y2 = p2.y,\n          x3 = p3.x, y3 = p3.y,\n          x4 = p4.x, y4 = p4.y;\n      return this.lli8(x1,y1,x2,y2,x3,y3,x4,y4);\n    },\n    lli: function(v1, v2) {\n      return this.lli4(v1,v1.c,v2,v2.c);\n    },\n    makeline: function(p1,p2) {\n      var x1 = p1.x, y1 = p1.y, x2 = p2.x, y2 = p2.y, dx = (x2-x1)/3, dy = (y2-y1)/3;\n      return new Bezier(x1, y1, x1+dx, y1+dy, x1+2*dx, y1+2*dy, x2, y2);\n    },\n    findbbox: function(sections) {\n      var mx=99999999,my=mx,MX=-mx,MY=MX;\n      sections.forEach(function(s) {\n        var bbox = s.bbox();\n        if(mx > bbox.x.min) mx = bbox.x.min;\n        if(my > bbox.y.min) my = bbox.y.min;\n        if(MX < bbox.x.max) MX = bbox.x.max;\n        if(MY < bbox.y.max) MY = bbox.y.max;\n      });\n      return {\n        x: { min: mx, mid:(mx+MX)/2, max: MX, size:MX-mx },\n        y: { min: my, mid:(my+MY)/2, max: MY, size:MY-my }\n      }\n    },\n    shapeintersections: function(s1, bbox1, s2, bbox2) {\n      if(!this.bboxoverlap(bbox1, bbox2)) return [];\n      var intersections = [];\n      var a1 = [s1.startcap, s1.forward, s1.back, s1.endcap];\n      var a2 = [s2.startcap, s2.forward, s2.back, s2.endcap];\n      a1.forEach(function(l1) {\n        if(l1.virtual) return;\n        a2.forEach(function(l2) {\n          if(l2.virtual) return;\n          var iss = l1.intersects(l2);\n          if(iss.length>0) {\n            iss.c1 = l1;\n            iss.c2 = l2;\n            iss.s1 = s1;\n            iss.s2 = s2;\n            intersections.push(iss);\n          }\n        });\n      });\n      return intersections;\n    },\n    makeshape: function(forward, back) {\n      var bpl = back.points.length;\n      var fpl = forward.points.length;\n      var start  = this.makeline(back.points[bpl-1], forward.points[0]);\n      var end    = this.makeline(forward.points[fpl-1], back.points[0]);\n      var shape  = {\n        startcap: start,\n        forward: forward,\n        back: back,\n        endcap: end,\n        bbox: this.findbbox([start, forward, back, end])\n      };\n      var self = this;\n      shape.intersections = function(s2) {\n        return self.shapeintersections(shape,shape.bbox,s2,s2.bbox);\n      };\n      return shape;\n    },\n    getminmax: function(curve, d, list) {\n      if(!list) return { min:0, max:0 };\n      var min=0xFFFFFFFFFFFFFFFF, max=-min,t,c;\n      if(list.indexOf(0)===-1) { list = [0].concat(list); }\n      if(list.indexOf(1)===-1) { list.push(1); }\n      for(var i=0,len=list.length; i<len; i++) {\n        t = list[i];\n        c = curve.get(t);\n        if(c[d] < min) { min = c[d]; }\n        if(c[d] > max) { max = c[d]; }\n      }\n      return { min:min, mid:(min+max)/2, max:max, size:max-min };\n    },\n    align: function(points, line) {\n      var tx = line.p1.x,\n          ty = line.p1.y,\n          a = -atan2(line.p2.y-ty, line.p2.x-tx),\n          d = function(v) {\n            return {\n              x: (v.x-tx)*cos(a) - (v.y-ty)*sin(a),\n              y: (v.x-tx)*sin(a) + (v.y-ty)*cos(a)\n            };\n          };\n      return points.map(d);\n    },\n    roots: function(points, line) {\n      line = line || {p1:{x:0,y:0},p2:{x:1,y:0}};\n      var order = points.length - 1;\n      var p = this.align(points, line);\n      var reduce = function(t) { return 0<=t && t <=1; };\n\n      if (order === 2) {\n        var a = p[0].y,\n            b = p[1].y,\n            c = p[2].y,\n            d = a - 2*b + c;\n        if(d!==0) {\n          var m1 = -sqrt(b*b-a*c),\n              m2 = -a+b,\n              v1 = -( m1+m2)/d,\n              v2 = -(-m1+m2)/d;\n          return [v1, v2].filter(reduce);\n        }\n        else if(b!==c && d===0) {\n          return [ (2*b-c)/2*(b-c) ].filter(reduce);\n        }\n        return [];\n      }\n\n      // see http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\n      var pa = p[0].y,\n          pb = p[1].y,\n          pc = p[2].y,\n          pd = p[3].y,\n          d = (-pa + 3*pb - 3*pc + pd),\n          a = (3*pa - 6*pb + 3*pc) / d,\n          b = (-3*pa + 3*pb) / d,\n          c = pa / d,\n          p = (3*b - a*a)/3,\n          p3 = p/3,\n          q = (2*a*a*a - 9*a*b + 27*c)/27,\n          q2 = q/2,\n          discriminant = q2*q2 + p3*p3*p3,\n          u1,v1,x1,x2,x3;\n       if (discriminant < 0) {\n        var mp3 = -p/3,\n            mp33 = mp3*mp3*mp3,\n            r = sqrt( mp33 ),\n            t = -q/(2*r),\n            cosphi = t<-1 ? -1 : t>1 ? 1 : t,\n            phi = acos(cosphi),\n            crtr = crt(r),\n            t1 = 2*crtr;\n        x1 = t1 * cos(phi/3) - a/3;\n        x2 = t1 * cos((phi+tau)/3) - a/3;\n        x3 = t1 * cos((phi+2*tau)/3) - a/3;\n        return [x1, x2, x3].filter(reduce);\n      } else if(discriminant === 0) {\n        u1 = q2 < 0 ? crt(-q2) : -crt(q2);\n        x1 = 2*u1-a/3;\n        x2 = -u1 - a/3;\n        return [x1,x2].filter(reduce);\n      } else {\n        var sd = sqrt(discriminant);\n        u1 = crt(-q2+sd);\n        v1 = crt(q2+sd);\n        return [u1-v1-a/3].filter(reduce);;\n      }\n    },\n    droots: function(p) {\n      // quadratic roots are easy\n      if(p.length === 3) {\n        var a = p[0],\n            b = p[1],\n            c = p[2],\n            d = a - 2*b + c;\n        if(d!==0) {\n          var m1 = -sqrt(b*b-a*c),\n              m2 = -a+b,\n              v1 = -( m1+m2)/d,\n              v2 = -(-m1+m2)/d;\n          return [v1, v2];\n        }\n        else if(b!==c && d===0) {\n          return [ (2*b-c)/(2*(b-c)) ];\n        }\n        return [];\n      }\n\n      // linear roots are even easier\n      if(p.length === 2) {\n        var a = p[0], b = p[1];\n        if(a!==b) { return [a/(a-b)]; }\n        return [];\n      }\n    },\n    bboxoverlap: function(b1,b2) {\n      var dims=['x','y'],len=dims.length,i,dim,l,t,d\n      for(i=0; i<len; i++) {\n        dim = dims[i];\n        l = b1[dim].mid;\n        t = b2[dim].mid;\n        d = (b1[dim].size + b2[dim].size)/2;\n        if(abs(l-t) >= d) return false;\n      }\n      return true;\n    },\n    expandbox: function(bbox, _bbox) {\n      if(_bbox.x.min < bbox.x.min) { bbox.x.min = _bbox.x.min; }\n      if(_bbox.y.min < bbox.y.min) { bbox.y.min = _bbox.y.min; }\n      if(_bbox.z && _bbox.z.min < bbox.z.min) { bbox.z.min = _bbox.z.min; }\n      if(_bbox.x.max > bbox.x.max) { bbox.x.max = _bbox.x.max; }\n      if(_bbox.y.max > bbox.y.max) { bbox.y.max = _bbox.y.max; }\n      if(_bbox.z && _bbox.z.max > bbox.z.max) { bbox.z.max = _bbox.z.max; }\n      bbox.x.mid = (bbox.x.min + bbox.x.max)/2;\n      bbox.y.mid = (bbox.y.min + bbox.y.max)/2;\n      if(bbox.z) { bbox.z.mid = (bbox.z.min + bbox.z.max)/2; }\n      bbox.x.size = bbox.x.max - bbox.x.min;\n      bbox.y.size = bbox.y.max - bbox.y.min;\n      if(bbox.z) { bbox.z.size = bbox.z.max - bbox.z.min; }\n    },\n    pairiteration: function(c1,c2) {\n      var c1b = c1.bbox(),\n          c2b = c2.bbox(),\n          r = 100000,\n          threshold = 0.5;\n      if(c1b.x.size + c1b.y.size < threshold && c2b.x.size + c2b.y.size < threshold) {\n        return [ ((r * (c1._t1+c1._t2)/2)|0)/r + \"/\" + ((r * (c2._t1+c2._t2)/2)|0)/r ];\n      }\n      var cc1 = c1.split(0.5),\n          cc2 = c2.split(0.5),\n          pairs = [\n            {left: cc1.left, right: cc2.left },\n            {left: cc1.left, right: cc2.right },\n            {left: cc1.right, right: cc2.right },\n            {left: cc1.right, right: cc2.left }];\n      pairs = pairs.filter(function(pair) {\n        return utils.bboxoverlap(pair.left.bbox(),pair.right.bbox());\n      });\n      var results = [];\n      if(pairs.length === 0) return results;\n      pairs.forEach(function(pair) {\n        results = results.concat(\n          utils.pairiteration(pair.left, pair.right)\n        );\n      })\n      results = results.filter(function(v,i) {\n        return results.indexOf(v) === i;\n      });\n      return results;\n    }\n  };\n\n  var PolyBezier = function(curves) {\n    this.curves = [];\n    this._3d = false;\n    if(!!curves) {\n      this.curves = curves;\n      this._3d = this.curves[0]._3d;\n    }\n  }\n\n  PolyBezier.prototype = {\n    valueOf: function() {\n      return this.toString();\n    },\n    toString: function() {\n      return utils.pointsToString(this.points);\n    },\n    addCurve: function(curve) {\n      this.curves.push(curve);\n      this._3d = this._3d || curve._3d;\n    },\n    length: function() {\n      return this.curves.map(function(v) { return v.length(); }).reduce(function(a,b) { return a+b; });\n    },\n    curve: function(idx) {\n      return this.curves[idx];\n    },\n    bbox: function() {\n      var c = this.curves;\n      var bbox = c[0].bbox();\n      for(var i=1; i<c.length; i++) {\n        utils.expandbox(bbox, c[i].bbox());\n      }\n      return bbox;\n    },\n    offset: function(d) {\n      var offset = [];\n      this.curves.forEach(function(v) {\n        offset = offset.concat(v.offset(d));\n      });\n      return new PolyBezier(offset);\n    },\n  };\n\n  /**\n   * Bezier curve constructor. The constructor argument can be one of three things:\n   *\n   * 1. array/4 of {x:..., y:..., z:...}, z optional\n   * 2. numerical array/8 ordered x1,y1,x2,y2,x3,y3,x4,y4\n   * 3. numerical array/12 ordered x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4\n   *\n   */\n  var Bezier = function(coords) {\n    var args = (coords && coords.forEach ? coords : arguments);\n    if(typeof args[0] === \"object\") {\n      args = [];\n      for(var i=0; i<coords.length; i++) {\n        ['x','y','z'].forEach(function(d) {\n          if(typeof coords[i][d] !== \"undefined\") {\n            args.push(coords[i][d]);\n          }\n        });\n      }\n    }\n    var len = args.length;\n    if(len!==6 && len!==8 && len!==9 && len!==12) {\n      throw new Error(\"This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)\");\n    }\n    var _3d = (len === 9 || len === 12);\n    this._3d = _3d;\n    var points = [];\n    for(var idx=0, step=(_3d ? 3 : 2); idx<len; idx+=step) {\n      var point = {\n        x: args[idx],\n        y: args[idx+1]\n      };\n      if(_3d) { point.z = args[idx+2] };\n      points.push(point);\n    }\n    this.order = points.length - 1;\n    this.points = points;\n    var dims = ['x','y'];\n    if(_3d) dims.push('z');\n    this.dims = dims;\n    this.dimlen = dims.length;\n    (function(curve) {\n      var a = utils.align(points, {p1:points[0], p2:points[curve.order]});\n      for(var i=0; i<a.length; i++) {\n        if(abs(a[i].y) > 0.0001) {\n          curve._linear = false;\n          return;\n        }\n      }\n      curve._linear = true;\n    }(this));\n    this._t1 = 0;\n    this._t2 = 1;\n    this.update();\n  };\n\n  Bezier.utils = utils;\n\n  Bezier.prototype = {\n    valueOf: function() {\n      return this.toString();\n    },\n    toString: function() {\n      return utils.pointsToString(this.points);\n    },\n    toSVG: function(relative) {\n      if(this._3d) return false;\n      var p = this.points,\n          x = p[0].x,\n          y = p[0].y,\n          s = \"M \"+x+\" \"+y+\" \"+(this.order===2 ? \"Q \":\"C \");\n      for(var i=1, last=p.length; i<last; i++) { s += p[i].x+\" \"+p[i].y; }\n      return s;\n    },\n    update: function() {\n      // one-time compute derivative coordinates\n      this.dpoints = [];\n      for(var p=this.points, d=p.length, c=d-1; d>1; d--, c--) {\n        var list = [];\n        for(var j=0, dpt; j<c; j++) {\n          dpt = {\n            x: c * (p[j+1].x - p[j].x),\n            y: c * (p[j+1].y - p[j].y)\n          };\n          if(this._3d) {\n            dpt.z = c * (p[j+1].z - p[j].z);\n          }\n          list.push(dpt);\n        }\n        this.dpoints.push(list);\n        p = list;\n      };\n      this.computedirection();\n    },\n    computedirection: function() {\n      var points = this.points;\n      var angle = utils.angle(points[0], points[this.order], points[1]);\n      this.clockwise = angle > 0;\n    },\n    length: function() {\n      return utils.length(this.points, this.derivative.bind(this));\n    },\n    getLUT: function(steps) {\n      steps = steps || 100;\n      var points = [];\n      for(var t=0; t<=steps; t++) {\n        points.push(this.compute(t/steps));\n      }\n      return points;\n    },\n    get: function(t) {\n      return this.compute(t);\n    },\n    point: function(idx) {\n      return this.points[idx];\n    },\n    compute: function(t) {\n      // shortcuts\n      if(t===0) { return this.points[0]; }\n      if(t===1) { return this.points[this.order]; }\n      // plain computation\n      var mt = 1-t,\n          mt2 = mt*mt,\n          t2 = t*t,\n          a,b,c,d = 0,\n          p = this.points;\n      if(this.order===2) {\n        p = [p[0], p[1], p[2], ZERO];\n        a = mt2;\n        b = mt*t*2;\n        c = t2;\n      }\n      if(this.order===3) {\n        a = mt2*mt;\n        b = mt2*t*3;\n        c = mt*t2*3;\n        d = t*t2;\n      }\n      var ret = {\n        x: a*p[0].x + b*p[1].x + c*p[2].x + d*p[3].x,\n        y: a*p[0].y + b*p[1].y + c*p[2].y + d*p[3].y\n      };\n      if(this._3d) {\n        ret.z = a*p[0].z + b*p[1].z + c*p[2].z + d*p[3].z;\n      }\n      return ret;\n    },\n    raise: function() {\n      var p = this.points, np = [p[0]], i, k=p.length, pi, pim;\n      for (var i=1; i<k; i++) {\n        pi = p[i];\n        pim = p[i-1];\n        np[i] = {\n          x: (k-i)/k * pi.x + i/k * pim.x,\n          y: (k-i)/k * pi.y + i/k * pim.y\n        };\n      }\n      np[k] = p[k-1];\n      return new Bezier(np);\n    },\n    derivative: function(t) {\n      var mt = 1-t,\n          a,b,c=0,\n          p = this.dpoints[0];\n      if(this.order===2) { p = [p[0], p[1], ZERO]; a = mt; b = t; }\n      if(this.order===3) { a = mt*mt; b = mt*t*2; c = t*t; }\n      var ret = {\n        x: a*p[0].x + b*p[1].x + c*p[2].x,\n        y: a*p[0].y + b*p[1].y + c*p[2].y\n      };\n      if(this._3d) {\n        ret.z = a*p[0].z + b*p[1].z + c*p[2].z;\n      }\n      return ret;\n    },\n    normal: function(t) {\n      return this._3d ? this.__normal3(t) : this.__normal2(t);\n    },\n    __normal2: function(t) {\n      var d = this.derivative(t);\n      var q = sqrt(d.x*d.x + d.y*d.y)\n      return { x: -d.y/q, y: d.x/q };\n    },\n    __normal3: function() {\n      // see http://stackoverflow.com/questions/25453159\n      var r1 = this.derivative(t),\n          r2 = this.derivative(t+0.01),\n          q1 = sqrt(r1.x*r1.x + r1.y*r1.y + r1.z*r1.z),\n          q2 = sqrt(r2.x*r2.x + r2.y*r2.y + r2.z*r2.z);\n      r1.x /= q1; r1.y /= q1; r1.z /= q1;\n      r2.x /= q2; r2.y /= q2; r2.z /= q2;\n      // cross product\n      var c = {\n        x: r2.y*r1.z - r2.z*r1.y,\n        y: r2.z*r1.x - r2.x*r1.z,\n        z: r2.x*r1.y - r2.y*r1.x\n      };\n      var m = sqrt(c.x*c.x + c.y*c.y + c.z*c.z);\n      c.x /= m; c.y /= m; c.z /= m;\n      // rotation matrix\n      var R = [   c.x*c.x,   c.x*c.y-c.z, c.x*c.z+c.y,\n                c.x*c.y+c.z,   c.y*c.y,   c.y*c.z-c.x,\n                c.x*c.z-c.y, c.y*c.z+c.x,   c.z*c.z    ];\n      // normal vector:\n      var n = {\n        x: R[0] * r1.x + R[1] * r1.y + R[2] * r1.z,\n        y: R[3] * r1.x + R[4] * r1.y + R[5] * r1.z,\n        z: R[6] * r1.x + R[7] * r1.y + R[8] * r1.z\n      };\n      return n;\n    },\n    split: function(t1, t2) {\n      // shortcuts\n      if(t1===0 && !!t2) { return this.split(t2).left; }\n      if(t2===1) { return this.split(t1).right; }\n      // no shortcut: use \"de Casteljau\" iteration.\n      var p = this.points,\n          _p = [],\n          pt,\n          q = [],\n          idx = 0,\n          i=0,\n          l=0;\n      q[idx++] = p[0];\n      q[idx++] = p[1];\n      q[idx++] = p[2];\n      if(this.order === 3) { q[idx++] = p[3]; }\n      // we lerp between all points at each iteration, until we have 1 point left.\n      while(p.length>1) {\n        _p = [];\n        for(i=0, l=p.length-1; i<l; i++) {\n          pt = utils.lerp(t1,p[i],p[i+1]);\n          q[idx++] = pt;\n          _p.push(pt);\n        }\n        p = _p;\n      }\n      var result = {\n        left: this.order === 2 ? new Bezier([q[0],q[3],q[5]]) : new Bezier([q[0],q[4],q[7],q[9]]),\n        right: this.order === 2 ? new Bezier([q[5],q[4],q[2]]) : new Bezier([q[9],q[8],q[6],q[3]]),\n        span: q\n      };\n\n      // make sure we bind _t1/_t2 information!\n      result.left._t1  = utils.map(0,  0,1, this._t1,this._t2);\n      result.left._t2  = utils.map(t1, 0,1, this._t1,this._t2);\n      result.right._t1 = utils.map(t1, 0,1, this._t1,this._t2);\n      result.right._t2 = utils.map(1,  0,1, this._t1,this._t2);\n\n      // if we have no t2, we're done\n      if(!t2) { return result; }\n\n      // if we have a t2, split again:\n      t2 = utils.map(t2,t1,1,0,1);\n      var subsplit = result.right.split(t2);\n      return subsplit.left;\n    },\n    inflections: function() {\n      var dims = this.dims,\n          len = this.dimlen,\n          result={},\n          roots=[],\n          p, mfn;\n      dims.forEach(function(dim) {\n        mfn = function(v) { return v[dim]; };\n        p = this.dpoints[0].map(mfn);\n        result[dim] = utils.droots(p);\n        if(this.order === 3) {\n          p = this.dpoints[1].map(mfn);\n          result[dim] = result[dim].concat(utils.droots(p));\n        }\n        result[dim] = result[dim].filter(function(t) { return (t>=0 && t<=1); });\n        roots = roots.concat(result[dim].sort());\n      }.bind(this));\n      roots.sort();\n      result.values = roots;\n      return result;\n    },\n    bbox: function() {\n      var inflections = this.inflections(), result = {};\n      this.dims.forEach(function(d) {\n        result[d] = utils.getminmax(this, d, inflections[d]);\n      }.bind(this));\n      return result;\n    },\n    overlaps: function(curve) {\n      var lbbox = this.bbox(),\n          tbbox = curve.bbox();\n      return utils.bboxoverlap(lbbox,tbbox);\n    },\n    offset: function(t, d) {\n      if(typeof d !== \"undefined\") {\n        var c = this.get(t);\n        var n = this.normal(t);\n        var ret = {\n          c: c,\n          n: n,\n          x: c.x + n.x * d,\n          y: c.y + n.y * d\n        };\n        if(this._3d) {\n          ret.z = c.z + n.z * d;\n        };\n        return ret;\n      }\n      if(this._linear) {\n        var nv = this.normal(0);\n        var coords = this.points.map(function(p) {\n          var ret = {\n            x: p.x + t * nv.x,\n            y: p.y + t * nv.y\n          };\n          if(p.z && n.z) { ret.z = p.z + t * nv.z; }\n          return ret;\n        });\n        return [new Bezier(coords)];\n      }\n      var reduced = this.reduce();\n      return reduced.map(function(s) {\n        return s.scale(t);\n      });\n    },\n    simple: function() {\n      if(this.order===3) {\n        var a1 = utils.angle(this.points[0], this.points[3], this.points[1]);\n        var a2 = utils.angle(this.points[0], this.points[3], this.points[2]);\n        if(a1>0 && a2<0 || a1<0 && a2>0) return false;\n      }\n      var n1 = this.normal(0);\n      var n2 = this.normal(1);\n      var s = n1.x*n2.x + n1.y*n2.y;\n      if(this._3d) { s += n1.z*n2.z; }\n      var angle = abs(acos(s));\n      return angle < pi/3;\n    },\n    reduce: function() {\n      var i, t1=0, t2=0, step=0.01, segment, pass1=[], pass2=[];\n      // first pass: split on inflections\n      var inflections = this.inflections().values;\n      if(inflections.indexOf(0)===-1) { inflections = [0].concat(inflections); }\n      if(inflections.indexOf(1)===-1) { inflections.push(1); }\n      for(t1=inflections[0], i=1; i<inflections.length; i++) {\n        t2 = inflections[i];\n        segment = this.split(t1,t2);\n        segment._t1 = t1;\n        segment._t2 = t2;\n        pass1.push(segment);\n        t1 = t2;\n      }\n      // second pass: further reduce these segments to simple segments\n      pass1.forEach(function(p1) {\n        t1=0;\n        t2=0;\n        while(t2 <= 1) {\n          for(t2=t1+step; t2<=1+step; t2+=step) {\n            segment = p1.split(t1,t2);\n            if(!segment.simple()) {\n              t2 -= step;\n              if(abs(t1-t2)<step) {\n                // we can never form a reduction\n                return [];\n              }\n              segment = p1.split(t1,t2);\n              segment._t1 = utils.map(t1,0,1,p1._t1,p1._t2);\n              segment._t2 = utils.map(t2,0,1,p1._t1,p1._t2);\n              pass2.push(segment);\n              t1 = t2;\n              break;\n            }\n          }\n        }\n        if(t1<1) {\n          segment = p1.split(t1,1);\n          segment._t1 = utils.map(t1,0,1,p1._t1,p1._t2);\n          segment._t2 = p1._t2;\n          pass2.push(segment);\n        }\n      });\n      return pass2;\n    },\n    scale: function(d) {\n      var order = this.order;\n      var distanceFn = false\n      if(typeof d === \"function\") { distanceFn = d; }\n      if(distanceFn && order === 2) { return this.raise().scale(distanceFn); }\n\n      // TODO: add special handling for degenerate (=linear) curves.\n      var clockwise = this.clockwise;\n      var r1 = distanceFn ? distanceFn(0) : d;\n      var r2 = distanceFn ? distanceFn(1) : d;\n      var v = [ this.offset(0,10), this.offset(1,10) ];\n      var o = utils.lli4(v[0], v[0].c, v[1], v[1].c);\n      if(!o) { throw \"cannot scale this curve. Try reducing it first.\"; }\n      // move all points by distance 'd' wrt the origin 'o'\n      var points=this.points, np=[];\n\n      // move end points by fixed distance along normal.\n      [0,1].forEach(function(t) {\n        var p = np[t*order] = utils.copy(points[t*order]);\n        p.x += (t?r2:r1) * v[t].n.x;\n        p.y += (t?r2:r1) * v[t].n.y;\n      }.bind(this));\n\n      if (!distanceFn) {\n        // move control points to lie on the intersection of the offset\n        // derivative vector, and the origin-through-control vector\n        [0,1].forEach(function(t) {\n          if(this.order===2 && !!t) return;\n          var p = np[t*order];\n          var d = this.derivative(t);\n          var p2 = { x: p.x + d.x, y: p.y + d.y };\n          np[t+1] = utils.lli4(p, p2, o, points[t+1]);\n        }.bind(this));\n        return new Bezier(np);\n      }\n\n      // move control points by \"however much necessary to\n      // ensure the correct tangent to endpoint\".\n      [0,1].forEach(function(t) {\n        if(this.order===2 && !!t) return;\n        var p = points[t+1];\n        var ov = {\n          x: p.x - o.x,\n          y: p.y - o.y\n        };\n        var rc = distanceFn ? distanceFn((t+1)/order) : d;\n        if(distanceFn && !clockwise) rc = -rc;\n        var m = sqrt(ov.x*ov.x + ov.y*ov.y);\n        ov.x /= m;\n        ov.y /= m;\n        np[t+1] = {\n          x: p.x + rc*ov.x,\n          y: p.y + rc*ov.y\n        }\n      }.bind(this));\n      return new Bezier(np);\n    },\n    outline: function(d1, d2, d3, d4) {\n      d2 = (typeof d2 === \"undefined\") ? d1 : d2;\n      var reduced = this.reduce(),\n          len = reduced.length,\n          order = this.order,\n          fcurves = [],\n          bcurves = [],\n          i, p, last,\n          alen = 0,\n          tlen = this.length();\n\n      var graduated = (typeof d3 !== \"undefined\" && typeof d4 !== \"undefined\");\n\n      function linearDistanceFunction(s,e, tlen,alen,slen) {\n        return function (v) {\n          var f1 = alen/tlen, f2 = (alen+slen)/tlen, d = e-s;\n          return utils.map(v, 0,1, s+f1*d, s+f2*d);\n        };\n      };\n\n      // form curve oulines\n      reduced.forEach(function(segment) {\n        slen = segment.length();\n        if (graduated) {\n          fcurves.push(segment.scale(  linearDistanceFunction( d1, d3, tlen,alen,slen)  ));\n          bcurves.push(segment.scale(  linearDistanceFunction(-d2,-d4, tlen,alen,slen)  ));\n        } else {\n          fcurves.push(segment.scale( d1));\n          bcurves.push(segment.scale(-d2));\n        }\n        alen += slen;\n      });\n\n      // reverse the \"return\" outline\n      bcurves = bcurves.map(function(s) {\n        p = s.points;\n        if(p[3]) { s.points = [p[3],p[2],p[1],p[0]]; }\n        else { s.points = [p[2],p[1],p[0]]; }\n        return s;\n      }).reverse();\n\n      // form the endcaps as lines\n      var fs = fcurves[0].points[0],\n          fe = fcurves[len-1].points[fcurves[len-1].points.length-1],\n          bs = bcurves[len-1].points[bcurves[len-1].points.length-1],\n          be = bcurves[0].points[0],\n          ls = utils.makeline(bs,fs),\n          le = utils.makeline(fe,be),\n          segments = [ls].concat(fcurves).concat([le]).concat(bcurves),\n          slen = segments.length;\n\n      return new PolyBezier(segments);\n    },\n    outlineshapes: function(d1,d2) {\n      d2 = d2 || d1;\n      var outline = this.outline(d1,d2).curves;\n      var shapes = [];\n      for(var i=1, len=outline.length; i < len/2; i++) {\n        var shape = utils.makeshape(outline[i], outline[len-i]);\n        shape.startcap.virtual = (i > 1);\n        shape.endcap.virtual = (i < len/2-1);\n        shapes.push(shape);\n      }\n      return shapes;\n    },\n    intersects: function(curve) {\n      if(!curve) return this.selfintersects();\n      if(curve.p1 && curve.p2) {\n        return this.lineIntersects(curve);\n      }\n      if(curve instanceof Bezier) { curve = curve.reduce(); }\n      return this.curveintersects(this.reduce(), curve);\n    },\n    lineIntersects: function(line) {\n      var mx = min(line.p1.x, line.p2.x),\n          my = min(line.p1.y, line.p2.y),\n          MX = max(line.p1.x, line.p2.x),\n          MY = max(line.p1.y, line.p2.y),\n          self=this;\n      return utils.roots(this.points, line).filter(function(t) {\n        var p = self.get(t);\n        return (mx <= p.x && p.x <= MX && my <= p.y && p.y <= MY);\n      });\n    },\n    selfintersects: function() {\n      var reduced = this.reduce();\n      // \"simple\" curves cannot intersect with their direct\n      // neighbour, so for each segment X we check whether\n      // it intersects [0:x-2][x+2:last].\n      var i,len=reduced.length-2,results=[],result,left,right;\n      for(i=0; i<len; i++) {\n        left = reduced.slice(i,i+1);\n        right = reduced.slice(i+2);\n        result = this.curveintersects(left, right);\n        results = results.concat( result );\n      }\n      return results;\n    },\n    curveintersects: function(c1,c2) {\n      var pairs = [];\n      // step 1: pair off any overlapping segments\n      c1.forEach(function(l) {\n        c2.forEach(function(r) {\n          if(l.overlaps(r)) {\n            pairs.push({ left: l, right: r });\n          }\n        });\n      });\n      // step 2: for each pairing, run through the convergence algorithm.\n      var intersections = [];\n      pairs.forEach(function(pair) {\n        var result = utils.pairiteration(pair.left, pair.right);\n        if(result.length > 0) {\n          intersections = intersections.concat(result);\n        }\n      });\n      return intersections;\n    }\n  };\n\n\n  if(typeof module !== \"undefined\" && module.exports) {\n    module.exports = Bezier;\n  }\n\n  else if(typeof define !== \"undefined\") {\n    define(function() { return Bezier; });\n  }\n\n  else if(typeof window !== \"undefined\") {\n    window.Bezier = Bezier;\n  }\n\n}());\n\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}