!function n(t,r,e){function i(u,a){if(!r[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[u]={exports:{}};t[u][0].call(c.exports,function(n){var r=t[u][1][n];return i(r?r:n)},c,c.exports,n,t,r,e)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<e.length;u++)i(e[u]);return i}({1:[function(t){"use strict";var n=t("./CanvasController");document.addEventListener("DOMContentLoaded",function(){var t=new n;document.body.appendChild(t.element)})},{"./CanvasController":4}],2:[function(t,n){function r(){if(!u){u=!0;for(var t,n=o.length;n;){t=o,o=[];for(var r=-1;++r<n;)t[r]();n=o.length}u=!1}}function e(){}var i=n.exports={},o=[],u=!1;i.nextTick=function(t){o.push(t),u||setTimeout(r,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=e,i.addListener=e,i.once=e,i.off=e,i.removeListener=e,i.removeAllListeners=e,i.emit=e,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(t,n,r){(function(t){(function(){function e(t,n){if(t!==n){var r=t===t,e=n===n;if(t>n||!r||"undefined"==typeof t&&e)return 1;if(n>t||!e||"undefined"==typeof n&&r)return-1}return 0}function i(t,n,r){if(n!==n)return v(t,r);for(var e=r-1,i=t.length;++e<i;)if(t[e]===n)return e;return-1}function o(t){return"function"==typeof t||!1}function u(t){return"string"==typeof t?t:null==t?"":t+""}function a(t){return t.charCodeAt(0)}function s(t,n){for(var r=-1,e=t.length;++r<e&&n.indexOf(t.charAt(r))>-1;);return r}function f(t,n){for(var r=t.length;r--&&n.indexOf(t.charAt(r))>-1;);return r}function c(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function l(t,n,r){for(var i=-1,o=t.criteria,u=n.criteria,a=o.length,s=r.length;++i<a;){var f=e(o[i],u[i]);if(f)return i>=s?f:f*(r[i]?1:-1)}return t.index-n.index}function h(t){return Fn[t]}function p(t){return qn[t]}function d(t){return"\\"+Qn[t]}function v(t,n,r){for(var e=t.length,i=n+(r?0:-1);r?i--:++i<e;){var o=t[i];if(o!==o)return i}return-1}function y(t){return t&&"object"==typeof t||!1}function g(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function m(t,n){for(var r=-1,e=t.length,i=-1,o=[];++r<e;)t[r]===n&&(t[r]=q,o[++i]=r);return o}function _(t,n){for(var r,e=-1,i=t.length,o=-1,u=[];++e<i;){var a=t[e],s=n?n(a,e,t):a;e&&r===s||(r=s,u[++o]=a)}return u}function x(t){for(var n=-1,r=t.length;++n<r&&g(t.charCodeAt(n)););return n}function w(t){for(var n=t.length;n--&&g(t.charCodeAt(n)););return n}function b(t){return $n[t]}function R(t){function n(t){if(y(t)&&!rs(t)&&!(t instanceof K)){if(t instanceof g)return t;if(ua.call(t,"__chain__")&&ua.call(t,"__wrapped__"))return Ne(t)}return new g(t)}function r(){}function g(t,n,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!n}function K(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Ba,this.__views__=null}function tn(){var t=this.__actions__,n=this.__iteratees__,r=this.__views__,e=new K(this.__wrapped__);return e.__actions__=t?Gn(t):null,e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=n?Gn(n):null,e.__takeCount__=this.__takeCount__,e.__views__=r?Gn(r):null,e}function rn(){if(this.__filtered__){var t=new K(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Fn(){var t=this.__wrapped__.value();if(!rs(t))return Hr(t,this.__actions__);var n=this.__dir__,r=0>n,e=be(0,t.length,this.__views__),i=e.start,o=e.end,u=o-i,a=r?o:i-1,s=Oa(u,this.__takeCount__),f=this.__iteratees__,c=f?f.length:0,l=0,h=[];t:for(;u--&&s>l;){a+=n;for(var p=-1,d=t[a];++p<c;){var v=f[p],y=v.iteratee,g=v.type;if(g==N){if(v.done&&(r?a>v.index:a<v.index)&&(v.count=0,v.done=!1),v.index=a,!v.done){var m=v.limit;if(!(v.done=m>-1?v.count++>=m:!y(d)))continue t}}else{var _=y(d);if(g==U)d=_;else if(!_){if(g==D)continue t;break t}}}h[l++]=d}return h}function qn(){this.__data__={}}function $n(t){return this.has(t)&&delete this.__data__[t]}function Yn(t){return"__proto__"==t?z:this.__data__[t]}function Qn(t){return"__proto__"!=t&&ua.call(this.__data__,t)}function Vn(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this}function Xn(t){var n=t?t.length:0;for(this.data={hash:ka(null),set:new _a};n--;)this.push(t[n])}function Jn(t,n){var r=t.data,e="string"==typeof n||Oo(n)?r.set.has(n):r.hash[n];return e?0:-1}function Kn(t){var n=this.data;"string"==typeof t||Oo(t)?n.set.add(t):n.hash[t]=!0}function Gn(t,n){var r=-1,e=t.length;for(n||(n=$u(e));++r<e;)n[r]=t[r];return n}function tr(t,n){for(var r=-1,e=t.length;++r<e&&n(t[r],r,t)!==!1;);return t}function nr(t,n){for(var r=t.length;r--&&n(t[r],r,t)!==!1;);return t}function rr(t,n){for(var r=-1,e=t.length;++r<e;)if(!n(t[r],r,t))return!1;return!0}function er(t,n){for(var r=-1,e=t.length,i=-1,o=[];++r<e;){var u=t[r];n(u,r,t)&&(o[++i]=u)}return o}function ir(t,n){for(var r=-1,e=t.length,i=$u(e);++r<e;)i[r]=n(t[r],r,t);return i}function or(t){for(var n=-1,r=t.length,e=Ia;++n<r;){var i=t[n];i>e&&(e=i)}return e}function ur(t){for(var n=-1,r=t.length,e=Ba;++n<r;){var i=t[n];e>i&&(e=i)}return e}function ar(t,n,r,e){var i=-1,o=t.length;for(e&&o&&(r=t[++i]);++i<o;)r=n(r,t[i],i,t);return r}function sr(t,n,r,e){var i=t.length;for(e&&i&&(r=t[--i]);i--;)r=n(r,t[i],i,t);return r}function fr(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}function cr(t,n){return"undefined"==typeof t?n:t}function lr(t,n,r,e){return"undefined"!=typeof t&&ua.call(e,r)?t:n}function hr(t,n,r){var e=as(n);if(!r)return dr(n,t,e);for(var i=-1,o=e.length;++i<o;){var u=e[i],a=t[u],s=r(a,n[u],u,t,n);(s===s?s===a:a!==a)&&("undefined"!=typeof a||u in t)||(t[u]=s)}return t}function pr(t,n){for(var r=-1,e=t.length,i=je(e),o=n.length,u=$u(o);++r<o;){var a=n[r];i?(a=parseFloat(a),u[r]=Se(a,e)?t[a]:z):u[r]=t[a]}return u}function dr(t,n,r){r||(r=n,n={});for(var e=-1,i=r.length;++e<i;){var o=r[e];n[o]=t[o]}return n}function vr(t,n){for(var r=-1,e=n.length;++r<e;){var i=n[r];t[i]=ve(t[i],k,t)}return t}function yr(t,n,r){var e=typeof t;return"function"==e?"undefined"!=typeof n&&ke(t)?ne(t,n,r):t:null==t?Au:"object"==e?Lr(t):"undefined"==typeof n?Fr(t+""):Nr(t+"",n)}function gr(t,n,r,e,i,o,u){var a;if(r&&(a=i?r(t,e,i):r(t)),"undefined"!=typeof a)return a;if(!Oo(t))return t;var s=rs(t);if(s){if(a=Re(t),!n)return Gn(t,a)}else{var f=sa.call(t),c=f==J;if(f!=H&&f!=$&&(!c||i))return Dn[f]?Ee(t,f,n):i?t:{};if(a=ze(c?{}:t),!n)return dr(t,a,as(t))}o||(o=[]),u||(u=[]);for(var l=o.length;l--;)if(o[l]==t)return u[l];return o.push(t),u.push(a),(s?tr:Or)(t,function(e,i){a[i]=gr(e,n,r,i,t,o,u)}),a}function mr(t,n,r,e){if("function"!=typeof t)throw new Zu(F);return xa(function(){t.apply(z,Qr(r,e))},n)}function _r(t,n){var r=t?t.length:0,e=[];if(!r)return e;var o=-1,u=we(),a=u==i,s=a&&n.length>=200?Qa(n):null,f=n.length;s&&(u=Jn,a=!1,n=s);t:for(;++o<r;){var c=t[o];if(a&&c===c){for(var l=f;l--;)if(n[l]===c)continue t;e.push(c)}else u(n,c,0)<0&&e.push(c)}return e}function xr(t,n){var r=t?t.length:0;if(!je(r))return Or(t,n);for(var e=-1,i=Le(t);++e<r&&n(i[e],e,i)!==!1;);return t}function wr(t,n){var r=t?t.length:0;if(!je(r))return Ar(t,n);for(var e=Le(t);r--&&n(e[r],r,e)!==!1;);return t}function br(t,n){var r=!0;return xr(t,function(t,e,i){return r=!!n(t,e,i)}),r}function Rr(t,n,r,e){var i=t.length;for(r=null==r?0:+r||0,0>r&&(r=-r>i?0:i+r),e="undefined"==typeof e||e>i?i:+e||0,0>e&&(e+=i),i=r>e?0:e>>>0,r>>>=0;i>r;)t[r++]=n;return t}function zr(t,n){var r=[];return xr(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r}function Er(t,n,r,e){var i;return r(t,function(t,r,o){return n(t,r,o)?(i=e?r:t,!1):void 0}),i}function kr(t,n,r,e){for(var i=e-1,o=t.length,u=-1,a=[];++i<o;){var s=t[i];if(y(s)&&je(s.length)&&(rs(s)||Ro(s))){n&&(s=kr(s,n,r,0));var f=-1,c=s.length;for(a.length+=c;++f<c;)a[++u]=s[f]}else r||(a[++u]=s)}return a}function Sr(t,n,r){for(var e=-1,i=Le(t),o=r(t),u=o.length;++e<u;){var a=o[e];if(n(i[a],a,i)===!1)break}return t}function Tr(t,n,r){for(var e=Le(t),i=r(t),o=i.length;o--;){var u=i[o];if(n(e[u],u,e)===!1)break}return t}function jr(t,n){return Sr(t,n,Zo)}function Or(t,n){return Sr(t,n,as)}function Ar(t,n){return Tr(t,n,as)}function Cr(t,n){for(var r=-1,e=n.length,i=-1,o=[];++r<e;){var u=n[r];is(t[u])&&(o[++i]=u)}return o}function Mr(t,n,r){var e=-1,i="function"==typeof n,o=t?t.length:0,u=je(o)?$u(o):[];return xr(t,function(t){var o=i?n:null!=t&&t[n];u[++e]=o?o.apply(t,r):z}),u}function Pr(t,n,r,e,i,o){if(t===n)return 0!==t||1/t==1/n;var u=typeof t,a=typeof n;return"function"!=u&&"object"!=u&&"function"!=a&&"object"!=a||null==t||null==n?t!==t&&n!==n:Ir(t,n,Pr,r,e,i,o)}function Ir(t,n,r,e,i,o,u){var a=rs(t),s=rs(n),f=Y,c=Y;a||(f=sa.call(t),f==$?f=H:f!=H&&(a=Lo(t))),s||(c=sa.call(n),c==$?c=H:c!=H&&(s=Lo(n)));var l=f==H,h=c==H,p=f==c;if(p&&!a&&!l)return ge(t,n,f);var d=l&&ua.call(t,"__wrapped__"),v=h&&ua.call(n,"__wrapped__");if(d||v)return r(d?t.value():t,v?n.value():n,e,i,o,u);if(!p)return!1;o||(o=[]),u||(u=[]);for(var y=o.length;y--;)if(o[y]==t)return u[y]==n;o.push(t),u.push(n);var g=(a?ye:me)(t,n,r,e,i,o,u);return o.pop(),u.pop(),g}function Br(t,n,r,e,i){var o=n.length;if(null==t)return!o;for(var u=-1,a=!i;++u<o;)if(a&&e[u]?r[u]!==t[n[u]]:!ua.call(t,n[u]))return!1;for(u=-1;++u<o;){var s=n[u];if(a&&e[u])var f=ua.call(t,s);else{var c=t[s],l=r[u];f=i?i(c,l,s):z,"undefined"==typeof f&&(f=Pr(l,c,i,!0))}if(!f)return!1}return!0}function Wr(t,n){var r=[];return xr(t,function(t,e,i){r.push(n(t,e,i))}),r}function Lr(t){var n=as(t),r=n.length;if(1==r){var e=n[0],i=t[e];if(Oe(i))return function(t){return null!=t&&t[e]===i&&ua.call(t,e)}}for(var o=$u(r),u=$u(r);r--;)i=t[n[r]],o[r]=i,u[r]=Oe(i);return function(t){return Br(t,n,o,u)}}function Nr(t,n){return Oe(n)?function(r){return null!=r&&r[t]===n}:function(r){return null!=r&&Pr(n,r[t],null,!0)}}function Dr(t,n,r,e,i){if(!Oo(t))return t;var o=je(n.length)&&(rs(n)||Lo(n));return(o?tr:Or)(n,function(n,u,a){if(y(n))return e||(e=[]),i||(i=[]),Ur(t,a,u,Dr,r,e,i);var s=t[u],f=r?r(s,n,u,t,a):z,c="undefined"==typeof f;c&&(f=n),!o&&"undefined"==typeof f||!c&&(f===f?f===s:s!==s)||(t[u]=f)}),t}function Ur(t,n,r,e,i,o,u){for(var a=o.length,s=n[r];a--;)if(o[a]==s)return void(t[r]=u[a]);var f=t[r],c=i?i(f,s,r,t,n):z,l="undefined"==typeof c;l&&(c=s,je(s.length)&&(rs(s)||Lo(s))?c=rs(f)?f:f?Gn(f):[]:os(s)||Ro(s)?c=Ro(f)?Uo(f):os(f)?f:{}:l=!1),o.push(s),u.push(c),l?t[r]=e(c,s,i,o,u):(c===c?c!==f:f===f)&&(t[r]=c)}function Fr(t){return function(n){return null==n?z:n[t]}}function qr(t,n){var r=n.length,i=pr(t,n);for(n.sort(e);r--;){var o=parseFloat(n[r]);if(o!=u&&Se(o)){var u=o;wa.call(t,o,1)}}return i}function $r(t,n){return t+va(Pa()*(n-t+1))}function Yr(t,n,r,e,i){return i(t,function(t,i,o){r=e?(e=!1,t):n(r,t,i,o)}),r}function Qr(t,n,r){var e=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r="undefined"==typeof r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=$u(i);++e<i;)o[e]=t[e+n];return o}function Vr(t,n){var r;return xr(t,function(t,e,i){return r=n(t,e,i),!r}),!!r}function Xr(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}function Jr(t,n,r){var e=-1,i=t.length,o=je(i)?$u(i):[];return xr(t,function(t){for(var r=n.length,i=$u(r);r--;)i[r]=null==t?z:t[n[r]];o[++e]={criteria:i,index:e,value:t}}),Xr(o,function(t,n){return l(t,n,r)})}function Kr(t,n){var r=-1,e=we(),o=t.length,u=e==i,a=u&&o>=200,s=a?Qa():null,f=[];s?(e=Jn,u=!1):(a=!1,s=n?[]:f);t:for(;++r<o;){var c=t[r],l=n?n(c,r,t):c;if(u&&c===c){for(var h=s.length;h--;)if(s[h]===l)continue t;n&&s.push(l),f.push(c)}else e(s,l,0)<0&&((n||a)&&s.push(l),f.push(c))}return f}function Gr(t,n){for(var r=-1,e=n.length,i=$u(e);++r<e;)i[r]=t[n[r]];return i}function Hr(t,n){var r=t;r instanceof K&&(r=r.value());for(var e=-1,i=n.length;++e<i;){var o=[r],u=n[e];ga.apply(o,u.args),r=u.func.apply(u.thisArg,o)}return r}function Zr(t,n,r){var e=0,i=t?t.length:e;if("number"==typeof n&&n===n&&Na>=i){for(;i>e;){var o=e+i>>>1,u=t[o];(r?n>=u:n>u)?e=o+1:i=o}return i}return te(t,n,Au,r)}function te(t,n,r,e){n=r(n);for(var i=0,o=t?t.length:0,u=n!==n,a="undefined"==typeof n;o>i;){var s=va((i+o)/2),f=r(t[s]),c=f===f;if(u)var l=c||e;else l=a?c&&(e||"undefined"!=typeof f):e?n>=f:n>f;l?i=s+1:o=s}return Oa(o,La)}function ne(t,n,r){if("function"!=typeof t)return Au;if("undefined"==typeof n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,i){return t.call(n,r,e,i)};case 4:return function(r,e,i,o){return t.call(n,r,e,i,o)};case 5:return function(r,e,i,o,u){return t.call(n,r,e,i,o,u)}}return function(){return t.apply(n,arguments)}}function re(t){return ha.call(t,0)}function ee(t,n,r){for(var e=r.length,i=-1,o=ja(t.length-e,0),u=-1,a=n.length,s=$u(o+a);++u<a;)s[u]=n[u];for(;++i<e;)s[r[i]]=t[i];for(;o--;)s[u++]=t[i++];return s}function ie(t,n,r){for(var e=-1,i=r.length,o=-1,u=ja(t.length-i,0),a=-1,s=n.length,f=$u(u+s);++o<u;)f[o]=t[o];for(var c=o;++a<s;)f[c+a]=n[a];for(;++e<i;)f[c+r[e]]=t[o++];return f}function oe(t,n){return function(r,e,i){var o=n?n():{};if(e=xe(e,i,3),rs(r))for(var u=-1,a=r.length;++u<a;){var s=r[u];t(o,s,e(s,u,r),r)}else xr(r,function(n,r,i){t(o,n,e(n,r,i),i)});return o}}function ue(t){return function(){var n=arguments,r=n.length,e=n[0];if(2>r||null==e)return e;var i=n[r-2],o=n[r-1],u=n[3];r>3&&"function"==typeof i?(i=ne(i,o,5),r-=2):(i=r>2&&"function"==typeof o?o:null,r-=i?1:0),u&&Te(n[1],n[2],u)&&(i=3==r?null:i,r=2);for(var a=0;++a<r;){var s=n[a];s&&t(e,s,i)}return e}}function ae(t,n){function r(){var i=this&&this!==Hn&&this instanceof r?e:t;return i.apply(n,arguments)}var e=ce(t);return r}function se(t){return function(){var n=arguments.length,r=n,e=t?n-1:0;if(!n)return function(){return arguments[0]};for(var i=$u(n);r--;)if(i[r]=arguments[r],"function"!=typeof i[r])throw new Zu(F);return function(){for(var r=e,o=i[r].apply(this,arguments);t?r--:++r<n;)o=i[r].call(this,o);return o}}}function fe(t){return function(n){for(var r=-1,e=Su(lu(n)),i=e.length,o="";++r<i;)o=t(o,e[r],r);return o}}function ce(t){return function(){var n=$a(t.prototype),r=t.apply(n,arguments);return Oo(r)?r:n}}function le(t,n){return function(r,e,i){i&&Te(r,e,i)&&(e=null);var o=xe(),u=null==e;if(o===yr&&u||(u=!1,e=o(e,i,3)),u){var s=rs(r);if(s||!Wo(r))return t(s?r:We(r));e=a}return _e(r,e,n)}}function he(t,n,r,e,i,o,u,a,s,f){function c(){for(var x=arguments.length,w=x,b=$u(x);w--;)b[w]=arguments[w];if(e&&(b=ee(b,e,i)),o&&(b=ie(b,o,u)),d||y){var R=c.placeholder,z=m(b,R);if(x-=z.length,f>x){var E=a?Gn(a):null,T=ja(f-x,0),j=d?z:null,O=d?null:z,M=d?b:null,P=d?null:b;n|=d?A:C,n&=~(d?C:A),v||(n&=~(k|S));var I=he(t,n,r,M,j,P,O,E,s,T);return I.placeholder=R,I}}var B=h?r:this;p&&(t=B[_]),a&&(b=Pe(b,a)),l&&s<b.length&&(b.length=s);var W=this&&this!==Hn&&this instanceof c?g||ce(t):t;return W.apply(B,b)}var l=n&P,h=n&k,p=n&S,d=n&j,v=n&T,y=n&O,g=!p&&ce(t),_=t;return c}function pe(t,n,r){var e=t.length;if(n=+n,e>=n||!Sa(n))return"";var i=n-e;return r=null==r?" ":r+"",_u(r,pa(i/r.length)).slice(0,i)}function de(t,n,r,e){function i(){for(var n=-1,a=arguments.length,s=-1,f=e.length,c=$u(a+f);++s<f;)c[s]=e[s];for(;a--;)c[s++]=arguments[++n];var l=this&&this!==Hn&&this instanceof i?u:t;return l.apply(o?r:this,c)}var o=n&k,u=ce(t);return i}function ve(t,n,r,e,i,o,u,a){var s=n&S;if(!s&&"function"!=typeof t)throw new Zu(F);var f=e?e.length:0;if(f||(n&=~(A|C),e=i=null),f-=i?i.length:0,n&C){var c=e,l=i;e=i=null}var h=!s&&Va(t),p=[t,n,r,e,i,c,l,o,u,a];if(h&&h!==!0&&(Ae(p,h),n=p[1],a=p[9]),p[9]=null==a?s?0:t.length:ja(a-f,0)||0,n==k)var d=ae(p[0],p[2]);else d=n!=A&&n!=(k|A)||p[4].length?he.apply(z,p):de.apply(z,p);var v=h?Ya:Xa;return v(d,p)}function ye(t,n,r,e,i,o,u){var a=-1,s=t.length,f=n.length,c=!0;if(s!=f&&!(i&&f>s))return!1;for(;c&&++a<s;){var l=t[a],h=n[a];if(c=z,e&&(c=i?e(h,l,a):e(l,h,a)),"undefined"==typeof c)if(i)for(var p=f;p--&&(h=n[p],!(c=l&&l===h||r(l,h,e,i,o,u))););else c=l&&l===h||r(l,h,e,i,o,u)}return!!c}function ge(t,n,r){switch(r){case Q:case V:return+t==+n;case X:return t.name==n.name&&t.message==n.message;case G:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case Z:case nn:return t==n+""}return!1}function me(t,n,r,e,i,o,u){var a=as(t),s=a.length,f=as(n),c=f.length;if(s!=c&&!i)return!1;for(var l,h=-1;++h<s;){var p=a[h],d=ua.call(n,p);if(d){var v=t[p],y=n[p];d=z,e&&(d=i?e(y,v,p):e(v,y,p)),"undefined"==typeof d&&(d=v&&v===y||r(v,y,e,i,o,u))}if(!d)return!1;l||(l="constructor"==p)}if(!l){var g=t.constructor,m=n.constructor;if(g!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0}function _e(t,n,r){var e=r?Ba:Ia,i=e,o=i;return xr(t,function(t,u,a){var s=n(t,u,a);((r?i>s:s>i)||s===e&&s===o)&&(i=s,o=t)}),o}function xe(t,r,e){var i=n.callback||ju;return i=i===ju?yr:i,e?i(t,r,e):i}function we(t,r,e){var o=n.indexOf||Ze;return o=o===Ze?i:o,t?o(t,r,e):o}function be(t,n,r){for(var e=-1,i=r?r.length:0;++e<i;){var o=r[e],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=Oa(n,t+u);break;case"takeRight":t=ja(t,n-u)}}return{start:t,end:n}}function Re(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&ua.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function ze(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Ku),new n}function Ee(t,n,r){var e=t.constructor;switch(n){case en:return re(t);case Q:case V:return new e(+t);case on:case un:case an:case sn:case fn:case cn:case ln:case hn:case pn:var i=t.buffer;return new e(r?re(i):i,t.byteOffset,t.length);case G:case nn:return new e(t);case Z:var o=new e(t.source,En.exec(t));o.lastIndex=t.lastIndex}return o}function ke(t){var r=n.support,e=!(r.funcNames?t.name:r.funcDecomp);if(!e){var i=ia.call(t);r.funcNames||(e=!kn.test(i)),e||(e=Mn.test(i)||Mo(t),Ya(t,e))}return e}function Se(t,n){return t=+t,n=null==n?Ua:n,t>-1&&t%1==0&&n>t}function Te(t,n,r){if(!Oo(r))return!1;var e=typeof n;if("number"==e)var i=r.length,o=je(i)&&Se(n,i);else o="string"==e&&n in r;if(o){var u=r[n];return t===t?t===u:u!==u}return!1}function je(t){return"number"==typeof t&&t>-1&&t%1==0&&Ua>=t}function Oe(t){return t===t&&(0===t?1/t>0:!Oo(t))}function Ae(t,n){var r=t[1],e=n[1],i=r|e,o=P|M,u=k|S,a=o|u|T|O,s=r&P&&!(e&P),f=r&M&&!(e&M),c=(f?t:n)[7],l=(s?t:n)[8],h=!(r>=M&&e>u||r>u&&e>=M),p=i>=o&&a>=i&&(M>r||(f||s)&&c.length<=l);if(!h&&!p)return t;e&k&&(t[2]=n[2],i|=r&k?0:T);var d=n[3];if(d){var v=t[3];t[3]=v?ee(v,d,n[4]):Gn(d),t[4]=v?m(t[3],q):Gn(n[4])}return d=n[5],d&&(v=t[5],t[5]=v?ie(v,d,n[6]):Gn(d),t[6]=v?m(t[5],q):Gn(n[6])),d=n[7],d&&(t[7]=Gn(d)),e&P&&(t[8]=null==t[8]?n[8]:Oa(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function Ce(t,n){t=Le(t);for(var r=-1,e=n.length,i={};++r<e;){var o=n[r];o in t&&(i[o]=t[o])}return i}function Me(t,n){var r={};return jr(t,function(t,e,i){n(t,e,i)&&(r[e]=t)}),r}function Pe(t,n){for(var r=t.length,e=Oa(n.length,r),i=Gn(t);e--;){var o=n[e];t[e]=Se(o,r)?i[o]:z}return t}function Ie(t){{var r;n.support}if(!y(t)||sa.call(t)!=H||!ua.call(t,"constructor")&&(r=t.constructor,"function"==typeof r&&!(r instanceof r)))return!1;var e;return jr(t,function(t,n){e=n}),"undefined"==typeof e||ua.call(t,e)}function Be(t){for(var r=Zo(t),e=r.length,i=e&&t.length,o=n.support,u=i&&je(i)&&(rs(t)||o.nonEnumArgs&&Ro(t)),a=-1,s=[];++a<e;){var f=r[a];(u&&Se(f,i)||ua.call(t,f))&&s.push(f)}return s}function We(t){return null==t?[]:je(t.length)?Oo(t)?t:Ku(t):uu(t)}function Le(t){return Oo(t)?t:Ku(t)}function Ne(t){return t instanceof K?t.clone():new g(t.__wrapped__,t.__chain__,Gn(t.__actions__))}function De(t,n,r){n=(r?Te(t,n,r):null==n)?1:ja(+n||1,1);for(var e=0,i=t?t.length:0,o=-1,u=$u(pa(i/n));i>e;)u[++o]=Qr(t,e,e+=n);return u}function Ue(t){for(var n=-1,r=t?t.length:0,e=-1,i=[];++n<r;){var o=t[n];o&&(i[++e]=o)}return i}function Fe(){for(var t=arguments,n=-1,r=t.length;++n<r;){var e=t[n];if(rs(e)||Ro(e))break}return _r(e,kr(t,!1,!0,++n))}function qe(t,n,r){var e=t?t.length:0;return e?((r?Te(t,n,r):null==n)&&(n=1),Qr(t,0>n?0:n)):[]}function $e(t,n,r){var e=t?t.length:0;return e?((r?Te(t,n,r):null==n)&&(n=1),n=e-(+n||0),Qr(t,0,0>n?0:n)):[]}function Ye(t,n,r){var e=t?t.length:0;if(!e)return[];for(n=xe(n,r,3);e--&&n(t[e],e,t););return Qr(t,0,e+1)}function Qe(t,n,r){var e=t?t.length:0;if(!e)return[];var i=-1;for(n=xe(n,r,3);++i<e&&n(t[i],i,t););return Qr(t,i)}function Ve(t,n,r,e){var i=t?t.length:0;return i?(r&&"number"!=typeof r&&Te(t,n,r)&&(r=0,e=i),Rr(t,n,r,e)):[]}function Xe(t,n,r){var e=-1,i=t?t.length:0;for(n=xe(n,r,3);++e<i;)if(n(t[e],e,t))return e;return-1}function Je(t,n,r){var e=t?t.length:0;for(n=xe(n,r,3);e--;)if(n(t[e],e,t))return e;return-1}function Ke(t){return t?t[0]:z}function Ge(t,n,r){var e=t?t.length:0;return r&&Te(t,n,r)&&(n=!1),e?kr(t,n,!1,0):[]}function He(t){var n=t?t.length:0;return n?kr(t,!0,!1,0):[]}function Ze(t,n,r){var e=t?t.length:0;if(!e)return-1;if("number"==typeof r)r=0>r?ja(e+r,0):r;else if(r){var o=Zr(t,n),u=t[o];return(n===n?n===u:u!==u)?o:-1}return i(t,n,r||0)}function ti(t){return $e(t,1)}function ni(){for(var t=[],n=-1,r=arguments.length,e=[],o=we(),u=o==i;++n<r;){var a=arguments[n];(rs(a)||Ro(a))&&(t.push(a),e.push(u&&a.length>=120?Qa(n&&a):null))}r=t.length;var s=t[0],f=-1,c=s?s.length:0,l=[],h=e[0];t:for(;++f<c;)if(a=s[f],(h?Jn(h,a):o(l,a,0))<0){for(n=r;--n;){var p=e[n];if((p?Jn(p,a):o(t[n],a,0))<0)continue t}h&&h.push(a),l.push(a)}return l}function ri(t){var n=t?t.length:0;return n?t[n-1]:z}function ei(t,n,r){var e=t?t.length:0;if(!e)return-1;var i=e;if("number"==typeof r)i=(0>r?ja(e+r,0):Oa(r||0,e-1))+1;else if(r){i=Zr(t,n,!0)-1;var o=t[i];return(n===n?n===o:o!==o)?i:-1}if(n!==n)return v(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1}function ii(){var t=arguments,n=t[0];if(!n||!n.length)return n;for(var r=0,e=we(),i=t.length;++r<i;)for(var o=0,u=t[r];(o=e(n,u,o))>-1;)wa.call(n,o,1);return n}function oi(t){return qr(t||[],kr(arguments,!1,!1,1))}function ui(t,n,r){var e=-1,i=t?t.length:0,o=[];for(n=xe(n,r,3);++e<i;){var u=t[e];n(u,e,t)&&(o.push(u),wa.call(t,e--,1),i--)}return o}function ai(t){return qe(t,1)}function si(t,n,r){var e=t?t.length:0;return e?(r&&"number"!=typeof r&&Te(t,n,r)&&(n=0,r=e),Qr(t,n,r)):[]}function fi(t,n,r,e){var i=xe(r);return i===yr&&null==r?Zr(t,n):te(t,n,i(r,e,1))}function ci(t,n,r,e){var i=xe(r);return i===yr&&null==r?Zr(t,n,!0):te(t,n,i(r,e,1),!0)}function li(t,n,r){var e=t?t.length:0;return e?((r?Te(t,n,r):null==n)&&(n=1),Qr(t,0,0>n?0:n)):[]}function hi(t,n,r){var e=t?t.length:0;return e?((r?Te(t,n,r):null==n)&&(n=1),n=e-(+n||0),Qr(t,0>n?0:n)):[]}function pi(t,n,r){var e=t?t.length:0;if(!e)return[];for(n=xe(n,r,3);e--&&n(t[e],e,t););return Qr(t,e+1)}function di(t,n,r){var e=t?t.length:0;if(!e)return[];var i=-1;for(n=xe(n,r,3);++i<e&&n(t[i],i,t););return Qr(t,0,i)}function vi(){return Kr(kr(arguments,!1,!0,0))}function yi(t,n,r,e){var o=t?t.length:0;if(!o)return[];null!=n&&"boolean"!=typeof n&&(e=r,r=Te(t,n,e)?null:n,n=!1);var u=xe();return(u!==yr||null!=r)&&(r=u(r,e,3)),n&&we()==i?_(t,r):Kr(t,r)}function gi(t){for(var n=-1,r=(t&&t.length&&or(ir(t,oa)))>>>0,e=$u(r);++n<r;)e[n]=ir(t,Fr(n));return e}function mi(t){return _r(t,Qr(arguments,1))}function _i(){for(var t=-1,n=arguments.length;++t<n;){var r=arguments[t];if(rs(r)||Ro(r))var e=e?_r(e,r).concat(_r(r,e)):r}return e?Kr(e):[]}function xi(){for(var t=arguments.length,n=$u(t);t--;)n[t]=arguments[t];return gi(n)}function wi(t,n){var r=-1,e=t?t.length:0,i={};for(!e||n||rs(t[0])||(n=[]);++r<e;){var o=t[r];n?i[o]=n[r]:o&&(i[o[0]]=o[1])}return i}function bi(t){var r=n(t);return r.__chain__=!0,r}function Ri(t,n,r){return n.call(r,t),t}function zi(t,n,r){return n.call(r,t)}function Ei(){return bi(this)}function ki(){return new g(this.value(),this.__chain__)}function Si(t){for(var n,e=this;e instanceof r;){var i=Ne(e);n?o.__wrapped__=i:n=i;var o=i;e=e.__wrapped__}return o.__wrapped__=t,n}function Ti(){var t=this.__wrapped__;return t instanceof K?(this.__actions__.length&&(t=new K(this)),new g(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function ji(){return this.value()+""}function Oi(){return Hr(this.__wrapped__,this.__actions__)}function Ai(t){var n=t?t.length:0;return je(n)&&(t=We(t)),pr(t,kr(arguments,!1,!1,1))}function Ci(t,n,r){var e=rs(t)?rr:br;return("function"!=typeof n||"undefined"!=typeof r)&&(n=xe(n,r,3)),e(t,n)}function Mi(t,n,r){var e=rs(t)?er:zr;return n=xe(n,r,3),e(t,n)}function Pi(t,n,r){if(rs(t)){var e=Xe(t,n,r);return e>-1?t[e]:z}return n=xe(n,r,3),Er(t,n,xr)}function Ii(t,n,r){return n=xe(n,r,3),Er(t,n,wr)}function Bi(t,n){return Pi(t,Lr(n))}function Wi(t,n,r){return"function"==typeof n&&"undefined"==typeof r&&rs(t)?tr(t,n):xr(t,ne(n,r,3))}function Li(t,n,r){return"function"==typeof n&&"undefined"==typeof r&&rs(t)?nr(t,n):wr(t,ne(n,r,3))}function Ni(t,n,r){var e=t?t.length:0;return je(e)||(t=uu(t),e=t.length),e?(r="number"==typeof r?0>r?ja(e+r,0):r||0:0,"string"==typeof t||!rs(t)&&Wo(t)?e>r&&t.indexOf(n,r)>-1:we(t,n,r)>-1):!1}function Di(t,n){return Mr(t,n,Qr(arguments,2))}function Ui(t,n,r){var e=rs(t)?ir:Wr;return n=xe(n,r,3),e(t,n)}function Fi(t,n){return Ui(t,Fr(n))}function qi(t,n,r,e){var i=rs(t)?ar:Yr;return i(t,xe(n,e,4),r,arguments.length<3,xr)}function $i(t,n,r,e){var i=rs(t)?sr:Yr;return i(t,xe(n,e,4),r,arguments.length<3,wr)}function Yi(t,n,r){var e=rs(t)?er:zr;return n=xe(n,r,3),e(t,function(t,r,e){return!n(t,r,e)})}function Qi(t,n,r){if(r?Te(t,n,r):null==n){t=We(t);var e=t.length;return e>0?t[$r(0,e-1)]:z}var i=Vi(t);return i.length=Oa(0>n?0:+n||0,i.length),i}function Vi(t){t=We(t);for(var n=-1,r=t.length,e=$u(r);++n<r;){var i=$r(0,n);n!=i&&(e[n]=e[i]),e[i]=t[n]}return e}function Xi(t){var n=t?t.length:0;return je(n)?n:as(t).length}function Ji(t,n,r){var e=rs(t)?fr:Vr;return("function"!=typeof n||"undefined"!=typeof r)&&(n=xe(n,r,3)),e(t,n)}function Ki(t,n,r){if(null==t)return[];var e=-1,i=t.length,o=je(i)?$u(i):[];return r&&Te(t,n,r)&&(n=null),n=xe(n,r,3),xr(t,function(t,r,i){o[++e]={criteria:n(t,r,i),index:e,value:t}}),Xr(o,c)}function Gi(t){if(null==t)return[];var n=arguments,r=n[3];return r&&Te(n[1],n[2],r)&&(n=[t,n[1]]),Jr(t,kr(n,!1,!1,1),[])}function Hi(t,n,r,e){return null==t?[]:(e&&Te(n,r,e)&&(r=null),rs(n)||(n=null==n?[]:[n]),rs(r)||(r=null==r?[]:[r]),Jr(t,n,r))}function Zi(t,n){return Mi(t,Lr(n))}function to(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Zu(F);var r=t;t=n,n=r}return t=Sa(t=+t)?t:0,function(){return--t<1?n.apply(this,arguments):void 0}}function no(t,n,r){return r&&Te(t,n,r)&&(n=null),n=t&&null==n?t.length:ja(+n||0,0),ve(t,P,null,null,null,null,n)}function ro(t,n){var r;if("function"!=typeof n){if("function"!=typeof t)throw new Zu(F);var e=t;t=n,n=e}return function(){return--t>0?r=n.apply(this,arguments):n=null,r}}function eo(t,n){var r=k;if(arguments.length>2){var e=Qr(arguments,2),i=m(e,eo.placeholder);r|=A}return ve(t,r,n,e,i)}function io(t){return vr(t,arguments.length>1?kr(arguments,!1,!1,1):Ko(t))}function oo(t,n){var r=k|S;if(arguments.length>2){var e=Qr(arguments,2),i=m(e,oo.placeholder);r|=A}return ve(n,r,t,e,i)}function uo(t,n,r){r&&Te(t,n,r)&&(n=null);var e=ve(t,j,null,null,null,null,null,n);return e.placeholder=uo.placeholder,e}function ao(t,n,r){r&&Te(t,n,r)&&(n=null);var e=ve(t,O,null,null,null,null,null,n);return e.placeholder=ao.placeholder,e}function so(t,n,r){function e(){h&&da(h),s&&da(s),s=h=p=z}function i(){var r=n-(Za()-c);if(0>=r||r>n){s&&da(s);var e=p;s=h=p=z,e&&(d=Za(),f=t.apply(l,a),h||s||(a=l=null))}else h=xa(i,r)}function o(){h&&da(h),s=h=p=z,(y||v!==n)&&(d=Za(),f=t.apply(l,a),h||s||(a=l=null))}function u(){if(a=arguments,c=Za(),l=this,p=y&&(h||!g),v===!1)var r=g&&!h;else{s||g||(d=c);var e=v-(c-d),u=0>=e||e>v;u?(s&&(s=da(s)),d=c,f=t.apply(l,a)):s||(s=xa(o,e))}return u&&h?h=da(h):h||n===v||(h=xa(i,n)),r&&(u=!0,f=t.apply(l,a)),!u||h||s||(a=l=null),f}var a,s,f,c,l,h,p,d=0,v=!1,y=!0;if("function"!=typeof t)throw new Zu(F);if(n=0>n?0:+n||0,r===!0){var g=!0;y=!1}else Oo(r)&&(g=r.leading,v="maxWait"in r&&ja(+r.maxWait||0,n),y="trailing"in r?r.trailing:y);return u.cancel=e,u}function fo(t){return mr(t,1,arguments,1)}function co(t,n){return mr(t,n,arguments,2)}function lo(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Zu(F);var r=function(){var e=arguments,i=r.cache,o=n?n.apply(this,e):e[0];if(i.has(o))return i.get(o);var u=t.apply(this,e);return i.set(o,u),u};return r.cache=new lo.Cache,r}function ho(t){if("function"!=typeof t)throw new Zu(F);return function(){return!t.apply(this,arguments)}}function po(t){return ro(t,2)}function vo(t){var n=Qr(arguments,1),r=m(n,vo.placeholder);return ve(t,A,null,n,r)}function yo(t){var n=Qr(arguments,1),r=m(n,yo.placeholder);return ve(t,C,null,n,r)}function go(t){var n=kr(arguments,!1,!1,1);return ve(t,M,null,null,null,n)}function mo(t){if("function"!=typeof t)throw new Zu(F);return function(n){return t.apply(this,n)}}function _o(t,n,r){var e=!0,i=!0;if("function"!=typeof t)throw new Zu(F);return r===!1?e=!1:Oo(r)&&(e="leading"in r?!!r.leading:e,i="trailing"in r?!!r.trailing:i),Un.leading=e,Un.maxWait=+n,Un.trailing=i,so(t,n,Un)}function xo(t,n){return n=null==n?Au:n,ve(n,A,null,[t],[])}function wo(t,n,r,e){return n&&"boolean"!=typeof n&&Te(t,n,r)?n=!1:"function"==typeof n&&(e=r,r=n,n=!1),r="function"==typeof r&&ne(r,e,1),gr(t,n,r)}function bo(t,n,r){return n="function"==typeof n&&ne(n,r,1),gr(t,!0,n)}function Ro(t){var n=y(t)?t.length:z;return je(n)&&sa.call(t)==$||!1}function zo(t){return t===!0||t===!1||y(t)&&sa.call(t)==Q||!1}function Eo(t){return y(t)&&sa.call(t)==V||!1}function ko(t){return t&&1===t.nodeType&&y(t)&&sa.call(t).indexOf("Element")>-1||!1}function So(t){if(null==t)return!0;var n=t.length;return je(n)&&(rs(t)||Wo(t)||Ro(t)||y(t)&&is(t.splice))?!n:!as(t).length}function To(t,n,r,e){if(r="function"==typeof r&&ne(r,e,3),!r&&Oe(t)&&Oe(n))return t===n;var i=r?r(t,n):z;return"undefined"==typeof i?Pr(t,n,r):!!i}function jo(t){return y(t)&&"string"==typeof t.message&&sa.call(t)==X||!1}function Oo(t){var n=typeof t;return"function"==n||t&&"object"==n||!1}function Ao(t,n,r,e){var i=as(n),o=i.length;if(r="function"==typeof r&&ne(r,e,3),!r&&1==o){var u=i[0],a=n[u];if(Oe(a))return null!=t&&a===t[u]&&ua.call(t,u)}for(var s=$u(o),f=$u(o);o--;)a=s[o]=n[i[o]],f[o]=Oe(a);return Br(t,i,s,f,r)}function Co(t){return Io(t)&&t!=+t}function Mo(t){return null==t?!1:sa.call(t)==J?ca.test(ia.call(t)):y(t)&&Tn.test(t)||!1}function Po(t){return null===t}function Io(t){return"number"==typeof t||y(t)&&sa.call(t)==G||!1}function Bo(t){return y(t)&&sa.call(t)==Z||!1}function Wo(t){return"string"==typeof t||y(t)&&sa.call(t)==nn||!1}function Lo(t){return y(t)&&je(t.length)&&Nn[sa.call(t)]||!1}function No(t){return"undefined"==typeof t}function Do(t){var n=t?t.length:0;return je(n)?n?Gn(t):[]:uu(t)}function Uo(t){return dr(t,Zo(t))}function Fo(t,n,r){var e=$a(t);return r&&Te(t,n,r)&&(n=null),n?dr(n,e,as(n)):e}function qo(t){if(null==t)return t;var n=Gn(arguments);return n.push(cr),us.apply(z,n)}function $o(t,n,r){return n=xe(n,r,3),Er(t,n,Or,!0)}function Yo(t,n,r){return n=xe(n,r,3),Er(t,n,Ar,!0)}function Qo(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=ne(n,r,3)),Sr(t,n,Zo)}function Vo(t,n,r){return n=ne(n,r,3),Tr(t,n,Zo)}function Xo(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=ne(n,r,3)),Or(t,n)}function Jo(t,n,r){return n=ne(n,r,3),Tr(t,n,as)}function Ko(t){return Cr(t,Zo(t))}function Go(t,n){return t?ua.call(t,n):!1}function Ho(t,n,r){r&&Te(t,n,r)&&(n=null);for(var e=-1,i=as(t),o=i.length,u={};++e<o;){var a=i[e],s=t[a];n?ua.call(u,s)?u[s].push(a):u[s]=[a]:u[s]=a}return u}function Zo(t){if(null==t)return[];Oo(t)||(t=Ku(t));var n=t.length;n=n&&je(n)&&(rs(t)||qa.nonEnumArgs&&Ro(t))&&n||0;for(var r=t.constructor,e=-1,i="function"==typeof r&&r.prototype===t,o=$u(n),u=n>0;++e<n;)o[e]=e+"";
for(var a in t)u&&Se(a,n)||"constructor"==a&&(i||!ua.call(t,a))||o.push(a);return o}function tu(t,n,r){var e={};return n=xe(n,r,3),Or(t,function(t,r,i){e[r]=n(t,r,i)}),e}function nu(t,n,r){if(null==t)return{};if("function"!=typeof n){var e=ir(kr(arguments,!1,!1,1),Hu);return Ce(t,_r(Zo(t),e))}return n=ne(n,r,3),Me(t,function(t,r,e){return!n(t,r,e)})}function ru(t){for(var n=-1,r=as(t),e=r.length,i=$u(e);++n<e;){var o=r[n];i[n]=[o,t[o]]}return i}function eu(t,n,r){return null==t?{}:"function"==typeof n?Me(t,ne(n,r,3)):Ce(t,kr(arguments,!1,!1,1))}function iu(t,n,r){var e=null==t?z:t[n];return"undefined"==typeof e&&(e=r),is(e)?e.call(t):e}function ou(t,n,r,e){var i=rs(t)||Lo(t);if(n=xe(n,e,4),null==r)if(i||Oo(t)){var o=t.constructor;r=i?rs(t)?new o:[]:$a(is(o)&&o.prototype)}else r={};return(i?tr:Or)(t,function(t,e,i){return n(r,t,e,i)}),r}function uu(t){return Gr(t,as(t))}function au(t){return Gr(t,Zo(t))}function su(t,n,r){return n=+n||0,"undefined"==typeof r?(r=n,n=0):r=+r||0,t>=n&&r>t}function fu(t,n,r){r&&Te(t,n,r)&&(n=r=null);var e=null==t,i=null==n;if(null==r&&(i&&"boolean"==typeof t?(r=t,t=1):"boolean"==typeof n&&(r=n,i=!0)),e&&i&&(n=1,i=!1),t=+t||0,i?(n=t,t=0):n=+n||0,r||t%1||n%1){var o=Pa();return Oa(t+o*(n-t+parseFloat("1e-"+((o+"").length-1))),n)}return $r(t,n)}function cu(t){return t=u(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function lu(t){return t=u(t),t&&t.replace(jn,h)}function hu(t,n,r){t=u(t),n+="";var e=t.length;return r="undefined"==typeof r?e:Oa(0>r?0:+r||0,e),r-=n.length,r>=0&&t.indexOf(n,r)==r}function pu(t){return t=u(t),t&&xn.test(t)?t.replace(mn,p):t}function du(t){return t=u(t),t&&Cn.test(t)?t.replace(An,"\\$&"):t}function vu(t,n,r){t=u(t),n=+n;var e=t.length;if(e>=n||!Sa(n))return t;var i=(n-e)/2,o=va(i),a=pa(i);return r=pe("",a,r),r.slice(0,o)+t+r}function yu(t,n,r){return t=u(t),t&&pe(t,n,r)+t}function gu(t,n,r){return t=u(t),t&&t+pe(t,n,r)}function mu(t,n,r){return r&&Te(t,n,r)&&(n=0),Ma(t,n)}function _u(t,n){var r="";if(t=u(t),n=+n,1>n||!t||!Sa(n))return r;do n%2&&(r+=t),n=va(n/2),t+=t;while(n);return r}function xu(t,n,r){return t=u(t),r=null==r?0:Oa(0>r?0:+r||0,t.length),t.lastIndexOf(n,r)==r}function wu(t,r,e){var i=n.templateSettings;e&&Te(t,r,e)&&(r=e=null),t=u(t),r=hr(hr({},e||r),i,lr);var o,a,s=hr(hr({},r.imports),i.imports,lr),f=as(s),c=Gr(s,f),l=0,h=r.interpolate||On,p="__p += '",v=Gu((r.escape||On).source+"|"+h.source+"|"+(h===Rn?zn:On).source+"|"+(r.evaluate||On).source+"|$","g"),y="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++Ln+"]")+"\n";t.replace(v,function(n,r,e,i,u,s){return e||(e=i),p+=t.slice(l,s).replace(Pn,d),r&&(o=!0,p+="' +\n__e("+r+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),e&&(p+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=s+n.length,n}),p+="';\n";var g=r.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(dn,""):p).replace(vn,"$1").replace(yn,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Tu(function(){return Vu(f,y+"return "+p).apply(z,c)});if(m.source=p,jo(m))throw m;return m}function bu(t,n,r){var e=t;return(t=u(t))?(r?Te(e,n,r):null==n)?t.slice(x(t),w(t)+1):(n+="",t.slice(s(t,n),f(t,n)+1)):t}function Ru(t,n,r){var e=t;return t=u(t),t?t.slice((r?Te(e,n,r):null==n)?x(t):s(t,n+"")):t}function zu(t,n,r){var e=t;return t=u(t),t?(r?Te(e,n,r):null==n)?t.slice(0,w(t)+1):t.slice(0,f(t,n+"")+1):t}function Eu(t,n,r){r&&Te(t,n,r)&&(n=null);var e=I,i=B;if(null!=n)if(Oo(n)){var o="separator"in n?n.separator:o;e="length"in n?+n.length||0:e,i="omission"in n?u(n.omission):i}else e=+n||0;if(t=u(t),e>=t.length)return t;var a=e-i.length;if(1>a)return i;var s=t.slice(0,a);if(null==o)return s+i;if(Bo(o)){if(t.slice(a).search(o)){var f,c,l=t.slice(0,a);for(o.global||(o=Gu(o.source,(En.exec(o)||"")+"g")),o.lastIndex=0;f=o.exec(l);)c=f.index;s=s.slice(0,null==c?a:c)}}else if(t.indexOf(o,a)!=a){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+i}function ku(t){return t=u(t),t&&_n.test(t)?t.replace(gn,b):t}function Su(t,n,r){return r&&Te(t,n,r)&&(n=null),t=u(t),t.match(n||In)||[]}function Tu(){for(var t=arguments[0],n=arguments.length,r=$u(n?n-1:0);--n>0;)r[n-1]=arguments[n];try{return t.apply(z,r)}catch(e){return jo(e)?e:new Qu(e)}}function ju(t,n,r){return r&&Te(t,n,r)&&(n=null),y(t)?Cu(t):yr(t,n)}function Ou(t){return function(){return t}}function Au(t){return t}function Cu(t){return Lr(gr(t,!0))}function Mu(t,n){return Nr(t+"",gr(n,!0))}function Pu(t,n,r){if(null==r){var e=Oo(n),i=e&&as(n),o=i&&i.length&&Cr(n,i);(o?o.length:e)||(o=!1,r=n,n=t,t=this)}o||(o=Cr(n,as(n)));var u=!0,a=-1,s=is(t),f=o.length;r===!1?u=!1:Oo(r)&&"chain"in r&&(u=r.chain);for(;++a<f;){var c=o[a],l=n[c];t[c]=l,s&&(t.prototype[c]=function(n){return function(){var r=this.__chain__;if(u||r){var e=t(this.__wrapped__);return(e.__actions__=Gn(this.__actions__)).push({func:n,args:arguments,thisArg:t}),e.__chain__=r,e}var i=[this.value()];return ga.apply(i,arguments),n.apply(t,i)}}(l))}return t}function Iu(){return t._=fa,this}function Bu(){}function Wu(t){return Fr(t+"")}function Lu(t){return function(n){return null==t?z:t[n]}}function Nu(t,n,r){r&&Te(t,n,r)&&(n=r=null),t=+t||0,r=null==r?1:+r||0,null==n?(n=t,t=0):n=+n||0;for(var e=-1,i=ja(pa((n-t)/(r||1)),0),o=$u(i);++e<i;)o[e]=t,t+=r;return o}function Du(t,n,r){if(t=+t,1>t||!Sa(t))return[];var e=-1,i=$u(Oa(t,Wa));for(n=ne(n,r,1);++e<t;)Wa>e?i[e]=n(e):n(e);return i}function Uu(t){var n=++aa;return u(t)+n}function Fu(t,n){return t+n}function qu(t){rs(t)||(t=We(t));for(var n=t.length,r=0;n--;)r+=+t[n]||0;return r}t=t?Zn.defaults(Hn.Object(),t,Zn.pick(Hn,Wn)):Hn;var $u=t.Array,Yu=t.Date,Qu=t.Error,Vu=t.Function,Xu=t.Math,Ju=t.Number,Ku=t.Object,Gu=t.RegExp,Hu=t.String,Zu=t.TypeError,ta=$u.prototype,na=Ku.prototype,ra=Hu.prototype,ea=(ea=t.window)&&ea.document,ia=Vu.prototype.toString,oa=Fr("length"),ua=na.hasOwnProperty,aa=0,sa=na.toString,fa=t._,ca=Gu("^"+du(sa).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),la=Mo(la=t.ArrayBuffer)&&la,ha=Mo(ha=la&&new la(0).slice)&&ha,pa=Xu.ceil,da=t.clearTimeout,va=Xu.floor,ya=Mo(ya=Ku.getPrototypeOf)&&ya,ga=ta.push,ma=na.propertyIsEnumerable,_a=Mo(_a=t.Set)&&_a,xa=t.setTimeout,wa=ta.splice,ba=Mo(ba=t.Uint8Array)&&ba,Ra=Mo(Ra=t.WeakMap)&&Ra,za=function(){try{var n=Mo(n=t.Float64Array)&&n,r=new n(new la(10),0,1)&&n}catch(e){}return r}(),Ea=Mo(Ea=$u.isArray)&&Ea,ka=Mo(ka=Ku.create)&&ka,Sa=t.isFinite,Ta=Mo(Ta=Ku.keys)&&Ta,ja=Xu.max,Oa=Xu.min,Aa=Mo(Aa=Yu.now)&&Aa,Ca=Mo(Ca=Ju.isFinite)&&Ca,Ma=t.parseInt,Pa=Xu.random,Ia=Ju.NEGATIVE_INFINITY,Ba=Ju.POSITIVE_INFINITY,Wa=Xu.pow(2,32)-1,La=Wa-1,Na=Wa>>>1,Da=za?za.BYTES_PER_ELEMENT:0,Ua=Xu.pow(2,53)-1,Fa=Ra&&new Ra,qa=n.support={};!function(){qa.funcDecomp=!Mo(t.WinRTError)&&Mn.test(R),qa.funcNames="string"==typeof Vu.name;try{qa.dom=11===ea.createDocumentFragment().nodeType}catch(n){qa.dom=!1}try{qa.nonEnumArgs=!ma.call(arguments,1)}catch(n){qa.nonEnumArgs=!0}}(0,0),n.templateSettings={escape:wn,evaluate:bn,interpolate:Rn,variable:"",imports:{_:n}};var $a=function(){function n(){}return function(r){if(Oo(r)){n.prototype=r;var e=new n;n.prototype=null}return e||t.Object()}}(),Ya=Fa?function(t,n){return Fa.set(t,n),t}:Au;ha||(re=la&&ba?function(t){var n=t.byteLength,r=za?va(n/Da):0,e=r*Da,i=new la(n);if(r){var o=new za(i,0,r);o.set(new za(t,0,r))}return n!=e&&(o=new ba(i,e),o.set(new ba(t,e))),i}:Ou(null));var Qa=ka&&_a?function(t){return new Xn(t)}:Ou(null),Va=Fa?function(t){return Fa.get(t)}:Bu,Xa=function(){var t=0,n=0;return function(r,e){var i=Za(),o=L-(i-n);if(n=i,o>0){if(++t>=W)return r}else t=0;return Ya(r,e)}}(),Ja=oe(function(t,n,r){ua.call(t,r)?++t[r]:t[r]=1}),Ka=oe(function(t,n,r){ua.call(t,r)?t[r].push(n):t[r]=[n]}),Ga=oe(function(t,n,r){t[r]=n}),Ha=oe(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),Za=Aa||function(){return(new Yu).getTime()},ts=se(),ns=se(!0),rs=Ea||function(t){return y(t)&&je(t.length)&&sa.call(t)==Y||!1};qa.dom||(ko=function(t){return t&&1===t.nodeType&&y(t)&&!os(t)||!1});var es=Ca||function(t){return"number"==typeof t&&Sa(t)},is=o(/x/)||ba&&!o(ba)?function(t){return sa.call(t)==J}:o,os=ya?function(t){if(!t||sa.call(t)!=H)return!1;var n=t.valueOf,r=Mo(n)&&(r=ya(n))&&ya(r);return r?t==r||ya(t)==r:Ie(t)}:Ie,us=ue(hr),as=Ta?function(t){if(t)var n=t.constructor,r=t.length;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&r&&je(r)?Be(t):Oo(t)?Ta(t):[]}:Be,ss=ue(Dr),fs=fe(function(t,n,r){return n=n.toLowerCase(),t+(r?n.charAt(0).toUpperCase()+n.slice(1):n)}),cs=fe(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()});8!=Ma(Bn+"08")&&(mu=function(t,n,r){return(r?Te(t,n,r):null==n)?n=0:n&&(n=+n),t=bu(t),Ma(t,n||(Sn.test(t)?16:10))});var ls=fe(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),hs=fe(function(t,n,r){return t+(r?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))}),ps=le(or),ds=le(ur,!0);return n.prototype=r.prototype,g.prototype=$a(r.prototype),g.prototype.constructor=g,K.prototype=$a(r.prototype),K.prototype.constructor=K,qn.prototype["delete"]=$n,qn.prototype.get=Yn,qn.prototype.has=Qn,qn.prototype.set=Vn,Xn.prototype.push=Kn,lo.Cache=qn,n.after=to,n.ary=no,n.assign=us,n.at=Ai,n.before=ro,n.bind=eo,n.bindAll=io,n.bindKey=oo,n.callback=ju,n.chain=bi,n.chunk=De,n.compact=Ue,n.constant=Ou,n.countBy=Ja,n.create=Fo,n.curry=uo,n.curryRight=ao,n.debounce=so,n.defaults=qo,n.defer=fo,n.delay=co,n.difference=Fe,n.drop=qe,n.dropRight=$e,n.dropRightWhile=Ye,n.dropWhile=Qe,n.fill=Ve,n.filter=Mi,n.flatten=Ge,n.flattenDeep=He,n.flow=ts,n.flowRight=ns,n.forEach=Wi,n.forEachRight=Li,n.forIn=Qo,n.forInRight=Vo,n.forOwn=Xo,n.forOwnRight=Jo,n.functions=Ko,n.groupBy=Ka,n.indexBy=Ga,n.initial=ti,n.intersection=ni,n.invert=Ho,n.invoke=Di,n.keys=as,n.keysIn=Zo,n.map=Ui,n.mapValues=tu,n.matches=Cu,n.matchesProperty=Mu,n.memoize=lo,n.merge=ss,n.mixin=Pu,n.negate=ho,n.omit=nu,n.once=po,n.pairs=ru,n.partial=vo,n.partialRight=yo,n.partition=Ha,n.pick=eu,n.pluck=Fi,n.property=Wu,n.propertyOf=Lu,n.pull=ii,n.pullAt=oi,n.range=Nu,n.rearg=go,n.reject=Yi,n.remove=ui,n.rest=ai,n.shuffle=Vi,n.slice=si,n.sortBy=Ki,n.sortByAll=Gi,n.sortByOrder=Hi,n.spread=mo,n.take=li,n.takeRight=hi,n.takeRightWhile=pi,n.takeWhile=di,n.tap=Ri,n.throttle=_o,n.thru=zi,n.times=Du,n.toArray=Do,n.toPlainObject=Uo,n.transform=ou,n.union=vi,n.uniq=yi,n.unzip=gi,n.values=uu,n.valuesIn=au,n.where=Zi,n.without=mi,n.wrap=xo,n.xor=_i,n.zip=xi,n.zipObject=wi,n.backflow=ns,n.collect=Ui,n.compose=ns,n.each=Wi,n.eachRight=Li,n.extend=us,n.iteratee=ju,n.methods=Ko,n.object=wi,n.select=Mi,n.tail=ai,n.unique=yi,Pu(n,n),n.add=Fu,n.attempt=Tu,n.camelCase=fs,n.capitalize=cu,n.clone=wo,n.cloneDeep=bo,n.deburr=lu,n.endsWith=hu,n.escape=pu,n.escapeRegExp=du,n.every=Ci,n.find=Pi,n.findIndex=Xe,n.findKey=$o,n.findLast=Ii,n.findLastIndex=Je,n.findLastKey=Yo,n.findWhere=Bi,n.first=Ke,n.has=Go,n.identity=Au,n.includes=Ni,n.indexOf=Ze,n.inRange=su,n.isArguments=Ro,n.isArray=rs,n.isBoolean=zo,n.isDate=Eo,n.isElement=ko,n.isEmpty=So,n.isEqual=To,n.isError=jo,n.isFinite=es,n.isFunction=is,n.isMatch=Ao,n.isNaN=Co,n.isNative=Mo,n.isNull=Po,n.isNumber=Io,n.isObject=Oo,n.isPlainObject=os,n.isRegExp=Bo,n.isString=Wo,n.isTypedArray=Lo,n.isUndefined=No,n.kebabCase=cs,n.last=ri,n.lastIndexOf=ei,n.max=ps,n.min=ds,n.noConflict=Iu,n.noop=Bu,n.now=Za,n.pad=vu,n.padLeft=yu,n.padRight=gu,n.parseInt=mu,n.random=fu,n.reduce=qi,n.reduceRight=$i,n.repeat=_u,n.result=iu,n.runInContext=R,n.size=Xi,n.snakeCase=ls,n.some=Ji,n.sortedIndex=fi,n.sortedLastIndex=ci,n.startCase=hs,n.startsWith=xu,n.sum=qu,n.template=wu,n.trim=bu,n.trimLeft=Ru,n.trimRight=zu,n.trunc=Eu,n.unescape=ku,n.uniqueId=Uu,n.words=Su,n.all=Ci,n.any=Ji,n.contains=Ni,n.detect=Pi,n.foldl=qi,n.foldr=$i,n.head=Ke,n.include=Ni,n.inject=qi,Pu(n,function(){var t={};return Or(n,function(r,e){n.prototype[e]||(t[e]=r)}),t}(),!1),n.sample=Qi,n.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return Qi(n,t)}):Qi(this.value())},n.VERSION=E,tr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),tr(["dropWhile","filter","map","takeWhile"],function(t,n){var r=n!=U,e=n==N;K.prototype[t]=function(t,i){var o=this.__filtered__,u=o&&e?new K(this):this.clone(),a=u.__iteratees__||(u.__iteratees__=[]);return a.push({done:!1,count:0,index:0,iteratee:xe(t,i,1),limit:-1,type:n}),u.__filtered__=o||r,u}}),tr(["drop","take"],function(t,n){var r=t+"While";K.prototype[t]=function(r){var e=this.__filtered__,i=e&&!n?this.dropWhile():this.clone();if(r=null==r?1:ja(va(r)||0,0),e)n?i.__takeCount__=Oa(i.__takeCount__,r):ri(i.__iteratees__).limit=r;else{var o=i.__views__||(i.__views__=[]);o.push({size:r,type:t+(i.__dir__<0?"Right":"")})}return i},K.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()},K.prototype[t+"RightWhile"]=function(t,n){return this.reverse()[r](t,n).reverse()}}),tr(["first","last"],function(t,n){var r="take"+(n?"Right":"");K.prototype[t]=function(){return this[r](1).value()[0]}}),tr(["initial","rest"],function(t,n){var r="drop"+(n?"":"Right");K.prototype[t]=function(){return this[r](1)}}),tr(["pluck","where"],function(t,n){var r=n?"filter":"map",e=n?Lr:Fr;K.prototype[t]=function(t){return this[r](e(t))}}),K.prototype.compact=function(){return this.filter(Au)},K.prototype.reject=function(t,n){return t=xe(t,n,1),this.filter(function(n){return!t(n)})},K.prototype.slice=function(t,n){t=null==t?0:+t||0;var r=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof n&&(n=+n||0,r=0>n?r.dropRight(-n):r.take(n-t)),r},K.prototype.toArray=function(){return this.drop(0)},Or(K.prototype,function(t,r){var e=n[r],i=/^(?:filter|map|reject)|While$/.test(r),o=/^(?:first|last)$/.test(r);n.prototype[r]=function(){var r=arguments,u=(r.length,this.__chain__),a=this.__wrapped__,s=!!this.__actions__.length,f=a instanceof K,c=r[0],l=f||rs(a);l&&i&&"function"==typeof c&&1!=c.length&&(f=l=!1);var h=f&&!s;if(o&&!u)return h?t.call(a):e.call(n,this.value());var p=function(t){var i=[t];return ga.apply(i,r),e.apply(n,i)};if(l){var d=h?a:new K(this),v=t.apply(d,r);if(!o&&(s||v.__actions__)){var y=v.__actions__||(v.__actions__=[]);y.push({func:zi,args:[p],thisArg:n})}return new g(v,u)}return this.thru(p)}}),tr(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var r=(/^(?:replace|split)$/.test(t)?ra:ta)[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?r.apply(this.value(),t):this[e](function(n){return r.apply(n,t)})}}),K.prototype.clone=tn,K.prototype.reverse=rn,K.prototype.value=Fn,n.prototype.chain=Ei,n.prototype.commit=ki,n.prototype.plant=Si,n.prototype.reverse=Ti,n.prototype.toString=ji,n.prototype.run=n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Oi,n.prototype.collect=n.prototype.map,n.prototype.head=n.prototype.first,n.prototype.select=n.prototype.filter,n.prototype.tail=n.prototype.rest,n}var z,E="3.5.0",k=1,S=2,T=4,j=8,O=16,A=32,C=64,M=128,P=256,I=30,B="...",W=150,L=16,N=0,D=1,U=2,F="Expected a function",q="__lodash_placeholder__",$="[object Arguments]",Y="[object Array]",Q="[object Boolean]",V="[object Date]",X="[object Error]",J="[object Function]",K="[object Map]",G="[object Number]",H="[object Object]",Z="[object RegExp]",tn="[object Set]",nn="[object String]",rn="[object WeakMap]",en="[object ArrayBuffer]",on="[object Float32Array]",un="[object Float64Array]",an="[object Int8Array]",sn="[object Int16Array]",fn="[object Int32Array]",cn="[object Uint8Array]",ln="[object Uint8ClampedArray]",hn="[object Uint16Array]",pn="[object Uint32Array]",dn=/\b__p \+= '';/g,vn=/\b(__p \+=) '' \+/g,yn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gn=/&(?:amp|lt|gt|quot|#39|#96);/g,mn=/[&<>"'`]/g,_n=RegExp(gn.source),xn=RegExp(mn.source),wn=/<%-([\s\S]+?)%>/g,bn=/<%([\s\S]+?)%>/g,Rn=/<%=([\s\S]+?)%>/g,zn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,En=/\w*$/,kn=/^\s*function[ \n\r\t]+\w/,Sn=/^0[xX]/,Tn=/^\[object .+?Constructor\]$/,jn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,On=/($^)/,An=/[.*+?^${}()|[\]\/\\]/g,Cn=RegExp(An.source),Mn=/\bthis\b/,Pn=/['\n\r\u2028\u2029\\]/g,In=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")}(),Bn=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Wn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Ln=-1,Nn={};Nn[on]=Nn[un]=Nn[an]=Nn[sn]=Nn[fn]=Nn[cn]=Nn[ln]=Nn[hn]=Nn[pn]=!0,Nn[$]=Nn[Y]=Nn[en]=Nn[Q]=Nn[V]=Nn[X]=Nn[J]=Nn[K]=Nn[G]=Nn[H]=Nn[Z]=Nn[tn]=Nn[nn]=Nn[rn]=!1;var Dn={};Dn[$]=Dn[Y]=Dn[en]=Dn[Q]=Dn[V]=Dn[on]=Dn[un]=Dn[an]=Dn[sn]=Dn[fn]=Dn[G]=Dn[H]=Dn[Z]=Dn[nn]=Dn[cn]=Dn[ln]=Dn[hn]=Dn[pn]=!0,Dn[X]=Dn[J]=Dn[K]=Dn[tn]=Dn[rn]=!1;var Un={leading:!1,maxWait:0,trailing:!1},Fn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},qn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},$n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Yn={"function":!0,object:!0},Qn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vn=Yn[typeof r]&&r&&!r.nodeType&&r,Xn=Yn[typeof n]&&n&&!n.nodeType&&n,Jn=Vn&&Xn&&"object"==typeof t&&t,Kn=Yn[typeof window]&&window,Gn=Xn&&Xn.exports===Vn&&Vn,Hn=Jn||Kn!==(this&&this.window)&&Kn||this,Zn=R();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Hn._=Zn,define(function(){return Zn})):Vn&&Xn?Gn?(Xn.exports=Zn)._=Zn:Vn._=Zn:Hn._=Zn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,n){(function(r){"use strict";function e(t){return new a(t.clientX,t.clientY)}var i,o=t("./Renderer"),u=t("./Stroke"),a=t("./Point"),s=t("./Color"),f=t("./Transform");!function(t){t[t.None=0]="None",t[t.Pressed=1]="Pressed",t[t.Pinching=2]="Pinching"}(i||(i={}));var c=function(){function t(){this.interactionState=0,this.transform=f.identity(),this.initialTransform=f.identity(),this.isStroking=!1,this.strokeWidth=4,this.strokeColor=new s(0,0,0,1),this.renderer=new o({tiled:!1}),this.currentStrokeRenderer=new o({tiled:!0});var t=this.element=document.createElement("div");t.className="canvas-area",t.appendChild(this.renderer.element),t.appendChild(this.currentStrokeRenderer.element),t.addEventListener("mousemove",this.onMouseMove.bind(this)),t.addEventListener("mousedown",this.onMouseDown.bind(this)),t.addEventListener("mouseup",this.onMouseUp.bind(this)),t.addEventListener("touchmove",this.onTouchMove.bind(this)),t.addEventListener("touchstart",this.onTouchStart.bind(this)),t.addEventListener("touchend",this.onTouchEnd.bind(this)),t.addEventListener("wheel",this.onWheel.bind(this))}return t.prototype.pinchStart=function(t){this.interactionState=2,this.pinchStartPoints=t,this.initialTransform=this.transform},t.prototype.pinchMove=function(t){2!==this.interactionState&&this.pinchStart(t);var n=t[0].sub(t[1]).length/this.pinchStartPoints[0].sub(this.pinchStartPoints[1]).length,r=this.pinchStartPoints[0].add(this.pinchStartPoints[1]).mul(.5),e=t[0].add(t[1]).mul(.5),i=e.sub(r.mul(n)),o=f.scale(n).merge(f.translation(i)),o=this.initialTransform.merge(o);this.updateTransform(o),this.renderer.update()},t.prototype.pinchEnd=function(){this.interactionState=0},t.prototype.pressStart=function(t){this.interactionState=1,t=t.transform(this.transform.invert());var n=this.currentStroke=new u;n.width=this.strokeWidth,n.color=this.strokeColor,n.addPoint(t),this.currentStrokeRenderer.strokes=[n];var r=this.currentStrokeRenderer;r.addDirtyRect(n.lastCurveBoundingRect),r.update()},t.prototype.pressMove=function(t){if(1===this.interactionState){t=t.transform(this.transform.invert());var n=this.currentStroke,r=this.currentStrokeRenderer;r.addDirtyRect(n.lastCurveBoundingRect),n.addPoint(t),r.addDirtyRect(n.lastCurveBoundingRect),r.update()}},t.prototype.pressEnd=function(){var t=this;1===this.interactionState&&(this.renderer.strokes.push(this.currentStroke),r.nextTick(function(){t.renderer.addDirtyRect(t.currentStroke.boundingRect),t.renderer.drawOther(t.currentStrokeRenderer),t.currentStrokeRenderer.strokes=[],t.currentStrokeRenderer.addDirtyRect(t.currentStroke.boundingRect),t.currentStrokeRenderer.clear(),t.currentStrokeRenderer.tiles.forEach(function(t){t.isBlank=!0})}),this.interactionState=0)},t.prototype.updateTransform=function(t){this.transform=t,this.renderer.transform=t,this.currentStrokeRenderer.transform=t},t.prototype.onMouseMove=function(t){this.pressMove(new a(t.clientX,t.clientY))},t.prototype.onMouseDown=function(t){this.pressStart(new a(t.clientX,t.clientY))},t.prototype.onMouseUp=function(){this.pressEnd()},t.prototype.onTouchMove=function(t){if(1===t.touches.length){var n=t.touches[0];this.pressMove(e(n))}else 2===t.touches.length&&this.pinchMove([0,1].map(function(n){return e(t.touches[n])}));t.preventDefault()},t.prototype.onTouchStart=function(t){if(1===t.touches.length){var n=t.touches[0];this.pressStart(e(n))}else 2===t.touches.length&&this.pinchStart([0,1].map(function(n){return e(t.touches[n])}));t.preventDefault()},t.prototype.onTouchEnd=function(t){this.pressEnd(),this.pinchEnd(),t.preventDefault()},t.prototype.onWheel=function(t){var n=this.transform.translate(new a(-t.deltaX,-t.deltaY));this.updateTransform(n),this.renderer.update(),t.preventDefault()},t}();n.exports=c}).call(this,t("_process"))},{"./Color":5,"./Point":7,"./Renderer":9,"./Stroke":11,"./Transform":12,_process:2}],5:[function(t,n){"use strict";var r=function(){function t(t,n,r,e){this.r=t,this.g=n,this.b=r,this.a=e}return t.prototype.toString=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},t}();n.exports=r},{}],6:[function(t,n){"use strict";var r=t("./Point"),e=t("./Rect"),i=t("./vendor/bezier"),o=function(){function t(t,n,r,e){this.start=t,this.control1=n,this.control2=r,this.end=e,this.boundingRect=this.calcBoundingRect()}return t.prototype.calcBoundingRect=function(){var t=new i([this.start,this.control1,this.control2,this.end]),n=t.bbox();return new e(new r(n.x.min,n.y.min),new r(n.x.max,n.y.max))},t.catmullRom=function(n,r,e,i){return new t(r,r.add(e.sub(n).div(6)),e.sub(i.sub(r).div(6)),e)},t.bSpline=function(n,r,e,i){return new t(n.add(r.mul(4)).add(e).div(6),r.mul(2).add(e).div(3),e.mul(2).add(r).div(3),i.add(e.mul(4)).add(r).div(6))},t}();n.exports=o},{"./Point":7,"./Rect":8,"./vendor/bezier":13}],7:[function(t,n){"use strict";var r=function(){function t(t,n){this.x=t,this.y=n}return t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y)},t.prototype.sub=function(n){return new t(this.x-n.x,this.y-n.y)},t.prototype.mul=function(n){return new t(this.x*n,this.y*n)},t.prototype.div=function(n){return new t(this.x/n,this.y/n)},t.prototype.negate=function(){return new t(-this.x,-this.y)},Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!0,configurable:!0}),t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t.prototype.ceil=function(){return new t(Math.ceil(this.x),Math.ceil(this.y))},t.prototype.transform=function(n){var r=n.m11*this.x+n.m21*this.y+n.dx,e=n.m12*this.x+n.m22*this.y+n.dy;return new t(r,e)},t.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t}();n.exports=r},{}],8:[function(t,n){"use strict";var r=t("./Point"),e=function(){function t(t,n){this.min=t,this.max=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this.min.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.min.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.max.x-this.min.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.max.y-this.min.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.max.x<this.min.x||this.max.y<this.min.y},enumerable:!0,configurable:!0}),t.prototype.union=function(n){if(this.isEmpty)return n;if(n.isEmpty)return this;var e=new r(Math.min(this.min.x,n.min.x),Math.min(this.min.y,n.min.y)),i=new r(Math.max(this.max.x,n.max.x),Math.max(this.max.y,n.max.y));return new t(e,i)},t.prototype.intersection=function(n){if(this.isEmpty||n.isEmpty)return t.empty;var e=new r(Math.max(this.min.x,n.min.x),Math.max(this.min.y,n.min.y)),i=new r(Math.min(this.max.x,n.max.x),Math.min(this.max.y,n.max.y));return new t(e,i)},t.prototype.outset=function(n){var e=new r(n,n);return new t(this.min.sub(e),this.max.add(e))},t.prototype.translate=function(n){return new t(this.min.add(n),this.max.add(n))},t.prototype.transform=function(n){var r=this.min.transform(n),e=this.max.transform(n);return t.fromPoints(r,e)},t.prototype.boundingIntegerRect=function(){return new t(this.min.floor(),this.max.ceil())},t.prototype.toString=function(){return"Rect("+this.min+","+this.max+")"},t.prototype.equals=function(t){return this.min.equals(t.min)&&this.max.equals(t.max)},t.fromPoints=function(n,e){var i=new r(Math.min(n.x,e.x),Math.min(n.y,e.y)),o=new r(Math.max(n.x,e.x),Math.max(n.y,e.y));return new t(i,o)},t.fromMetrics=function(n,e,i,o){return new t(new r(n,e),new r(n+i,e+o))},Object.defineProperty(t,"empty",{get:function(){return new t(new r(0,0),new r(-1,-1))},enumerable:!0,configurable:!0}),t}();n.exports=e},{"./Point":7}],9:[function(t,n){(function(r){"use strict";var e=t("lodash"),i=t("./Point"),o=t("./Rect"),u=t("./Transform"),a=t("./RendererTile"),s=256,f=function(){function t(t){this.isTiled=!0,this.element=document.createElement("div"),this.tiles=[],this.strokes=[],this.isRenderQueued=!1,this.devicePixelRatio=1,this.width=0,this.height=0,this.dirtyRect=o.empty,this._transform=u.identity(),this.transformToPixel=u.identity();var n={tiled:!0};e.assign(n,t),this.isTiled=n.tiled,this.element.className="canvas-area__renderer",window.addEventListener("resize",this.onResize.bind(this)),this.onResize()}return Object.defineProperty(t.prototype,"transform",{get:function(){return this._transform},set:function(t){this._transform=t,this.transformToPixel=t.scale(this.devicePixelRatio),this.dirtyWhole(),this.updateTileTransforms()},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.strokes.push(t)},t.prototype.addDirtyRect=function(t){this.dirtyRect=this.dirtyRect.union(t.transform(this.transformToPixel).boundingIntegerRect())},t.prototype.dirtyWhole=function(){this.dirtyRect=o.fromMetrics(0,0,this.width*this.devicePixelRatio,this.height*this.devicePixelRatio)},t.prototype.update=function(){var t=this;this.isRenderQueued||(this.isRenderQueued=!0,r.nextTick(function(){t.beginRendering(),t.render(),t.isRenderQueued=!1}))},t.prototype.clear=function(){this.beginRendering()},t.prototype.beginRendering=function(t){var n=this;void 0===t&&(t=!0),this.tiles.forEach(function(r){r.beginRendering(n.dirtyRect,t)}),this.dirtyRect=o.empty},t.prototype.drawOther=function(t){this.beginRendering(!1),this.tiles.forEach(function(n){t.tiles.forEach(function(t){n.drawOther(t)})})},t.prototype.render=function(){var t=this;this.tiles.forEach(function(n){t.strokes.forEach(function(t){n.drawStroke(t)})})},t.prototype.updateTileTransforms=function(){var t=this;this.tiles.forEach(function(n){n.setRendererTransform(t.transformToPixel)})},t.prototype.onResize=function(){var t=this.width=window.innerWidth,n=this.height=window.innerHeight,r=this.devicePixelRatio=window.devicePixelRatio||1;this.transformToPixel=this.transform.scale(r),console.log("resized to "+t+" * "+n+", pixel ratio "+r),this.rebuildTiles(),this.update()},t.prototype.rebuildTiles=function(){var t,n=this,r=this.devicePixelRatio,e=this.width*r,u=this.height*r;if(this.isTiled){var r=this.devicePixelRatio;for(t=Math.floor(s/r)*r;Math.floor(t)!==t;)t-=r}else t=Math.max(e,u);var f=Math.ceil(e/t),c=Math.ceil(u/t);this.tiles.forEach(function(t){n.element.removeChild(t.element)}),this.tiles=[];for(var l=0;c>l;++l){var h;l===c-1?(h=u%t,0===h&&(h=t)):h=t;for(var p=0;f>p;++p){var d;p===f-1?(d=e%t,0===d&&(d=t)):d=t;var v=new i(p,l).mul(t),y=v.add(new i(d,h)),g=new a(new o(v,y));this.tiles.push(g),this.element.appendChild(g.element)}}this.updateTileTransforms(),this.update()},t}();n.exports=f}).call(this,t("_process"))},{"./Point":7,"./Rect":8,"./RendererTile":10,"./Transform":12,_process:2,lodash:3}],10:[function(t,n){"use strict";var r=t("./Rect"),e=t("./Transform"),i=function(){function t(t){this.rect=r.empty,this.rendererTransform=e.identity(),this.transform=e.identity(),this.isBlank=!0,this.renderingRect=r.empty,this.rect=t;var n=this.element=document.createElement("canvas");n.width=t.width,n.height=t.height;var i=window.devicePixelRatio||0;n.className="canvas-area__renderer-tile";var o=n.style;o.left=""+t.x/i+"px",o.top=""+t.y/i+"px",o.width=""+t.width/i+"px",o.height=""+t.height/i+"px",this.context=n.getContext("2d"),this.context.save()}return t.prototype.setRendererTransform=function(t){this.rendererTransform=t,this.transform=t.translate(this.rect.min.negate())},t.prototype.beginRendering=function(t,n){void 0===n&&(n=!0);var e=this.rect.intersection(t);if(e.isEmpty)return void(this.renderingRect=r.empty);var i=this.renderingRect=e.translate(this.rect.min.negate()),o=this.context;o.restore(),o.save(),!this.isBlank&&n&&(o.clearRect(i.x,i.y,i.width,i.height),e.equals(this.rect)&&(this.isBlank=!0)),o.beginPath(),o.rect(i.x,i.y,i.width,i.height),o.closePath(),o.clip()},t.prototype.drawOther=function(t){if(!t.isBlank){this.isBlank=!1;var n=this.context;n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0);var r=t.rect.min.sub(this.rect.min);n.drawImage(t.element,r.x,r.y)}},t.prototype.drawStroke=function(t){if(!this.renderingRect.isEmpty){var n=t.boundingRect.transform(this.rendererTransform);if(!this.rect.intersection(n).isEmpty){this.isBlank=!1;var r=t.points.length;if(0!==r){var e=this.context;e.globalCompositeOperation="copy",e.lineCap="round",e.lineJoin="round";var i=this.transform;e.setTransform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy);var o=t.points[0];1===r&&(e.fillStyle=t.color.toString(),e.beginPath(),e.arc(o.x,o.y,t.width/2,0,2*Math.PI),e.fill()),r>1&&(e.lineWidth=t.width,e.strokeStyle=t.color.toString(),e.beginPath(),e.moveTo(o.x,o.y),t.curves.forEach(function(t){e.bezierCurveTo(t.control1.x,t.control1.y,t.control2.x,t.control2.y,t.end.x,t.end.y)}),e.stroke())}}}},t}();n.exports=i},{"./Rect":8,"./Transform":12}],11:[function(t,n){"use strict";var r=t("./Point"),e=t("./Curve"),i=t("./Color"),o=t("./Rect"),u=function(){function t(){this.points=[],this.color=new i(0,0,0,1),this.width=1,this.curves=[],this.finalizedBoundingRect=o.empty,this.lastCurveBoundingRect=o.empty}return Object.defineProperty(t.prototype,"boundingRect",{get:function(){return this.finalizedBoundingRect.union(this.lastCurveBoundingRect)},enumerable:!0,configurable:!0}),t.prototype.addPoint=function(t){this.points.push(t);var n=this.points.length;if(1===n){var e=.5*this.width,i=new o(t.sub(new r(e,e)),t.add(new r(e,e)));this.finalizedBoundingRect=this.lastCurveBoundingRect=i}else{if(n>=3){var u=this.curves[n-3]=this.curveAt(n-3),i=u.boundingRect.outset(.5*this.width);
this.finalizedBoundingRect=this.finalizedBoundingRect.union(i)}if(n>=2){var u=this.curveAt(n-2);this.curves.push(u),this.lastCurveBoundingRect=u.boundingRect.outset(.5*this.width)}}},t.prototype.curveAt=function(t){var n=this.points[t-1],r=this.points[t],i=this.points[t+1],o=this.points[t+2];return e.bSpline(n||r,r,i,o||i)},t}();n.exports=u},{"./Color":5,"./Curve":6,"./Point":7,"./Rect":8}],12:[function(t,n){"use strict";var r=function(){function t(t,n,r,e,i,o){this.m11=t,this.m12=n,this.m21=r,this.m22=e,this.dx=i,this.dy=o}return t.prototype.merge=function(n){var r=n.m11*this.m11+n.m21*this.m12,e=n.m11*this.m21+n.m21*this.m22,i=n.m12*this.m11+n.m22*this.m12,o=n.m12*this.m21+n.m22*this.m22,u=n.m11*this.dx+n.m21*this.dy+n.dx,a=n.m12*this.dx+n.m22*this.dy+n.dy;return new t(r,e,i,o,u,a)},t.prototype.invert=function(){var n=this.m11*this.m22-this.m12*this.m21,r=this.m22/n,e=-this.m12/n,i=-this.m21/n,o=this.m11/n,u=-(r*this.dx+i*this.dy),a=-(e*this.dx+o*this.dy);return new t(r,e,i,o,u,a)},t.prototype.translate=function(n){return new t(this.m11,this.m12,this.m21,this.m22,this.dx+n.x,this.dy+n.y)},t.prototype.scale=function(n){return new t(this.m11*n,this.m12*n,this.m21*n,this.m22*n,this.dx*n,this.dy*n)},t.identity=function(){return new t(1,0,0,1,0,0)},t.scale=function(n){return new t(n,0,0,n,0,0)},t.translation=function(n){return new t(1,0,0,1,n.x,n.y)},t}();n.exports=r},{}],13:[function(n,r){!function(){"use strict";var n=Math.abs,e=Math.min,i=Math.max,o=Math.cos,u=Math.sin,a=Math.acos,s=(Math.asin,Math.atan2),f=Math.sqrt,c=function(t){return 0>t?-Math.pow(-t,1/3):Math.pow(t,1/3)},l=Math.PI,h=2*l,p={x:0,y:0,z:0},d={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,n,r){var e=r(n);return e=e.x*e.x+e.y*e.y,"undefined"!=typeof e.z&&(e+=e.z*e.z),f(e)},length:function(t,n){var r,e,i=.5,o=0,u=this.Tvalues.length;for(r=0;u>r;r++)e=i*this.Tvalues[r]+i,o+=this.Cvalues[r]*this.arcfn(t,e,n);return i*o},map:function(t,n,r,e,i){var o=r-n,u=i-e,a=t-n,s=a/o;return e+u*s},lerp:function(t,n,r){var e={x:n.x+t*(r.x-n.x),y:n.y+t*(r.y-n.y)};return n.z&&r.z&&(e.z=n.z+t*(r.z-n.z)),e},pointToString:function(t){var n=t.x+"/"+t.y;return"undefined"!=typeof t.z&&(n+="/"+t.z),n},pointsToString:function(t){return"["+t.map(this.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,n,r){var e,i=n.x-t.x,o=n.y-t.y,u=r.x-t.x,a=r.y-t.y,c=i*a-o*u,l=f(i*i+o*o),h=f(u*u+a*a);return i/=l,o/=l,u/=h,a/=h,e=i*u+o*a,s(c,e)},lli8:function(t,n,r,e,i,o,u,a){var s=(t*e-n*r)*(i-u)-(t-r)*(i*a-o*u),f=(t*e-n*r)*(o-a)-(n-e)*(i*a-o*u),c=(t-r)*(o-a)-(n-e)*(i-u);return 0==c?!1:{x:s/c,y:f/c}},lli4:function(t,n,r,e){var i=t.x,o=t.y,u=n.x,a=n.y,s=r.x,f=r.y,c=e.x,l=e.y;return this.lli8(i,o,u,a,s,f,c,l)},lli:function(t,n){return this.lli4(t,t.c,n,n.c)},makeline:function(t,n){var r=t.x,e=t.y,i=n.x,o=n.y,u=(i-r)/3,a=(o-e)/3;return new y(r,e,r+u,e+a,r+2*u,e+2*a,i,o)},findbbox:function(t){var n=99999999,r=n,e=-n,i=e;return t.forEach(function(t){var o=t.bbox();n>o.x.min&&(n=o.x.min),r>o.y.min&&(r=o.y.min),e<o.x.max&&(e=o.x.max),i<o.y.max&&(i=o.y.max)}),{x:{min:n,mid:(n+e)/2,max:e,size:e-n},y:{min:r,mid:(r+i)/2,max:i,size:i-r}}},shapeintersections:function(t,n,r,e){if(!this.bboxoverlap(n,e))return[];var i=[],o=[t.startcap,t.forward,t.back,t.endcap],u=[r.startcap,r.forward,r.back,r.endcap];return o.forEach(function(n){n.virtual||u.forEach(function(e){if(!e.virtual){var o=n.intersects(e);o.length>0&&(o.c1=n,o.c2=e,o.s1=t,o.s2=r,i.push(o))}})}),i},makeshape:function(t,n){var r=n.points.length,e=t.points.length,i=this.makeline(n.points[r-1],t.points[0]),o=this.makeline(t.points[e-1],n.points[0]),u={startcap:i,forward:t,back:n,endcap:o,bbox:this.findbbox([i,t,n,o])},a=this;return u.intersections=function(t){return a.shapeintersections(u,u.bbox,t,t.bbox)},u},getminmax:function(t,n,r){if(!r)return{min:0,max:0};var e,i,o=0x10000000000000000,u=-o;-1===r.indexOf(0)&&(r=[0].concat(r)),-1===r.indexOf(1)&&r.push(1);for(var a=0,s=r.length;s>a;a++)e=r[a],i=t.get(e),i[n]<o&&(o=i[n]),i[n]>u&&(u=i[n]);return{min:o,mid:(o+u)/2,max:u,size:u-o}},align:function(t,n){var r=n.p1.x,e=n.p1.y,i=-s(n.p2.y-e,n.p2.x-r),a=function(t){return{x:(t.x-r)*o(i)-(t.y-e)*u(i),y:(t.x-r)*u(i)+(t.y-e)*o(i)}};return t.map(a)},roots:function(t,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};var r=t.length-1,e=this.align(t,n),i=function(t){return t>=0&&1>=t};if(2===r){var u=e[0].y,s=e[1].y,l=e[2].y,p=u-2*s+l;if(0!==p){var d=-f(s*s-u*l),v=-u+s,y=-(d+v)/p,g=-(-d+v)/p;return[y,g].filter(i)}return s!==l&&0===p?[(2*s-l)/2*(s-l)].filter(i):[]}var m,y,_,x,w,b=e[0].y,R=e[1].y,z=e[2].y,E=e[3].y,p=-b+3*R-3*z+E,u=(3*b-6*R+3*z)/p,s=(-3*b+3*R)/p,l=b/p,e=(3*s-u*u)/3,k=e/3,S=(2*u*u*u-9*u*s+27*l)/27,T=S/2,j=T*T+k*k*k;if(0>j){var O=-e/3,A=O*O*O,C=f(A),M=-S/(2*C),P=-1>M?-1:M>1?1:M,I=a(P),B=c(C),W=2*B;return _=W*o(I/3)-u/3,x=W*o((I+h)/3)-u/3,w=W*o((I+2*h)/3)-u/3,[_,x,w].filter(i)}if(0===j)return m=0>T?c(-T):-c(T),_=2*m-u/3,x=-m-u/3,[_,x].filter(i);var L=f(j);return m=c(-T+L),y=c(T+L),[m-y-u/3].filter(i)},droots:function(t){if(3===t.length){var n=t[0],r=t[1],e=t[2],i=n-2*r+e;if(0!==i){var o=-f(r*r-n*e),u=-n+r,a=-(o+u)/i,s=-(-o+u)/i;return[a,s]}return r!==e&&0===i?[(2*r-e)/(2*(r-e))]:[]}if(2===t.length){var n=t[0],r=t[1];return n!==r?[n/(n-r)]:[]}},bboxoverlap:function(t,r){var e,i,o,u,a,s=["x","y"],f=s.length;for(e=0;f>e;e++)if(i=s[e],o=t[i].mid,u=r[i].mid,a=(t[i].size+r[i].size)/2,n(o-u)>=a)return!1;return!0},expandbox:function(t,n){n.x.min<t.x.min&&(t.x.min=n.x.min),n.y.min<t.y.min&&(t.y.min=n.y.min),n.z&&n.z.min<t.z.min&&(t.z.min=n.z.min),n.x.max>t.x.max&&(t.x.max=n.x.max),n.y.max>t.y.max&&(t.y.max=n.y.max),n.z&&n.z.max>t.z.max&&(t.z.max=n.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,n){var r=t.bbox(),e=n.bbox(),i=1e5,o=.5;if(r.x.size+r.y.size<o&&e.x.size+e.y.size<o)return[(i*(t._t1+t._t2)/2|0)/i+"/"+(i*(n._t1+n._t2)/2|0)/i];var u=t.split(.5),a=n.split(.5),s=[{left:u.left,right:a.left},{left:u.left,right:a.right},{left:u.right,right:a.right},{left:u.right,right:a.left}];s=s.filter(function(t){return d.bboxoverlap(t.left.bbox(),t.right.bbox())});var f=[];return 0===s.length?f:(s.forEach(function(t){f=f.concat(d.pairiteration(t.left,t.right))}),f=f.filter(function(t,n){return f.indexOf(t)===n}))}},v=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};v.prototype={valueOf:function(){return this.toString()},toString:function(){return d.pointsToString(this.points)},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map(function(t){return t.length()}).reduce(function(t,n){return t+n})},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,n=t[0].bbox(),r=1;r<t.length;r++)d.expandbox(n,t[r].bbox());return n},offset:function(t){var n=[];return this.curves.forEach(function(r){n=n.concat(r.offset(t))}),new v(n)}};var y=function(t){var r=t&&t.forEach?t:arguments;if("object"==typeof r[0]){r=[];for(var e=0;e<t.length;e++)["x","y","z"].forEach(function(n){"undefined"!=typeof t[e][n]&&r.push(t[e][n])})}var i=r.length;if(6!==i&&8!==i&&9!==i&&12!==i)throw new Error("This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)");var o=9===i||12===i;this._3d=o;for(var u=[],a=0,s=o?3:2;i>a;a+=s){var f={x:r[a],y:r[a+1]};o&&(f.z=r[a+2]),u.push(f)}this.order=u.length-1,this.points=u;var c=["x","y"];o&&c.push("z"),this.dims=c,this.dimlen=c.length,function(t){for(var r=d.align(u,{p1:u[0],p2:u[t.order]}),e=0;e<r.length;e++)if(n(r[e].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};y.utils=d,y.prototype={valueOf:function(){return this.toString()},toString:function(){return d.pointsToString(this.points)},toSVG:function(){if(this._3d)return!1;for(var t=this.points,n=t[0].x,r=t[0].y,e="M "+n+" "+r+" "+(2===this.order?"Q ":"C "),i=1,o=t.length;o>i;i++)e+=t[i].x+" "+t[i].y;return e},update:function(){this.dpoints=[];for(var t=this.points,n=t.length,r=n-1;n>1;n--,r--){for(var e,i=[],o=0;r>o;o++)e={x:r*(t[o+1].x-t[o].x),y:r*(t[o+1].y-t[o].y)},this._3d&&(e.z=r*(t[o+1].z-t[o].z)),i.push(e);this.dpoints.push(i),t=i}this.computedirection()},computedirection:function(){var t=this.points,n=d.angle(t[0],t[this.order],t[1]);this.clockwise=n>0},length:function(){return d.length(this.points,this.derivative.bind(this))},getLUT:function(t){t=t||100;for(var n=[],r=0;t>=r;r++)n.push(this.compute(r/t));return n},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){if(0===t)return this.points[0];if(1===t)return this.points[this.order];var n,r,e,i=1-t,o=i*i,u=t*t,a=0,s=this.points;2===this.order&&(s=[s[0],s[1],s[2],p],n=o,r=i*t*2,e=u),3===this.order&&(n=o*i,r=o*t*3,e=i*u*3,a=t*u);var f={x:n*s[0].x+r*s[1].x+e*s[2].x+a*s[3].x,y:n*s[0].y+r*s[1].y+e*s[2].y+a*s[3].y};return this._3d&&(f.z=n*s[0].z+r*s[1].z+e*s[2].z+a*s[3].z),f},raise:function(){for(var t,n,r,e=this.points,i=[e[0]],o=e.length,t=1;o>t;t++)n=e[t],r=e[t-1],i[t]={x:(o-t)/o*n.x+t/o*r.x,y:(o-t)/o*n.y+t/o*r.y};return i[o]=e[o-1],new y(i)},derivative:function(t){var n,r,e=1-t,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],p],n=e,r=t),3===this.order&&(n=e*e,r=e*t*2,i=t*t);var u={x:n*o[0].x+r*o[1].x+i*o[2].x,y:n*o[0].y+r*o[1].y+i*o[2].y};return this._3d&&(u.z=n*o[0].z+r*o[1].z+i*o[2].z),u},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var n=this.derivative(t),r=f(n.x*n.x+n.y*n.y);return{x:-n.y/r,y:n.x/r}},__normal3:function(){var n=this.derivative(t),r=this.derivative(t+.01),e=f(n.x*n.x+n.y*n.y+n.z*n.z),i=f(r.x*r.x+r.y*r.y+r.z*r.z);n.x/=e,n.y/=e,n.z/=e,r.x/=i,r.y/=i,r.z/=i;var o={x:r.y*n.z-r.z*n.y,y:r.z*n.x-r.x*n.z,z:r.x*n.y-r.y*n.x},u=f(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=u,o.y/=u,o.z/=u;var a=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z],s={x:a[0]*n.x+a[1]*n.y+a[2]*n.z,y:a[3]*n.x+a[4]*n.y+a[5]*n.z,z:a[6]*n.x+a[7]*n.y+a[8]*n.z};return s},split:function(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;var r,e=this.points,i=[],o=[],u=0,a=0,s=0;for(o[u++]=e[0],o[u++]=e[1],o[u++]=e[2],3===this.order&&(o[u++]=e[3]);e.length>1;){for(i=[],a=0,s=e.length-1;s>a;a++)r=d.lerp(t,e[a],e[a+1]),o[u++]=r,i.push(r);e=i}var f={left:new y(2===this.order?[o[0],o[3],o[5]]:[o[0],o[4],o[7],o[9]]),right:new y(2===this.order?[o[5],o[4],o[2]]:[o[9],o[8],o[6],o[3]]),span:o};if(f.left._t1=d.map(0,0,1,this._t1,this._t2),f.left._t2=d.map(t,0,1,this._t1,this._t2),f.right._t1=d.map(t,0,1,this._t1,this._t2),f.right._t2=d.map(1,0,1,this._t1,this._t2),!n)return f;n=d.map(n,t,1,0,1);var c=f.right.split(n);return c.left},inflections:function(){var t,n,r=this.dims,e=(this.dimlen,{}),i=[];return r.forEach(function(r){n=function(t){return t[r]},t=this.dpoints[0].map(n),e[r]=d.droots(t),3===this.order&&(t=this.dpoints[1].map(n),e[r]=e[r].concat(d.droots(t))),e[r]=e[r].filter(function(t){return t>=0&&1>=t}),i=i.concat(e[r].sort())}.bind(this)),i.sort(),e.values=i,e},bbox:function(){var t=this.inflections(),n={};return this.dims.forEach(function(r){n[r]=d.getminmax(this,r,t[r])}.bind(this)),n},overlaps:function(t){var n=this.bbox(),r=t.bbox();return d.bboxoverlap(n,r)},offset:function(t,n){if("undefined"!=typeof n){var r=this.get(t),e=this.normal(t),i={c:r,n:e,x:r.x+e.x*n,y:r.y+e.y*n};return this._3d&&(i.z=r.z+e.z*n),i}if(this._linear){var o=this.normal(0),u=this.points.map(function(n){var r={x:n.x+t*o.x,y:n.y+t*o.y};return n.z&&e.z&&(r.z=n.z+t*o.z),r});return[new y(u)]}var a=this.reduce();return a.map(function(n){return n.scale(t)})},simple:function(){if(3===this.order){var t=d.angle(this.points[0],this.points[3],this.points[1]),r=d.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&0>r||0>t&&r>0)return!1}var e=this.normal(0),i=this.normal(1),o=e.x*i.x+e.y*i.y;this._3d&&(o+=e.z*i.z);var u=n(a(o));return l/3>u},reduce:function(){var t,r,e=0,i=0,o=.01,u=[],a=[],s=this.inflections().values;for(-1===s.indexOf(0)&&(s=[0].concat(s)),-1===s.indexOf(1)&&s.push(1),e=s[0],t=1;t<s.length;t++)i=s[t],r=this.split(e,i),r._t1=e,r._t2=i,u.push(r),e=i;return u.forEach(function(t){for(e=0,i=0;1>=i;)for(i=e+o;1+o>=i;i+=o)if(r=t.split(e,i),!r.simple()){if(i-=o,n(e-i)<o)return[];r=t.split(e,i),r._t1=d.map(e,0,1,t._t1,t._t2),r._t2=d.map(i,0,1,t._t1,t._t2),a.push(r),e=i;break}1>e&&(r=t.split(e,1),r._t1=d.map(e,0,1,t._t1,t._t2),r._t2=t._t2,a.push(r))}),a},scale:function(t){var n=this.order,r=!1;if("function"==typeof t&&(r=t),r&&2===n)return this.raise().scale(r);var e=this.clockwise,i=r?r(0):t,o=r?r(1):t,u=[this.offset(0,10),this.offset(1,10)],a=d.lli4(u[0],u[0].c,u[1],u[1].c);if(!a)throw"cannot scale this curve. Try reducing it first.";var s=this.points,c=[];return[0,1].forEach(function(t){var r=c[t*n]=d.copy(s[t*n]);r.x+=(t?o:i)*u[t].n.x,r.y+=(t?o:i)*u[t].n.y}.bind(this)),r?([0,1].forEach(function(i){if(2!==this.order||!i){var o=s[i+1],u={x:o.x-a.x,y:o.y-a.y},l=r?r((i+1)/n):t;r&&!e&&(l=-l);var h=f(u.x*u.x+u.y*u.y);u.x/=h,u.y/=h,c[i+1]={x:o.x+l*u.x,y:o.y+l*u.y}}}.bind(this)),new y(c)):([0,1].forEach(function(t){if(2!==this.order||!t){var r=c[t*n],e=this.derivative(t),i={x:r.x+e.x,y:r.y+e.y};c[t+1]=d.lli4(r,i,a,s[t+1])}}.bind(this)),new y(c))},outline:function(t,n,r,e){function i(t,n,r,e,i){return function(o){var u=e/r,a=(e+i)/r,s=n-t;return d.map(o,0,1,t+u*s,t+a*s)}}n="undefined"==typeof n?t:n;var o,u=this.reduce(),a=u.length,s=(this.order,[]),f=[],c=0,l=this.length(),h="undefined"!=typeof r&&"undefined"!=typeof e;u.forEach(function(o){b=o.length(),h?(s.push(o.scale(i(t,r,l,c,b))),f.push(o.scale(i(-n,-e,l,c,b)))):(s.push(o.scale(t)),f.push(o.scale(-n))),c+=b}),f=f.map(function(t){return o=t.points,t.points=o[3]?[o[3],o[2],o[1],o[0]]:[o[2],o[1],o[0]],t}).reverse();var p=s[0].points[0],y=s[a-1].points[s[a-1].points.length-1],g=f[a-1].points[f[a-1].points.length-1],m=f[0].points[0],_=d.makeline(g,p),x=d.makeline(y,m),w=[_].concat(s).concat([x]).concat(f),b=w.length;return new v(w)},outlineshapes:function(t,n){n=n||t;for(var r=this.outline(t,n).curves,e=[],i=1,o=r.length;o/2>i;i++){var u=d.makeshape(r[i],r[o-i]);u.startcap.virtual=i>1,u.endcap.virtual=o/2-1>i,e.push(u)}return e},intersects:function(t){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof y&&(t=t.reduce()),this.curveintersects(this.reduce(),t)):this.selfintersects()},lineIntersects:function(t){var n=e(t.p1.x,t.p2.x),r=e(t.p1.y,t.p2.y),o=i(t.p1.x,t.p2.x),u=i(t.p1.y,t.p2.y),a=this;return d.roots(this.points,t).filter(function(t){var e=a.get(t);return n<=e.x&&e.x<=o&&r<=e.y&&e.y<=u})},selfintersects:function(){var t,n,r,e,i=this.reduce(),o=i.length-2,u=[];for(t=0;o>t;t++)r=i.slice(t,t+1),e=i.slice(t+2),n=this.curveintersects(r,e),u=u.concat(n);return u},curveintersects:function(t,n){var r=[];t.forEach(function(t){n.forEach(function(n){t.overlaps(n)&&r.push({left:t,right:n})})});var e=[];return r.forEach(function(t){var n=d.pairiteration(t.left,t.right);n.length>0&&(e=e.concat(n))}),e}},"undefined"!=typeof r&&r.exports?r.exports=y:"undefined"!=typeof define?define(function(){return y}):"undefined"!=typeof window&&(window.Bezier=y)}()},{}]},{},[1]);
//# sourceMappingURL=bundle.js.map