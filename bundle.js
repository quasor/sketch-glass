!function n(t,r,e){function i(u,a){if(!r[u]){if(!t[u]){var f="function"==typeof require&&require;if(!a&&f)return f(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[u]={exports:{}};t[u][0].call(c.exports,function(n){var r=t[u][1][n];return i(r?r:n)},c,c.exports,n,t,r,e)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<e.length;u++)i(e[u]);return i}({1:[function(t){"use strict";var n=t("./CanvasController");document.addEventListener("DOMContentLoaded",function(){var t=new n;document.body.appendChild(t.view)})},{"./CanvasController":3}],2:[function(t,n,r){(function(t){(function(){function e(t,n){if(t!==n){var r=t===t,e=n===n;if(t>n||!r||"undefined"==typeof t&&e)return 1;if(n>t||!e||"undefined"==typeof n&&r)return-1}return 0}function i(t,n,r){if(n!==n)return y(t,r);for(var e=(r||0)-1,i=t.length;++e<i;)if(t[e]===n)return e;return-1}function o(t){return"function"==typeof t||!1}function u(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}function a(t){return"string"==typeof t?t:null==t?"":t+""}function f(t){return t.charCodeAt(0)}function s(t,n){for(var r=-1,e=t.length;++r<e&&n.indexOf(t.charAt(r))>-1;);return r}function c(t,n){for(var r=t.length;r--&&n.indexOf(t.charAt(r))>-1;);return r}function l(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function h(t,n){for(var r=-1,i=t.criteria,o=n.criteria,u=i.length;++r<u;){var a=e(i[r],o[r]);if(a)return a}return t.index-n.index}function p(t){return $n[t]}function v(t){return Bn[t]}function d(t){return"\\"+Vn[t]}function y(t,n,r){for(var e=t.length,i=r?n||e:(n||0)-1;r?i--:++i<e;){var o=t[i];if(o!==o)return i}return-1}function g(t){return t&&"object"==typeof t||!1}function m(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function _(t,n){for(var r=-1,e=t.length,i=-1,o=[];++r<e;)t[r]===n&&(t[r]=B,o[++i]=r);return o}function x(t,n){for(var r,e=-1,i=t.length,o=-1,u=[];++e<i;){var a=t[e],f=n?n(a,e,t):a;e&&r===f||(r=f,u[++o]=a)}return u}function w(t){for(var n=-1,r=t.length;++n<r&&m(t.charCodeAt(n)););return n}function b(t){for(var n=t.length;n--&&m(t.charCodeAt(n)););return n}function z(t){return Yn[t]}function k(t){function n(t){if(g(t)&&!Ha(t)&&!(t instanceof G)){if(t instanceof m)return t;if(ra.call(t,"__chain__")&&ra.call(t,"__wrapped__"))return Ne(t)}return new m(t)}function r(){}function m(t,n,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!n}function G(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Ca,this.__views__=null}function nn(){var t=this.__actions__,n=this.__iteratees__,r=this.__views__,e=new G(this.__wrapped__);return e.__actions__=t?tr(t):null,e.__dir__=this.__dir__,e.__dropCount__=this.__dropCount__,e.__filtered__=this.__filtered__,e.__iteratees__=n?tr(n):null,e.__takeCount__=this.__takeCount__,e.__views__=r?tr(r):null,e}function en(){if(this.__filtered__){var t=new G(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function $n(){var t=this.__wrapped__.value();if(!Ha(t))return Gr(t,this.__actions__);var n=this.__dir__,r=0>n,e=xe(0,t.length,this.__views__),i=e.start,o=e.end,u=o-i,a=this.__dropCount__,f=Sa(u,this.__takeCount__),s=r?o:i-1,c=this.__iteratees__,l=c?c.length:0,h=0,p=[];t:for(;u--&&f>h;){s+=n;for(var v=-1,d=t[s];++v<l;){var y=c[v],g=y.iteratee,m=g(d,s,t),_=y.type;if(_==D)d=m;else if(!m){if(_==F)continue t;break t}}a?a--:p[h++]=d}return p}function Bn(){this.__data__={}}function Yn(t){return this.has(t)&&delete this.__data__[t]}function Qn(t){return"__proto__"==t?E:this.__data__[t]}function Vn(t){return"__proto__"!=t&&ra.call(this.__data__,t)}function Jn(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this}function Kn(t){var n=t?t.length:0;for(this.data={hash:ba(null),set:new da};n--;)this.push(t[n])}function Gn(t,n){var r=t.data,e="string"==typeof n||Ao(n)?r.set.has(n):r.hash[n];return e?0:-1}function Hn(t){var n=this.data;"string"==typeof t||Ao(t)?n.set.add(t):n.hash[t]=!0}function tr(t,n){var r=-1,e=t.length;for(n||(n=Du(e));++r<e;)n[r]=t[r];return n}function nr(t,n){for(var r=-1,e=t.length;++r<e&&n(t[r],r,t)!==!1;);return t}function rr(t,n){for(var r=t.length;r--&&n(t[r],r,t)!==!1;);return t}function er(t,n){for(var r=-1,e=t.length;++r<e;)if(!n(t[r],r,t))return!1;return!0}function ir(t,n){for(var r=-1,e=t.length,i=-1,o=[];++r<e;){var u=t[r];n(u,r,t)&&(o[++i]=u)}return o}function or(t,n){for(var r=-1,e=t.length,i=Du(e);++r<e;)i[r]=n(t[r],r,t);return i}function ur(t){for(var n=-1,r=t.length,e=Oa;++n<r;){var i=t[n];i>e&&(e=i)}return e}function ar(t){for(var n=-1,r=t.length,e=Ca;++n<r;){var i=t[n];e>i&&(e=i)}return e}function fr(t,n,r,e){var i=-1,o=t.length;for(e&&o&&(r=t[++i]);++i<o;)r=n(r,t[i],i,t);return r}function sr(t,n,r,e){var i=t.length;for(e&&i&&(r=t[--i]);i--;)r=n(r,t[i],i,t);return r}function cr(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}function lr(t,n){return"undefined"==typeof t?n:t}function hr(t,n,r,e){return"undefined"!=typeof t&&ra.call(e,r)?t:n}function pr(t,n,r){var e=ef(n);if(!r)return dr(n,t,e);for(var i=-1,o=e.length;++i<o;){var u=e[i],a=t[u],f=r(a,n[u],u,t,n);(f===f?f===a:a!==a)&&("undefined"!=typeof a||u in t)||(t[u]=f)}return t}function vr(t,n){for(var r=-1,e=t.length,i=Re(e),o=n.length,u=Du(o);++r<o;){var a=n[r];i?(a=parseFloat(a),u[r]=Ee(a,e)?t[a]:E):u[r]=t[a]}return u}function dr(t,n,r){r||(r=n,n={});for(var e=-1,i=r.length;++e<i;){var o=r[e];n[o]=t[o]}return n}function yr(t,n){for(var r=-1,e=n.length;++r<e;){var i=n[r];t[i]=pe(t[i],R,t)}return t}function gr(t,n,r){var e=typeof t;return"function"==e?"undefined"!=typeof n&&ke(t)?te(t,n,r):t:null==t?ju:"object"==e?Ur(t):"undefined"==typeof n?$r(t+""):Fr(t+"",n)}function mr(t,n,r,e,i,o,u){var a;if(r&&(a=i?r(t,e,i):r(t)),"undefined"!=typeof a)return a;if(!Ao(t))return t;var f=Ha(t);if(f){if(a=we(t),!n)return tr(t,a)}else{var s=ia.call(t),c=s==K;if(s!=Z&&s!=Y&&(!c||i))return Dn[s]?ze(t,s,n):i?t:{};if(a=be(c?{}:t),!n)return dr(t,a,ef(t))}o||(o=[]),u||(u=[]);for(var l=o.length;l--;)if(o[l]==t)return u[l];return o.push(t),u.push(a),(f?nr:Or)(t,function(e,i){a[i]=mr(e,n,r,i,t,o,u)}),a}function _r(t,n,r,e){if("function"!=typeof t)throw new Ku($);return ya(function(){t.apply(E,Vr(r,e))},n)}function xr(t,n){var r=t?t.length:0,e=[];if(!r)return e;var o=-1,u=_e(),a=u==i,f=a&&n.length>=200&&qa(n),s=n.length;f&&(u=Gn,a=!1,n=f);t:for(;++o<r;){var c=t[o];if(a&&c===c){for(var l=s;l--;)if(n[l]===c)continue t;e.push(c)}else u(n,c)<0&&e.push(c)}return e}function wr(t,n){var r=t?t.length:0;if(!Re(r))return Or(t,n);for(var e=-1,i=Le(t);++e<r&&n(i[e],e,i)!==!1;);return t}function br(t,n){var r=t?t.length:0;if(!Re(r))return Cr(t,n);for(var e=Le(t);r--&&n(e[r],r,e)!==!1;);return t}function zr(t,n){var r=!0;return wr(t,function(t,e,i){return r=!!n(t,e,i)}),r}function kr(t,n,r,e){var i=t.length;for(r=null==r?0:+r||0,0>r&&(r=-r>i?0:i+r),e="undefined"==typeof e||e>i?i:+e||0,0>e&&(e+=i),i=r>e?0:e>>>0,r>>>=0;i>r;)t[r++]=n;return t}function Er(t,n){var r=[];return wr(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r}function Sr(t,n,r,e){var i;return r(t,function(t,r,o){return n(t,r,o)?(i=e?r:t,!1):void 0}),i}function Rr(t,n,r,e){for(var i=(e||0)-1,o=t.length,u=-1,a=[];++i<o;){var f=t[i];if(g(f)&&Re(f.length)&&(Ha(f)||bo(f))){n&&(f=Rr(f,n,r));var s=-1,c=f.length;for(a.length+=c;++s<c;)a[++u]=f[s]}else r||(a[++u]=f)}return a}function Tr(t,n,r){for(var e=-1,i=Le(t),o=r(t),u=o.length;++e<u;){var a=o[e];if(n(i[a],a,i)===!1)break}return t}function Ar(t,n,r){for(var e=Le(t),i=r(t),o=i.length;o--;){var u=i[o];if(n(e[u],u,e)===!1)break}return t}function jr(t,n){return Tr(t,n,Ho)}function Or(t,n){return Tr(t,n,ef)}function Cr(t,n){return Ar(t,n,ef)}function Mr(t,n){for(var r=-1,e=n.length,i=-1,o=[];++r<e;){var u=n[r];tf(t[u])&&(o[++i]=u)}return o}function Ir(t,n,r){var e=-1,i="function"==typeof n,o=t?t.length:0,u=Re(o)?Du(o):[];return wr(t,function(t){var o=i?n:null!=t&&t[n];u[++e]=o?o.apply(t,r):E}),u}function Pr(t,n,r,e,i,o){if(t===n)return 0!==t||1/t==1/n;var u=typeof t,a=typeof n;return"function"!=u&&"object"!=u&&"function"!=a&&"object"!=a||null==t||null==n?t!==t&&n!==n:Lr(t,n,Pr,r,e,i,o)}function Lr(t,n,r,e,i,o,u){var a=Ha(t),f=Ha(n),s=Q,c=Q;a||(s=ia.call(t),s==Y?s=Z:s!=Z&&(a=No(t))),f||(c=ia.call(n),c==Y?c=Z:c!=Z&&(f=No(n)));var l=s==Z,h=c==Z,p=s==c;if(p&&!a&&!l)return de(t,n,s);var v=l&&ra.call(t,"__wrapped__"),d=h&&ra.call(n,"__wrapped__");if(v||d)return r(v?t.value():t,d?n.value():n,e,i,o,u);if(!p)return!1;o||(o=[]),u||(u=[]);for(var y=o.length;y--;)if(o[y]==t)return u[y]==n;o.push(t),u.push(n);var g=(a?ve:ye)(t,n,r,e,i,o,u);return o.pop(),u.pop(),g}function Nr(t,n,r,e,i){var o=n.length;if(null==t)return!o;for(var u=-1,a=!i;++u<o;)if(a&&e[u]?r[u]!==t[n[u]]:!ra.call(t,n[u]))return!1;for(u=-1;++u<o;){var f=n[u];if(a&&e[u])var s=ra.call(t,f);else{var c=t[f],l=r[u];s=i?i(c,l,f):E,"undefined"==typeof s&&(s=Pr(l,c,i,!0))}if(!s)return!1}return!0}function Wr(t,n){var r=[];return wr(t,function(t,e,i){r.push(n(t,e,i))}),r}function Ur(t){var n=ef(t),r=n.length;if(1==r){var e=n[0],i=t[e];if(Te(i))return function(t){return null!=t&&t[e]===i&&ra.call(t,e)}}for(var o=Du(r),u=Du(r);r--;)i=t[n[r]],o[r]=i,u[r]=Te(i);return function(t){return Nr(t,n,o,u)}}function Fr(t,n){return Te(n)?function(r){return null!=r&&r[t]===n}:function(r){return null!=r&&Pr(n,r[t],null,!0)}}function Dr(t,n,r,e,i){if(!Ao(t))return t;var o=Re(n.length)&&(Ha(n)||No(n));return(o?nr:Or)(n,function(n,u,a){if(g(n))return e||(e=[]),i||(i=[]),qr(t,a,u,Dr,r,e,i);var f=t[u],s=r?r(f,n,u,t,a):E,c="undefined"==typeof s;c&&(s=n),!o&&"undefined"==typeof s||!c&&(s===s?s===f:f!==f)||(t[u]=s)}),t}function qr(t,n,r,e,i,o,u){for(var a=o.length,f=n[r];a--;)if(o[a]==f)return void(t[r]=u[a]);var s=t[r],c=i?i(s,f,r,t,n):E,l="undefined"==typeof c;l&&(c=f,Re(f.length)&&(Ha(f)||No(f))?c=Ha(s)?s:s?tr(s):[]:nf(f)||bo(f)?c=bo(s)?Fo(s):nf(s)?s:{}:l=!1),o.push(f),u.push(c),l?t[r]=e(c,f,i,o,u):(c===c?c!==s:s===s)&&(t[r]=c)}function $r(t){return function(n){return null==n?E:n[t]}}function Br(t,n){var r=n.length,i=vr(t,n);for(n.sort(e);r--;){var o=parseFloat(n[r]);if(o!=u&&Ee(o)){var u=o;ga.call(t,o,1)}}return i}function Yr(t,n){return t+la(ja()*(n-t+1))}function Qr(t,n,r,e,i){return i(t,function(t,i,o){r=e?(e=!1,t):n(r,t,i,o)}),r}function Vr(t,n,r){var e=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r="undefined"==typeof r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Du(i);++e<i;)o[e]=t[e+n];return o}function Xr(t,n){var r;return wr(t,function(t,e,i){return r=n(t,e,i),!r}),!!r}function Jr(t,n){var r=-1,e=_e(),o=t.length,u=e==i,a=u&&o>=200,f=a&&qa(),s=[];f?(e=Gn,u=!1):(a=!1,f=n?[]:s);t:for(;++r<o;){var c=t[r],l=n?n(c,r,t):c;if(u&&c===c){for(var h=f.length;h--;)if(f[h]===l)continue t;n&&f.push(l),s.push(c)}else e(f,l)<0&&((n||a)&&f.push(l),s.push(c))}return s}function Kr(t,n){for(var r=-1,e=n.length,i=Du(e);++r<e;)i[r]=t[n[r]];return i}function Gr(t,n){var r=t;r instanceof G&&(r=r.value());for(var e=-1,i=n.length;++e<i;){var o=[r],u=n[e];pa.apply(o,u.args),r=u.func.apply(u.thisArg,o)}return r}function Hr(t,n,r){var e=0,i=t?t.length:e;if("number"==typeof n&&n===n&&Pa>=i){for(;i>e;){var o=e+i>>>1,u=t[o];(r?n>=u:n>u)?e=o+1:i=o}return i}return Zr(t,n,ju,r)}function Zr(t,n,r,e){n=r(n);for(var i=0,o=t?t.length:0,u=n!==n,a="undefined"==typeof n;o>i;){var f=la((i+o)/2),s=r(t[f]),c=s===s;if(u)var l=c||e;else l=a?c&&(e||"undefined"!=typeof s):e?n>=s:n>s;l?i=f+1:o=f}return Sa(o,Ia)}function te(t,n,r){if("function"!=typeof t)return ju;if("undefined"==typeof n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,i){return t.call(n,r,e,i)};case 4:return function(r,e,i,o){return t.call(n,r,e,i,o)};case 5:return function(r,e,i,o,u){return t.call(n,r,e,i,o,u)}}return function(){return t.apply(n,arguments)}}function ne(t){return fa.call(t,0)}function re(t,n,r){for(var e=r.length,i=-1,o=Ea(t.length-e,0),u=-1,a=n.length,f=Du(o+a);++u<a;)f[u]=n[u];for(;++i<e;)f[r[i]]=t[i];for(;o--;)f[u++]=t[i++];return f}function ee(t,n,r){for(var e=-1,i=r.length,o=-1,u=Ea(t.length-i,0),a=-1,f=n.length,s=Du(u+f);++o<u;)s[o]=t[o];for(var c=o;++a<f;)s[c+a]=n[a];for(;++e<i;)s[c+r[e]]=t[o++];return s}function ie(t,n){return function(r,e,i){var o=n?n():{};if(e=me(e,i,3),Ha(r))for(var u=-1,a=r.length;++u<a;){var f=r[u];t(o,f,e(f,u,r),r)}else wr(r,function(n,r,i){t(o,n,e(n,r,i),i)});return o}}function oe(t){return function(){var n=arguments.length,r=arguments[0];if(2>n||null==r)return r;if(n>3&&Se(arguments[1],arguments[2],arguments[3])&&(n=2),n>3&&"function"==typeof arguments[n-2])var e=te(arguments[--n-1],arguments[n--],5);else n>2&&"function"==typeof arguments[n-1]&&(e=arguments[--n]);for(var i=0;++i<n;){var o=arguments[i];o&&t(r,o,e)}return r}}function ue(t,n){function r(){return(this instanceof r?e:t).apply(n,arguments)}var e=fe(t);return r}function ae(t){return function(n){for(var r=-1,e=Su(cu(n)),i=e.length,o="";++r<i;)o=t(o,e[r],r);return o}}function fe(t){return function(){var n=Fa(t.prototype),r=t.apply(n,arguments);return Ao(r)?r:n}}function se(t,n){return function(r,e,i){i&&Se(r,e,i)&&(e=null);var o=me(),u=null==e;if(o===gr&&u||(u=!1,e=o(e,i,3)),u){var a=Ha(r);if(a||!Lo(r))return t(a?r:Pe(r));e=f}return ge(r,e,n)}}function ce(t,n,r,e,i,o,u,a,f,s){function c(){for(var x=arguments.length,w=x,b=Du(x);w--;)b[w]=arguments[w];if(e&&(b=re(b,e,i)),o&&(b=ee(b,o,u)),v||y){var z=c.placeholder,k=_(b,z);if(x-=k.length,s>x){var E=a?tr(a):null,S=Ea(s-x,0),A=v?k:null,j=v?null:k,O=v?b:null,I=v?null:b;n|=v?C:M,n&=~(v?M:C),d||(n&=~(R|T));var P=ce(t,n,r,O,A,I,j,E,f,S);return P.placeholder=z,P}}var L=h?r:this;return p&&(t=L[m]),a&&(b=Ce(b,a)),l&&f<b.length&&(b.length=f),(this instanceof c?g||fe(t):t).apply(L,b)}var l=n&P,h=n&R,p=n&T,v=n&j,d=n&A,y=n&O,g=!p&&fe(t),m=t;return c}function le(t,n,r){var e=t.length;if(n=+n,e>=n||!za(n))return"";var i=n-e;return r=null==r?" ":r+"",mu(r,sa(i/r.length)).slice(0,i)}function he(t,n,r,e){function i(){for(var n=-1,a=arguments.length,f=-1,s=e.length,c=Du(a+s);++f<s;)c[f]=e[f];for(;a--;)c[f++]=arguments[++n];return(this instanceof i?u:t).apply(o?r:this,c)}var o=n&R,u=fe(t);return i}function pe(t,n,r,e,i,o,u,a){var f=n&T;if(!f&&"function"!=typeof t)throw new Ku($);var s=e?e.length:0;if(s||(n&=~(C|M),e=i=null),s-=i?i.length:0,n&M){var c=e,l=i;e=i=null}var h=!f&&$a(t),p=[t,n,r,e,i,c,l,o,u,a];if(h&&h!==!0&&(Ae(p,h),n=p[1],a=p[9]),p[9]=null==a?f?0:t.length:Ea(a-s,0)||0,n==R)var v=ue(p[0],p[2]);else v=n!=C&&n!=(R|C)||p[4].length?ce.apply(E,p):he.apply(E,p);var d=h?Da:Ba;return d(v,p)}function ve(t,n,r,e,i,o,u){var a=-1,f=t.length,s=n.length,c=!0;if(f!=s&&!(i&&s>f))return!1;for(;c&&++a<f;){var l=t[a],h=n[a];if(c=E,e&&(c=i?e(h,l,a):e(l,h,a)),"undefined"==typeof c)if(i)for(var p=s;p--&&(h=n[p],!(c=l&&l===h||r(l,h,e,i,o,u))););else c=l&&l===h||r(l,h,e,i,o,u)}return!!c}function de(t,n,r){switch(r){case V:case X:return+t==+n;case J:return t.name==n.name&&t.message==n.message;case H:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case tn:case rn:return t==n+""}return!1}function ye(t,n,r,e,i,o,u){var a=ef(t),f=a.length,s=ef(n),c=s.length;if(f!=c&&!i)return!1;for(var l,h=-1;++h<f;){var p=a[h],v=ra.call(n,p);if(v){var d=t[p],y=n[p];v=E,e&&(v=i?e(y,d,p):e(d,y,p)),"undefined"==typeof v&&(v=d&&d===y||r(d,y,e,i,o,u))}if(!v)return!1;l||(l="constructor"==p)}if(!l){var g=t.constructor,m=n.constructor;if(g!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0}function ge(t,n,r){var e=r?Ca:Oa,i=e,o=i;return wr(t,function(t,u,a){var f=n(t,u,a);((r?i>f:f>i)||f===e&&f===o)&&(i=f,o=t)}),o}function me(t,r,e){var i=n.callback||Tu;return i=i===Tu?gr:i,e?i(t,r,e):i}function _e(t,r,e){var o=n.indexOf||Ge;return o=o===Ge?i:o,t?o(t,r,e):o}function xe(t,n,r){for(var e=-1,i=r?r.length:0;++e<i;){var o=r[e],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=Sa(n,t+u);break;case"takeRight":t=Ea(t,n-u)}}return{start:t,end:n}}function we(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&ra.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function be(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Vu),new n}function ze(t,n,r){var e=t.constructor;switch(n){case on:return ne(t);case V:case X:return new e(+t);case un:case an:case fn:case sn:case cn:case ln:case hn:case pn:case vn:var i=t.buffer;return new e(r?ne(i):i,t.byteOffset,t.length);case H:case rn:return new e(t);case tn:var o=new e(t.source,Sn.exec(t));o.lastIndex=t.lastIndex}return o}function ke(t){var r=n.support,e=!(r.funcNames?t.name:r.funcDecomp);if(!e){var i=ta.call(t);r.funcNames||(e=!Rn.test(i)),e||(e=In.test(i)||Co(t),Da(t,e))}return e}function Ee(t,n){return t=+t,n=null==n?Na:n,t>-1&&t%1==0&&n>t}function Se(t,n,r){if(!Ao(r))return!1;var e=typeof n;if("number"==e)var i=r.length,o=Re(i)&&Ee(n,i);else o="string"==e&&n in r;var u=r[n];return o&&(t===t?t===u:u!==u)}function Re(t){return"number"==typeof t&&t>-1&&t%1==0&&Na>=t}function Te(t){return t===t&&(0===t?1/t>0:!Ao(t))}function Ae(t,n){var r=t[1],e=n[1],i=r|e,o=P|I,u=R|T,a=o|u|A|O,f=r&P&&!(e&P),s=r&I&&!(e&I),c=(s?t:n)[7],l=(f?t:n)[8],h=!(r>=I&&e>u||r>u&&e>=I),p=i>=o&&a>=i&&(I>r||(s||f)&&c.length<=l);if(!h&&!p)return t;e&R&&(t[2]=n[2],i|=r&R?0:A);var v=n[3];if(v){var d=t[3];t[3]=d?re(d,v,n[4]):tr(v),t[4]=d?_(t[3],B):tr(n[4])}return v=n[5],v&&(d=t[5],t[5]=d?ee(d,v,n[6]):tr(v),t[6]=d?_(t[5],B):tr(n[6])),v=n[7],v&&(t[7]=tr(v)),e&P&&(t[8]=null==t[8]?n[8]:Sa(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function je(t,n){t=Le(t);for(var r=-1,e=n.length,i={};++r<e;){var o=n[r];o in t&&(i[o]=t[o])}return i}function Oe(t,n){var r={};return jr(t,function(t,e,i){n(t,e,i)&&(r[e]=t)}),r}function Ce(t,n){for(var r=t.length,e=Sa(n.length,r),i=tr(t);e--;){var o=n[e];t[e]=Ee(o,r)?i[o]:E}return t}function Me(t){{var r;n.support}if(!g(t)||ia.call(t)!=Z||!ra.call(t,"constructor")&&(r=t.constructor,"function"==typeof r&&!(r instanceof r)))return!1;var e;return jr(t,function(t,n){e=n}),"undefined"==typeof e||ra.call(t,e)}function Ie(t){for(var r=Ho(t),e=r.length,i=e&&t.length,o=n.support,u=i&&Re(i)&&(Ha(t)||o.nonEnumArgs&&bo(t)),a=-1,f=[];++a<e;){var s=r[a];(u&&Ee(s,i)||ra.call(t,s))&&f.push(s)}return f}function Pe(t){return null==t?[]:Re(t.length)?Ao(t)?t:Vu(t):ou(t)}function Le(t){return Ao(t)?t:Vu(t)}function Ne(t){return t instanceof G?t.clone():new m(t.__wrapped__,t.__chain__,tr(t.__actions__))}function We(t,n,r){n=(r?Se(t,n,r):null==n)?1:Ea(+n||1,1);for(var e=0,i=t?t.length:0,o=-1,u=Du(sa(i/n));i>e;)u[++o]=Vr(t,e,e+=n);return u}function Ue(t){for(var n=-1,r=t?t.length:0,e=-1,i=[];++n<r;){var o=t[n];o&&(i[++e]=o)}return i}function Fe(){for(var t=-1,n=arguments.length;++t<n;){var r=arguments[t];if(Ha(r)||bo(r))break}return xr(r,Rr(arguments,!1,!0,++t))}function De(t,n,r){var e=t?t.length:0;return e?((r?Se(t,n,r):null==n)&&(n=1),Vr(t,0>n?0:n)):[]}function qe(t,n,r){var e=t?t.length:0;return e?((r?Se(t,n,r):null==n)&&(n=1),n=e-(+n||0),Vr(t,0,0>n?0:n)):[]}function $e(t,n,r){var e=t?t.length:0;if(!e)return[];for(n=me(n,r,3);e--&&n(t[e],e,t););return Vr(t,0,e+1)}function Be(t,n,r){var e=t?t.length:0;if(!e)return[];var i=-1;for(n=me(n,r,3);++i<e&&n(t[i],i,t););return Vr(t,i)}function Ye(t,n,r,e){var i=t?t.length:0;return i?(r&&"number"!=typeof r&&Se(t,n,r)&&(r=0,e=i),kr(t,n,r,e)):[]}function Qe(t,n,r){var e=-1,i=t?t.length:0;for(n=me(n,r,3);++e<i;)if(n(t[e],e,t))return e;return-1}function Ve(t,n,r){var e=t?t.length:0;for(n=me(n,r,3);e--;)if(n(t[e],e,t))return e;return-1}function Xe(t){return t?t[0]:E}function Je(t,n,r){var e=t?t.length:0;return r&&Se(t,n,r)&&(n=!1),e?Rr(t,n):[]}function Ke(t){var n=t?t.length:0;return n?Rr(t,!0):[]}function Ge(t,n,r){var e=t?t.length:0;if(!e)return-1;if("number"==typeof r)r=0>r?Ea(e+r,0):r||0;else if(r){var o=Hr(t,n),u=t[o];return(n===n?n===u:u!==u)?o:-1}return i(t,n,r)}function He(t){return qe(t,1)}function Ze(){for(var t=[],n=-1,r=arguments.length,e=[],o=_e(),u=o==i;++n<r;){var a=arguments[n];(Ha(a)||bo(a))&&(t.push(a),e.push(u&&a.length>=120&&qa(n&&a)))}r=t.length;var f=t[0],s=-1,c=f?f.length:0,l=[],h=e[0];t:for(;++s<c;)if(a=f[s],(h?Gn(h,a):o(l,a))<0){for(n=r;--n;){var p=e[n];if((p?Gn(p,a):o(t[n],a))<0)continue t}h&&h.push(a),l.push(a)}return l}function ti(t){var n=t?t.length:0;return n?t[n-1]:E}function ni(t,n,r){var e=t?t.length:0;if(!e)return-1;var i=e;if("number"==typeof r)i=(0>r?Ea(e+r,0):Sa(r||0,e-1))+1;else if(r){i=Hr(t,n,!0)-1;var o=t[i];return(n===n?n===o:o!==o)?i:-1}if(n!==n)return y(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1}function ri(){var t=arguments[0];if(!t||!t.length)return t;for(var n=0,r=_e(),e=arguments.length;++n<e;)for(var i=0,o=arguments[n];(i=r(t,o,i))>-1;)ga.call(t,i,1);return t}function ei(t){return Br(t||[],Rr(arguments,!1,!1,1))}function ii(t,n,r){var e=-1,i=t?t.length:0,o=[];for(n=me(n,r,3);++e<i;){var u=t[e];n(u,e,t)&&(o.push(u),ga.call(t,e--,1),i--)}return o}function oi(t){return De(t,1)}function ui(t,n,r){var e=t?t.length:0;return e?(r&&"number"!=typeof r&&Se(t,n,r)&&(n=0,r=e),Vr(t,n,r)):[]}function ai(t,n,r,e){var i=me(r);return i===gr&&null==r?Hr(t,n):Zr(t,n,i(r,e,1))}function fi(t,n,r,e){var i=me(r);return i===gr&&null==r?Hr(t,n,!0):Zr(t,n,i(r,e,1),!0)}function si(t,n,r){var e=t?t.length:0;return e?((r?Se(t,n,r):null==n)&&(n=1),Vr(t,0,0>n?0:n)):[]}function ci(t,n,r){var e=t?t.length:0;return e?((r?Se(t,n,r):null==n)&&(n=1),n=e-(+n||0),Vr(t,0>n?0:n)):[]}function li(t,n,r){var e=t?t.length:0;if(!e)return[];for(n=me(n,r,3);e--&&n(t[e],e,t););return Vr(t,e+1)}function hi(t,n,r){var e=t?t.length:0;if(!e)return[];var i=-1;for(n=me(n,r,3);++i<e&&n(t[i],i,t););return Vr(t,0,i)}function pi(){return Jr(Rr(arguments,!1,!0))}function vi(t,n,r,e){var o=t?t.length:0;if(!o)return[];null!=n&&"boolean"!=typeof n&&(e=r,r=Se(t,n,e)?null:n,n=!1);var u=me();return(u!==gr||null!=r)&&(r=u(r,e,3)),n&&_e()==i?x(t,r):Jr(t,r)}function di(t){for(var n=-1,r=(t&&t.length&&ur(or(t,na)))>>>0,e=Du(r);++n<r;)e[n]=or(t,$r(n));return e}function yi(t){return xr(t,Vr(arguments,1))}function gi(){for(var t=-1,n=arguments.length;++t<n;){var r=arguments[t];if(Ha(r)||bo(r))var e=e?xr(e,r).concat(xr(r,e)):r}return e?Jr(e):[]}function mi(){for(var t=arguments.length,n=Du(t);t--;)n[t]=arguments[t];return di(n)}function _i(t,n){var r=-1,e=t?t.length:0,i={};for(!e||n||Ha(t[0])||(n=[]);++r<e;){var o=t[r];n?i[o]=n[r]:o&&(i[o[0]]=o[1])}return i}function xi(t){var r=n(t);return r.__chain__=!0,r}function wi(t,n,r){return n.call(r,t),t}function bi(t,n,r){return n.call(r,t)}function zi(){return xi(this)}function ki(){return new m(this.value(),this.__chain__)}function Ei(t){for(var n,e=this;e instanceof r;){var i=Ne(e);n?o.__wrapped__=i:n=i;var o=i;e=e.__wrapped__}return o.__wrapped__=t,n}function Si(){var t=this.__wrapped__;return t instanceof G?(this.__actions__.length&&(t=new G(this)),new m(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Ri(){return this.value()+""}function Ti(){return Gr(this.__wrapped__,this.__actions__)}function Ai(t){var n=t?t.length:0;return Re(n)&&(t=Pe(t)),vr(t,Rr(arguments,!1,!1,1))}function ji(t,n,r){var e=Ha(t)?er:zr;return("function"!=typeof n||"undefined"!=typeof r)&&(n=me(n,r,3)),e(t,n)}function Oi(t,n,r){var e=Ha(t)?ir:Er;return n=me(n,r,3),e(t,n)}function Ci(t,n,r){if(Ha(t)){var e=Qe(t,n,r);return e>-1?t[e]:E}return n=me(n,r,3),Sr(t,n,wr)}function Mi(t,n,r){return n=me(n,r,3),Sr(t,n,br)}function Ii(t,n){return Ci(t,Ur(n))}function Pi(t,n,r){return"function"==typeof n&&"undefined"==typeof r&&Ha(t)?nr(t,n):wr(t,te(n,r,3))}function Li(t,n,r){return"function"==typeof n&&"undefined"==typeof r&&Ha(t)?rr(t,n):br(t,te(n,r,3))}function Ni(t,n,r){var e=t?t.length:0;return Re(e)||(t=ou(t),e=t.length),e?(r="number"==typeof r?0>r?Ea(e+r,0):r||0:0,"string"==typeof t||!Ha(t)&&Lo(t)?e>r&&t.indexOf(n,r)>-1:_e(t,n,r)>-1):!1}function Wi(t,n){return Ir(t,n,Vr(arguments,2))}function Ui(t,n,r){var e=Ha(t)?or:Wr;return n=me(n,r,3),e(t,n)}function Fi(t,n){return Ui(t,$r(n))}function Di(t,n,r,e){var i=Ha(t)?fr:Qr;return i(t,me(n,e,4),r,arguments.length<3,wr)}function qi(t,n,r,e){var i=Ha(t)?sr:Qr;return i(t,me(n,e,4),r,arguments.length<3,br)}function $i(t,n,r){var e=Ha(t)?ir:Er;return n=me(n,r,3),e(t,function(t,r,e){return!n(t,r,e)})}function Bi(t,n,r){if(r?Se(t,n,r):null==n){t=Pe(t);var e=t.length;return e>0?t[Yr(0,e-1)]:E}var i=Yi(t);return i.length=Sa(0>n?0:+n||0,i.length),i}function Yi(t){t=Pe(t);for(var n=-1,r=t.length,e=Du(r);++n<r;){var i=Yr(0,n);n!=i&&(e[n]=e[i]),e[i]=t[n]}return e}function Qi(t){var n=t?t.length:0;return Re(n)?n:ef(t).length}function Vi(t,n,r){var e=Ha(t)?cr:Xr;return("function"!=typeof n||"undefined"!=typeof r)&&(n=me(n,r,3)),e(t,n)}function Xi(t,n,r){var e=-1,i=t?t.length:0,o=Re(i)?Du(i):[];return r&&Se(t,n,r)&&(n=null),n=me(n,r,3),wr(t,function(t,r,i){o[++e]={criteria:n(t,r,i),index:e,value:t}}),u(o,l)}function Ji(t){var n=arguments;n.length>3&&Se(n[1],n[2],n[3])&&(n=[t,n[1]]);var r=-1,e=t?t.length:0,i=Rr(n,!1,!1,1),o=Re(e)?Du(e):[];return wr(t,function(t){for(var n=i.length,e=Du(n);n--;)e[n]=null==t?E:t[i[n]];o[++r]={criteria:e,index:r,value:t}}),u(o,h)}function Ki(t,n){return Oi(t,Ur(n))}function Gi(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Ku($);var r=t;t=n,n=r}return t=za(t=+t)?t:0,function(){return--t<1?n.apply(this,arguments):void 0}}function Hi(t,n,r){return r&&Se(t,n,r)&&(n=null),n=t&&null==n?t.length:Ea(+n||0,0),pe(t,P,null,null,null,null,n)}function Zi(t,n){var r;if("function"!=typeof n){if("function"!=typeof t)throw new Ku($);var e=t;t=n,n=e}return function(){return--t>0?r=n.apply(this,arguments):n=null,r}}function to(t,n){var r=R;if(arguments.length>2){var e=Vr(arguments,2),i=_(e,to.placeholder);r|=C}return pe(t,r,n,e,i)}function no(t){return yr(t,arguments.length>1?Rr(arguments,!1,!1,1):Jo(t))}function ro(t,n){var r=R|T;if(arguments.length>2){var e=Vr(arguments,2),i=_(e,ro.placeholder);r|=C}return pe(n,r,t,e,i)}function eo(t,n,r){r&&Se(t,n,r)&&(n=null);var e=pe(t,j,null,null,null,null,null,n);return e.placeholder=eo.placeholder,e}function io(t,n,r){r&&Se(t,n,r)&&(n=null);var e=pe(t,O,null,null,null,null,null,n);return e.placeholder=io.placeholder,e}function oo(t,n,r){function e(){h&&ca(h),f&&ca(f),f=h=p=E}function i(){var r=n-(Ga()-c);if(0>=r||r>n){f&&ca(f);var e=p;f=h=p=E,e&&(v=Ga(),s=t.apply(l,a),h||f||(a=l=null))}else h=ya(i,r)}function o(){h&&ca(h),f=h=p=E,(y||d!==n)&&(v=Ga(),s=t.apply(l,a),h||f||(a=l=null))}function u(){if(a=arguments,c=Ga(),l=this,p=y&&(h||!g),d===!1)var r=g&&!h;else{f||g||(v=c);var e=d-(c-v),u=0>=e||e>d;u?(f&&(f=ca(f)),v=c,s=t.apply(l,a)):f||(f=ya(o,e))}return u&&h?h=ca(h):h||n===d||(h=ya(i,n)),r&&(u=!0,s=t.apply(l,a)),!u||h||f||(a=l=null),s}var a,f,s,c,l,h,p,v=0,d=!1,y=!0;if("function"!=typeof t)throw new Ku($);if(n=0>n?0:n,r===!0){var g=!0;y=!1}else Ao(r)&&(g=r.leading,d="maxWait"in r&&Ea(+r.maxWait||0,n),y="trailing"in r?r.trailing:y);return u.cancel=e,u}function uo(t){return _r(t,1,arguments,1)}function ao(t,n){return _r(t,n,arguments,2)}function fo(){var t=arguments,n=t.length;if(!n)return function(){return arguments[0]};if(!er(t,o))throw new Ku($);return function(){for(var r=0,e=t[r].apply(this,arguments);++r<n;)e=t[r].call(this,e);return e}}function so(){var t=arguments,n=t.length-1;if(0>n)return function(){return arguments[0]};if(!er(t,o))throw new Ku($);return function(){for(var r=n,e=t[r].apply(this,arguments);r--;)e=t[r].call(this,e);return e}}function co(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Ku($);var r=function(){var e=r.cache,i=n?n.apply(this,arguments):arguments[0];if(e.has(i))return e.get(i);var o=t.apply(this,arguments);return e.set(i,o),o};return r.cache=new co.Cache,r}function lo(t){if("function"!=typeof t)throw new Ku($);return function(){return!t.apply(this,arguments)}}function ho(t){return Zi(t,2)}function po(t){var n=Vr(arguments,1),r=_(n,po.placeholder);return pe(t,C,null,n,r)}function vo(t){var n=Vr(arguments,1),r=_(n,vo.placeholder);return pe(t,M,null,n,r)}function yo(t){var n=Rr(arguments,!1,!1,1);return pe(t,I,null,null,null,n)}function go(t){if("function"!=typeof t)throw new Ku($);return function(n){return t.apply(this,n)}}function mo(t,n,r){var e=!0,i=!0;if("function"!=typeof t)throw new Ku($);return r===!1?e=!1:Ao(r)&&(e="leading"in r?!!r.leading:e,i="trailing"in r?!!r.trailing:i),qn.leading=e,qn.maxWait=+n,qn.trailing=i,oo(t,n,qn)}function _o(t,n){return n=null==n?ju:n,pe(n,C,null,[t],[])}function xo(t,n,r,e){return n&&"boolean"!=typeof n&&Se(t,n,r)?n=!1:"function"==typeof n&&(e=r,r=n,n=!1),r="function"==typeof r&&te(r,e,1),mr(t,n,r)}function wo(t,n,r){return n="function"==typeof n&&te(n,r,1),mr(t,!0,n)}function bo(t){var n=g(t)?t.length:E;return Re(n)&&ia.call(t)==Y||!1}function zo(t){return t===!0||t===!1||g(t)&&ia.call(t)==V||!1}function ko(t){return g(t)&&ia.call(t)==X||!1}function Eo(t){return t&&1===t.nodeType&&g(t)&&ia.call(t).indexOf("Element")>-1||!1}function So(t){if(null==t)return!0;var n=t.length;return Re(n)&&(Ha(t)||Lo(t)||bo(t)||g(t)&&tf(t.splice))?!n:!ef(t).length}function Ro(t,n,r,e){if(r="function"==typeof r&&te(r,e,3),!r&&Te(t)&&Te(n))return t===n;var i=r?r(t,n):E;return"undefined"==typeof i?Pr(t,n,r):!!i}function To(t){return g(t)&&"string"==typeof t.message&&ia.call(t)==J||!1}function Ao(t){var n=typeof t;return"function"==n||t&&"object"==n||!1}function jo(t,n,r,e){var i=ef(n),o=i.length;if(r="function"==typeof r&&te(r,e,3),!r&&1==o){var u=i[0],a=n[u];if(Te(a))return null!=t&&a===t[u]&&ra.call(t,u)}for(var f=Du(o),s=Du(o);o--;)a=f[o]=n[i[o]],s[o]=Te(a);return Nr(t,i,f,s,r)}function Oo(t){return Io(t)&&t!=+t}function Co(t){return null==t?!1:ia.call(t)==K?ua.test(ta.call(t)):g(t)&&An.test(t)||!1}function Mo(t){return null===t}function Io(t){return"number"==typeof t||g(t)&&ia.call(t)==H||!1}function Po(t){return g(t)&&ia.call(t)==tn||!1}function Lo(t){return"string"==typeof t||g(t)&&ia.call(t)==rn||!1}function No(t){return g(t)&&Re(t.length)&&Fn[ia.call(t)]||!1}function Wo(t){return"undefined"==typeof t}function Uo(t){var n=t?t.length:0;return Re(n)?n?tr(t):[]:ou(t)}function Fo(t){return dr(t,Ho(t))}function Do(t,n,r){var e=Fa(t);return r&&Se(t,n,r)&&(n=null),n?dr(n,e,ef(n)):e}function qo(t){if(null==t)return t;var n=tr(arguments);return n.push(lr),rf.apply(E,n)}function $o(t,n,r){return n=me(n,r,3),Sr(t,n,Or,!0)}function Bo(t,n,r){return n=me(n,r,3),Sr(t,n,Cr,!0)}function Yo(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=te(n,r,3)),Tr(t,n,Ho)}function Qo(t,n,r){return n=te(n,r,3),Ar(t,n,Ho)}function Vo(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=te(n,r,3)),Or(t,n)}function Xo(t,n,r){return n=te(n,r,3),Ar(t,n,ef)}function Jo(t){return Mr(t,Ho(t))}function Ko(t,n){return t?ra.call(t,n):!1}function Go(t,n,r){r&&Se(t,n,r)&&(n=null);for(var e=-1,i=ef(t),o=i.length,u={};++e<o;){var a=i[e],f=t[a];n?ra.call(u,f)?u[f].push(a):u[f]=[a]:u[f]=a}return u}function Ho(t){if(null==t)return[];Ao(t)||(t=Vu(t));var n=t.length;n=n&&Re(n)&&(Ha(t)||Ua.nonEnumArgs&&bo(t))&&n||0;for(var r=t.constructor,e=-1,i="function"==typeof r&&r.prototype===t,o=Du(n),u=n>0;++e<n;)o[e]=e+"";for(var a in t)u&&Ee(a,n)||"constructor"==a&&(i||!ra.call(t,a))||o.push(a);return o}function Zo(t,n,r){var e={};return n=me(n,r,3),Or(t,function(t,r,i){e[r]=n(t,r,i)}),e}function tu(t,n,r){if(null==t)return{};if("function"!=typeof n){var e=or(Rr(arguments,!1,!1,1),Ju);return je(t,xr(Ho(t),e))}return n=te(n,r,3),Oe(t,function(t,r,e){return!n(t,r,e)})}function nu(t){for(var n=-1,r=ef(t),e=r.length,i=Du(e);++n<e;){var o=r[n];i[n]=[o,t[o]]}return i}function ru(t,n,r){return null==t?{}:"function"==typeof n?Oe(t,te(n,r,3)):je(t,Rr(arguments,!1,!1,1))}function eu(t,n,r){var e=null==t?E:t[n];return"undefined"==typeof e&&(e=r),tf(e)?e.call(t):e}function iu(t,n,r,e){var i=Ha(t)||No(t);if(n=me(n,e,4),null==r)if(i||Ao(t)){var o=t.constructor;r=i?Ha(t)?new o:[]:Fa(tf(o)&&o.prototype)
}else r={};return(i?nr:Or)(t,function(t,e,i){return n(r,t,e,i)}),r}function ou(t){return Kr(t,ef(t))}function uu(t){return Kr(t,Ho(t))}function au(t,n,r){return n=+n||0,"undefined"==typeof r?(r=n,n=0):r=+r||0,t>=n&&r>t}function fu(t,n,r){r&&Se(t,n,r)&&(n=r=null);var e=null==t,i=null==n;if(null==r&&(i&&"boolean"==typeof t?(r=t,t=1):"boolean"==typeof n&&(r=n,i=!0)),e&&i&&(n=1,i=!1),t=+t||0,i?(n=t,t=0):n=+n||0,r||t%1||n%1){var o=ja();return Sa(t+o*(n-t+parseFloat("1e-"+((o+"").length-1))),n)}return Yr(t,n)}function su(t){return t=a(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function cu(t){return t=a(t),t&&t.replace(jn,p)}function lu(t,n,r){t=a(t),n+="";var e=t.length;return r=("undefined"==typeof r?e:Sa(0>r?0:+r||0,e))-n.length,r>=0&&t.indexOf(n,r)==r}function hu(t){return t=a(t),t&&wn.test(t)?t.replace(_n,v):t}function pu(t){return t=a(t),t&&Mn.test(t)?t.replace(Cn,"\\$&"):t}function vu(t,n,r){t=a(t),n=+n;var e=t.length;if(e>=n||!za(n))return t;var i=(n-e)/2,o=la(i),u=sa(i);return r=le("",u,r),r.slice(0,o)+t+r}function du(t,n,r){return t=a(t),t&&le(t,n,r)+t}function yu(t,n,r){return t=a(t),t&&t+le(t,n,r)}function gu(t,n,r){return r&&Se(t,n,r)&&(n=0),Aa(t,n)}function mu(t,n){var r="";if(t=a(t),n=+n,1>n||!t||!za(n))return r;do n%2&&(r+=t),n=la(n/2),t+=t;while(n);return r}function _u(t,n,r){return t=a(t),r=null==r?0:Sa(0>r?0:+r||0,t.length),t.lastIndexOf(n,r)==r}function xu(t,r,e){var i=n.templateSettings;e&&Se(t,r,e)&&(r=e=null),t=a(t),r=pr(pr({},e||r),i,hr);var o,u,f=pr(pr({},r.imports),i.imports,hr),s=ef(f),c=Kr(f,s),l=0,h=r.interpolate||On,p="__p += '",v=Xu((r.escape||On).source+"|"+h.source+"|"+(h===kn?En:On).source+"|"+(r.evaluate||On).source+"|$","g"),y="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++Un+"]")+"\n";t.replace(v,function(n,r,e,i,a,f){return e||(e=i),p+=t.slice(l,f).replace(Pn,d),r&&(o=!0,p+="' +\n__e("+r+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),e&&(p+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=f+n.length,n}),p+="';\n";var g=r.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(dn,""):p).replace(yn,"$1").replace(gn,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Ru(function(){return Bu(s,y+"return "+p).apply(E,c)});if(m.source=p,To(m))throw m;return m}function wu(t,n,r){var e=t;return(t=a(t))?(r?Se(e,n,r):null==n)?t.slice(w(t),b(t)+1):(n+="",t.slice(s(t,n),c(t,n)+1)):t}function bu(t,n,r){var e=t;return t=a(t),t?t.slice((r?Se(e,n,r):null==n)?w(t):s(t,n+"")):t}function zu(t,n,r){var e=t;return t=a(t),t?(r?Se(e,n,r):null==n)?t.slice(0,b(t)+1):t.slice(0,c(t,n+"")+1):t}function ku(t,n,r){r&&Se(t,n,r)&&(n=null);var e=L,i=N;if(null!=n)if(Ao(n)){var o="separator"in n?n.separator:o;e="length"in n?+n.length||0:e,i="omission"in n?a(n.omission):i}else e=+n||0;if(t=a(t),e>=t.length)return t;var u=e-i.length;if(1>u)return i;var f=t.slice(0,u);if(null==o)return f+i;if(Po(o)){if(t.slice(u).search(o)){var s,c,l=t.slice(0,u);for(o.global||(o=Xu(o.source,(Sn.exec(o)||"")+"g")),o.lastIndex=0;s=o.exec(l);)c=s.index;f=f.slice(0,null==c?u:c)}}else if(t.indexOf(o,u)!=u){var h=f.lastIndexOf(o);h>-1&&(f=f.slice(0,h))}return f+i}function Eu(t){return t=a(t),t&&xn.test(t)?t.replace(mn,z):t}function Su(t,n,r){return r&&Se(t,n,r)&&(n=null),t=a(t),t.match(n||Ln)||[]}function Ru(){var t=arguments.length,n=arguments[0];try{for(var r=Du(t?t-1:0);--t>0;)r[t-1]=arguments[t];return n.apply(E,r)}catch(e){return To(e)?e:new $u(e)}}function Tu(t,n,r){return r&&Se(t,n,r)&&(n=null),g(t)?Ou(t):gr(t,n)}function Au(t){return function(){return t}}function ju(t){return t}function Ou(t){return Ur(mr(t,!0))}function Cu(t,n){return Fr(t+"",mr(n,!0))}function Mu(t,n,r){if(null==r){var e=Ao(n),i=e&&ef(n),o=i&&i.length&&Mr(n,i);(o?o.length:e)||(o=!1,r=n,n=t,t=this)}o||(o=Mr(n,ef(n)));var u=!0,a=-1,f=tf(t),s=o.length;r===!1?u=!1:Ao(r)&&"chain"in r&&(u=r.chain);for(;++a<s;){var c=o[a],l=n[c];t[c]=l,f&&(t.prototype[c]=function(n){return function(){var r=this.__chain__;if(u||r){var e=t(this.__wrapped__);return(e.__actions__=tr(this.__actions__)).push({func:n,args:arguments,thisArg:t}),e.__chain__=r,e}var i=[this.value()];return pa.apply(i,arguments),n.apply(t,i)}}(l))}return t}function Iu(){return t._=oa,this}function Pu(){}function Lu(t){return $r(t+"")}function Nu(t){return function(n){return null==t?E:t[n]}}function Wu(t,n,r){r&&Se(t,n,r)&&(n=r=null),t=+t||0,r=null==r?1:+r||0,null==n?(n=t,t=0):n=+n||0;for(var e=-1,i=Ea(sa((n-t)/(r||1)),0),o=Du(i);++e<i;)o[e]=t,t+=r;return o}function Uu(t,n,r){if(t=+t,1>t||!za(t))return[];var e=-1,i=Du(Sa(t,Ma));for(n=te(n,r,1);++e<t;)Ma>e?i[e]=n(e):n(e);return i}function Fu(t){var n=++ea;return a(t)+n}t=t?Zn.defaults(Xn.Object(),t,Zn.pick(Xn,Wn)):Xn;var Du=t.Array,qu=t.Date,$u=t.Error,Bu=t.Function,Yu=t.Math,Qu=t.Number,Vu=t.Object,Xu=t.RegExp,Ju=t.String,Ku=t.TypeError,Gu=Du.prototype,Hu=Vu.prototype,Zu=(Zu=t.window)&&Zu.document,ta=Bu.prototype.toString,na=$r("length"),ra=Hu.hasOwnProperty,ea=0,ia=Hu.toString,oa=t._,ua=Xu("^"+pu(ia).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=Co(aa=t.ArrayBuffer)&&aa,fa=Co(fa=aa&&new aa(0).slice)&&fa,sa=Yu.ceil,ca=t.clearTimeout,la=Yu.floor,ha=Co(ha=Vu.getPrototypeOf)&&ha,pa=Gu.push,va=Hu.propertyIsEnumerable,da=Co(da=t.Set)&&da,ya=t.setTimeout,ga=Gu.splice,ma=Co(ma=t.Uint8Array)&&ma,_a=Co(_a=t.WeakMap)&&_a,xa=function(){try{var n=Co(n=t.Float64Array)&&n,r=new n(new aa(10),0,1)&&n}catch(e){}return r}(),wa=Co(wa=Du.isArray)&&wa,ba=Co(ba=Vu.create)&&ba,za=t.isFinite,ka=Co(ka=Vu.keys)&&ka,Ea=Yu.max,Sa=Yu.min,Ra=Co(Ra=qu.now)&&Ra,Ta=Co(Ta=Qu.isFinite)&&Ta,Aa=t.parseInt,ja=Yu.random,Oa=Qu.NEGATIVE_INFINITY,Ca=Qu.POSITIVE_INFINITY,Ma=Yu.pow(2,32)-1,Ia=Ma-1,Pa=Ma>>>1,La=xa?xa.BYTES_PER_ELEMENT:0,Na=Yu.pow(2,53)-1,Wa=_a&&new _a,Ua=n.support={};!function(){Ua.funcDecomp=!Co(t.WinRTError)&&In.test(k),Ua.funcNames="string"==typeof Bu.name;try{Ua.dom=11===Zu.createDocumentFragment().nodeType}catch(n){Ua.dom=!1}try{Ua.nonEnumArgs=!va.call(arguments,1)}catch(n){Ua.nonEnumArgs=!0}}(0,0),n.templateSettings={escape:bn,evaluate:zn,interpolate:kn,variable:"",imports:{_:n}};var Fa=function(){function n(){}return function(r){if(Ao(r)){n.prototype=r;var e=new n;n.prototype=null}return e||t.Object()}}(),Da=Wa?function(t,n){return Wa.set(t,n),t}:ju;fa||(ne=aa&&ma?function(t){var n=t.byteLength,r=xa?la(n/La):0,e=r*La,i=new aa(n);if(r){var o=new xa(i,0,r);o.set(new xa(t,0,r))}return n!=e&&(o=new ma(i,e),o.set(new ma(t,e))),i}:Au(null));var qa=ba&&da?function(t){return new Kn(t)}:Au(null),$a=Wa?function(t){return Wa.get(t)}:Pu,Ba=function(){var t=0,n=0;return function(r,e){var i=Ga(),o=U-(i-n);if(n=i,o>0){if(++t>=W)return r}else t=0;return Da(r,e)}}(),Ya=ie(function(t,n,r){ra.call(t,r)?++t[r]:t[r]=1}),Qa=ie(function(t,n,r){ra.call(t,r)?t[r].push(n):t[r]=[n]}),Va=ie(function(t,n,r){t[r]=n}),Xa=se(ur),Ja=se(ar,!0),Ka=ie(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),Ga=Ra||function(){return(new qu).getTime()},Ha=wa||function(t){return g(t)&&Re(t.length)&&ia.call(t)==Q||!1};Ua.dom||(Eo=function(t){return t&&1===t.nodeType&&g(t)&&!nf(t)||!1});var Za=Ta||function(t){return"number"==typeof t&&za(t)},tf=o(/x/)||ma&&!o(ma)?function(t){return ia.call(t)==K}:o,nf=ha?function(t){if(!t||ia.call(t)!=Z)return!1;var n=t.valueOf,r=Co(n)&&(r=ha(n))&&ha(r);return r?t==r||ha(t)==r:Me(t)}:Me,rf=oe(pr),ef=ka?function(t){if(t)var n=t.constructor,r=t.length;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&r&&Re(r)?Ie(t):Ao(t)?ka(t):[]}:Ie,of=oe(Dr),uf=ae(function(t,n,r){return n=n.toLowerCase(),t+(r?n.charAt(0).toUpperCase()+n.slice(1):n)}),af=ae(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()});8!=Aa(Nn+"08")&&(gu=function(t,n,r){return(r?Se(t,n,r):null==n)?n=0:n&&(n=+n),t=wu(t),Aa(t,n||(Tn.test(t)?16:10))});var ff=ae(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),sf=ae(function(t,n,r){return t+(r?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))});return n.prototype=r.prototype,m.prototype=Fa(r.prototype),m.prototype.constructor=m,G.prototype=Fa(r.prototype),G.prototype.constructor=G,Bn.prototype["delete"]=Yn,Bn.prototype.get=Qn,Bn.prototype.has=Vn,Bn.prototype.set=Jn,Kn.prototype.push=Hn,co.Cache=Bn,n.after=Gi,n.ary=Hi,n.assign=rf,n.at=Ai,n.before=Zi,n.bind=to,n.bindAll=no,n.bindKey=ro,n.callback=Tu,n.chain=xi,n.chunk=We,n.compact=Ue,n.constant=Au,n.countBy=Ya,n.create=Do,n.curry=eo,n.curryRight=io,n.debounce=oo,n.defaults=qo,n.defer=uo,n.delay=ao,n.difference=Fe,n.drop=De,n.dropRight=qe,n.dropRightWhile=$e,n.dropWhile=Be,n.fill=Ye,n.filter=Oi,n.flatten=Je,n.flattenDeep=Ke,n.flow=fo,n.flowRight=so,n.forEach=Pi,n.forEachRight=Li,n.forIn=Yo,n.forInRight=Qo,n.forOwn=Vo,n.forOwnRight=Xo,n.functions=Jo,n.groupBy=Qa,n.indexBy=Va,n.initial=He,n.intersection=Ze,n.invert=Go,n.invoke=Wi,n.keys=ef,n.keysIn=Ho,n.map=Ui,n.mapValues=Zo,n.matches=Ou,n.matchesProperty=Cu,n.memoize=co,n.merge=of,n.mixin=Mu,n.negate=lo,n.omit=tu,n.once=ho,n.pairs=nu,n.partial=po,n.partialRight=vo,n.partition=Ka,n.pick=ru,n.pluck=Fi,n.property=Lu,n.propertyOf=Nu,n.pull=ri,n.pullAt=ei,n.range=Wu,n.rearg=yo,n.reject=$i,n.remove=ii,n.rest=oi,n.shuffle=Yi,n.slice=ui,n.sortBy=Xi,n.sortByAll=Ji,n.spread=go,n.take=si,n.takeRight=ci,n.takeRightWhile=li,n.takeWhile=hi,n.tap=wi,n.throttle=mo,n.thru=bi,n.times=Uu,n.toArray=Uo,n.toPlainObject=Fo,n.transform=iu,n.union=pi,n.uniq=vi,n.unzip=di,n.values=ou,n.valuesIn=uu,n.where=Ki,n.without=yi,n.wrap=_o,n.xor=gi,n.zip=mi,n.zipObject=_i,n.backflow=so,n.collect=Ui,n.compose=so,n.each=Pi,n.eachRight=Li,n.extend=rf,n.iteratee=Tu,n.methods=Jo,n.object=_i,n.select=Oi,n.tail=oi,n.unique=vi,Mu(n,n),n.attempt=Ru,n.camelCase=uf,n.capitalize=su,n.clone=xo,n.cloneDeep=wo,n.deburr=cu,n.endsWith=lu,n.escape=hu,n.escapeRegExp=pu,n.every=ji,n.find=Ci,n.findIndex=Qe,n.findKey=$o,n.findLast=Mi,n.findLastIndex=Ve,n.findLastKey=Bo,n.findWhere=Ii,n.first=Xe,n.has=Ko,n.identity=ju,n.includes=Ni,n.indexOf=Ge,n.inRange=au,n.isArguments=bo,n.isArray=Ha,n.isBoolean=zo,n.isDate=ko,n.isElement=Eo,n.isEmpty=So,n.isEqual=Ro,n.isError=To,n.isFinite=Za,n.isFunction=tf,n.isMatch=jo,n.isNaN=Oo,n.isNative=Co,n.isNull=Mo,n.isNumber=Io,n.isObject=Ao,n.isPlainObject=nf,n.isRegExp=Po,n.isString=Lo,n.isTypedArray=No,n.isUndefined=Wo,n.kebabCase=af,n.last=ti,n.lastIndexOf=ni,n.max=Xa,n.min=Ja,n.noConflict=Iu,n.noop=Pu,n.now=Ga,n.pad=vu,n.padLeft=du,n.padRight=yu,n.parseInt=gu,n.random=fu,n.reduce=Di,n.reduceRight=qi,n.repeat=mu,n.result=eu,n.runInContext=k,n.size=Qi,n.snakeCase=ff,n.some=Vi,n.sortedIndex=ai,n.sortedLastIndex=fi,n.startCase=sf,n.startsWith=_u,n.template=xu,n.trim=wu,n.trimLeft=bu,n.trimRight=zu,n.trunc=ku,n.unescape=Eu,n.uniqueId=Fu,n.words=Su,n.all=ji,n.any=Vi,n.contains=Ni,n.detect=Ci,n.foldl=Di,n.foldr=qi,n.head=Xe,n.include=Ni,n.inject=Di,Mu(n,function(){var t={};return Or(n,function(r,e){n.prototype[e]||(t[e]=r)}),t}(),!1),n.sample=Bi,n.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return Bi(n,t)}):Bi(this.value())},n.VERSION=S,nr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),nr(["filter","map","takeWhile"],function(t,n){var r=n==F,e=n==q;G.prototype[t]=function(t,i){var o=this.clone(),u=o.__filtered__,a=o.__iteratees__||(o.__iteratees__=[]);return o.__filtered__=u||r||e&&o.__dir__<0,a.push({iteratee:me(t,i,3),type:n}),o}}),nr(["drop","take"],function(t,n){var r="__"+t+"Count__",e=t+"While";G.prototype[t]=function(e){e=null==e?1:Ea(la(e)||0,0);var i=this.clone();if(i.__filtered__){var o=i[r];i[r]=n?Sa(o,e):o+e}else{var u=i.__views__||(i.__views__=[]);u.push({size:e,type:t+(i.__dir__<0?"Right":"")})}return i},G.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()},G.prototype[t+"RightWhile"]=function(t,n){return this.reverse()[e](t,n).reverse()}}),nr(["first","last"],function(t,n){var r="take"+(n?"Right":"");G.prototype[t]=function(){return this[r](1).value()[0]}}),nr(["initial","rest"],function(t,n){var r="drop"+(n?"":"Right");G.prototype[t]=function(){return this[r](1)}}),nr(["pluck","where"],function(t,n){var r=n?"filter":"map",e=n?Ur:$r;G.prototype[t]=function(t){return this[r](e(t))}}),G.prototype.compact=function(){return this.filter(ju)},G.prototype.dropWhile=function(t,n){var r;return t=me(t,n,3),this.filter(function(n,e,i){return r||(r=!t(n,e,i))})},G.prototype.reject=function(t,n){return t=me(t,n,3),this.filter(function(n,r,e){return!t(n,r,e)})},G.prototype.slice=function(t,n){t=null==t?0:+t||0;var r=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof n&&(n=+n||0,r=0>n?r.dropRight(-n):r.take(n-t)),r},G.prototype.toArray=function(){return this.drop(0)},Or(G.prototype,function(t,r){var e=n[r],i=/^(?:first|last)$/.test(r);n.prototype[r]=function(){var r=this.__wrapped__,o=arguments,u=this.__chain__,a=!!this.__actions__.length,f=r instanceof G,s=f&&!a;if(i&&!u)return s?t.call(r):e.call(n,this.value());var c=function(t){var r=[t];return pa.apply(r,o),e.apply(n,r)};if(f||Ha(r)){var l=s?r:new G(this),h=t.apply(l,o);if(!i&&(a||h.__actions__)){var p=h.__actions__||(h.__actions__=[]);p.push({func:bi,args:[c],thisArg:n})}return new m(h,u)}return this.thru(c)}}),nr(["concat","join","pop","push","shift","sort","splice","unshift"],function(t){var r=Gu[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?r.apply(this.value(),t):this[e](function(n){return r.apply(n,t)})}}),G.prototype.clone=nn,G.prototype.reverse=en,G.prototype.value=$n,n.prototype.chain=zi,n.prototype.commit=ki,n.prototype.plant=Ei,n.prototype.reverse=Si,n.prototype.toString=Ri,n.prototype.run=n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Ti,n.prototype.collect=n.prototype.map,n.prototype.head=n.prototype.first,n.prototype.select=n.prototype.filter,n.prototype.tail=n.prototype.rest,n}var E,S="3.3.0",R=1,T=2,A=4,j=8,O=16,C=32,M=64,I=128,P=256,L=30,N="...",W=150,U=16,F=0,D=1,q=2,$="Expected a function",B="__lodash_placeholder__",Y="[object Arguments]",Q="[object Array]",V="[object Boolean]",X="[object Date]",J="[object Error]",K="[object Function]",G="[object Map]",H="[object Number]",Z="[object Object]",tn="[object RegExp]",nn="[object Set]",rn="[object String]",en="[object WeakMap]",on="[object ArrayBuffer]",un="[object Float32Array]",an="[object Float64Array]",fn="[object Int8Array]",sn="[object Int16Array]",cn="[object Int32Array]",ln="[object Uint8Array]",hn="[object Uint8ClampedArray]",pn="[object Uint16Array]",vn="[object Uint32Array]",dn=/\b__p \+= '';/g,yn=/\b(__p \+=) '' \+/g,gn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mn=/&(?:amp|lt|gt|quot|#39|#96);/g,_n=/[&<>"'`]/g,xn=RegExp(mn.source),wn=RegExp(_n.source),bn=/<%-([\s\S]+?)%>/g,zn=/<%([\s\S]+?)%>/g,kn=/<%=([\s\S]+?)%>/g,En=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sn=/\w*$/,Rn=/^\s*function[ \n\r\t]+\w/,Tn=/^0[xX]/,An=/^\[object .+?Constructor\]$/,jn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,On=/($^)/,Cn=/[.*+?^${}()|[\]\/\\]/g,Mn=RegExp(Cn.source),In=/\bthis\b/,Pn=/['\n\r\u2028\u2029\\]/g,Ln=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"{2,}(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")}(),Nn=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Wn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Un=-1,Fn={};Fn[un]=Fn[an]=Fn[fn]=Fn[sn]=Fn[cn]=Fn[ln]=Fn[hn]=Fn[pn]=Fn[vn]=!0,Fn[Y]=Fn[Q]=Fn[on]=Fn[V]=Fn[X]=Fn[J]=Fn[K]=Fn[G]=Fn[H]=Fn[Z]=Fn[tn]=Fn[nn]=Fn[rn]=Fn[en]=!1;var Dn={};Dn[Y]=Dn[Q]=Dn[on]=Dn[V]=Dn[X]=Dn[un]=Dn[an]=Dn[fn]=Dn[sn]=Dn[cn]=Dn[H]=Dn[Z]=Dn[tn]=Dn[rn]=Dn[ln]=Dn[hn]=Dn[pn]=Dn[vn]=!0,Dn[J]=Dn[K]=Dn[G]=Dn[nn]=Dn[en]=!1;var qn={leading:!1,maxWait:0,trailing:!1},$n={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Yn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Qn={"function":!0,object:!0},Vn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xn=Qn[typeof window]&&window!==(this&&this.window)?window:this,Jn=Qn[typeof r]&&r&&!r.nodeType&&r,Kn=Qn[typeof n]&&n&&!n.nodeType&&n,Gn=Jn&&Kn&&"object"==typeof t&&t;!Gn||Gn.global!==Gn&&Gn.window!==Gn&&Gn.self!==Gn||(Xn=Gn);var Hn=Kn&&Kn.exports===Jn&&Jn,Zn=k();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Xn._=Zn,define(function(){return Zn})):Jn&&Kn?Hn?(Kn.exports=Zn)._=Zn:Jn._=Zn:Xn._=Zn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,n){"use strict";function r(t){return new u(t.clientX,t.clientY)}var e,i=t("./Renderer"),o=t("./Stroke"),u=t("./Point"),a=t("./Color"),f=t("./Transform");!function(t){t[t.None=0]="None",t[t.Pressed=1]="Pressed",t[t.Pinching=2]="Pinching"}(e||(e={}));var s=function(){function t(){this.interactionState=0,this.transform=f.identity(),this.initialTransform=f.identity(),this.isStroking=!1,this.strokeWidth=2,this.strokeColor=new a(0,0,0,1),this.renderer=new i,this.currentStrokeRenderer=new i;var t=this.view=document.createElement("div");t.style.width="100%",t.style.height="100%",t.appendChild(this.renderer.view),t.appendChild(this.currentStrokeRenderer.view),t.addEventListener("mousemove",this.onMouseMove.bind(this)),t.addEventListener("mousedown",this.onMouseDown.bind(this)),t.addEventListener("mouseup",this.onMouseUp.bind(this)),t.addEventListener("touchmove",this.onTouchMove.bind(this)),t.addEventListener("touchstart",this.onTouchStart.bind(this)),t.addEventListener("touchend",this.onTouchEnd.bind(this)),t.addEventListener("wheel",this.onWheel.bind(this))}return t.prototype.pinchStart=function(t){this.interactionState=2,this.pinchStartPoints=t,this.initialTransform=this.transform},t.prototype.pinchMove=function(t){2!==this.interactionState&&this.pinchStart(t);var n=t[0].sub(t[1]).length/this.pinchStartPoints[0].sub(this.pinchStartPoints[1]).length,r=this.pinchStartPoints[0].add(this.pinchStartPoints[1]).mul(.5),e=t[0].add(t[1]).mul(.5),i=e.sub(r.mul(n)),o=f.scale(n).merge(f.translation(i)),o=this.initialTransform.merge(o);this.updateTransform(o),this.renderer.update()},t.prototype.pinchEnd=function(){this.interactionState=0},t.prototype.pressStart=function(t){this.interactionState=1,t=t.transform(this.transform.invert());var n=this.currentStroke=new o;n.width=this.strokeWidth,n.color=this.strokeColor,n.points.push(t),this.currentStrokeRenderer.strokes=[n]},t.prototype.pressMove=function(t){1===this.interactionState&&(t=t.transform(this.transform.invert()),this.currentStroke.points.push(t),this.currentStrokeRenderer.update())},t.prototype.pressEnd=function(){var t=this;1===this.interactionState&&(this.renderer.strokes.push(this.currentStroke),requestAnimationFrame(function(){t.renderer.drawOther(t.currentStrokeRenderer),t.currentStrokeRenderer.strokes=[],t.currentStrokeRenderer.clear()}),this.interactionState=0)},t.prototype.updateTransform=function(t){this.transform=t,this.renderer.transform=t,this.currentStrokeRenderer.transform=t},t.prototype.onMouseMove=function(t){this.pressMove(new u(t.clientX,t.clientY))},t.prototype.onMouseDown=function(t){this.pressStart(new u(t.clientX,t.clientY))},t.prototype.onMouseUp=function(){this.pressEnd()},t.prototype.onTouchMove=function(t){if(1===t.touches.length){var n=t.touches[0];this.pressMove(r(n))}else 2===t.touches.length&&this.pinchMove([0,1].map(function(n){return r(t.touches[n])}));t.preventDefault()},t.prototype.onTouchStart=function(t){if(1===t.touches.length){var n=t.touches[0];this.pressStart(r(n))}else 2===t.touches.length&&this.pinchStart([0,1].map(function(n){return r(t.touches[n])}));t.preventDefault()},t.prototype.onTouchEnd=function(t){this.pressEnd(),this.pinchEnd(),t.preventDefault()},t.prototype.onWheel=function(t){var n=this.transform.translate(new u(-t.deltaX,-t.deltaY));this.updateTransform(n),this.renderer.update(),t.preventDefault()},t}();n.exports=s},{"./Color":4,"./Point":6,"./Renderer":8,"./Stroke":9,"./Transform":10}],4:[function(t,n){"use strict";var r=function(){function t(t,n,r,e){this.r=t,this.g=n,this.b=r,this.a=e}return t.prototype.toString=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},t}();n.exports=r},{}],5:[function(t,n){"use strict";var r=t("./Point"),e=t("./Rect"),i=t("./vendor/bezier"),o=function(){function t(t,n,r,e){this.start=t,this.control1=n,this.control2=r,this.end=e}return t.prototype.boundingRect=function(){var t=new i([this.start,this.control1,this.control2,this.end]),n=t.bbox();return new e(new r(n.x.min,n.y.min),new r(n.x.max,n.y.max))},t.catmullRom=function(n,r,e,i){return new t(r,r.add(e.sub(n).div(6)),e.sub(i.sub(r).div(6)),e)},t.bSpline=function(n,r,e,i){return new t(n.add(r.mul(4)).add(e).div(6),r.mul(2).add(e).div(3),e.mul(2).add(r).div(3),i.add(e.mul(4)).add(r).div(6))},t}();n.exports=o},{"./Point":6,"./Rect":7,"./vendor/bezier":11}],6:[function(t,n){"use strict";var r=function(){function t(t,n){this.x=t,this.y=n}return t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y)},t.prototype.sub=function(n){return new t(this.x-n.x,this.y-n.y)},t.prototype.mul=function(n){return new t(this.x*n,this.y*n)},t.prototype.div=function(n){return new t(this.x/n,this.y/n)},Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!0,configurable:!0}),t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t.prototype.ceil=function(){return new t(Math.ceil(this.x),Math.ceil(this.y))},t.prototype.transform=function(n){var r=n.m11*this.x+n.m21*this.y+n.dx,e=n.m12*this.x+n.m22*this.y+n.dy;return new t(r,e)},t.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},t}();n.exports=r},{}],7:[function(t,n){"use strict";var r=t("./Point"),e=function(){function t(t,n){this.min=t,this.max=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this.min.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.min.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.max.x-this.min.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.max.y-this.min.y},enumerable:!0,configurable:!0}),t.prototype.union=function(n){var e=new r(Math.min(this.min.x,n.min.x),Math.min(this.min.y,n.min.y)),i=new r(Math.max(this.max.x,n.max.x),Math.max(this.max.y,n.max.y));return new t(e,i)},t.prototype.outset=function(n){var e=new r(n,n);return new t(this.min.sub(e),this.max.add(e))},t.prototype.transform=function(n){var r=this.min.transform(n),e=this.max.transform(n);return t.fromPoints(r,e)},t.prototype.boundingIntegerRect=function(){return new t(this.min.floor(),this.max.ceil())},t.prototype.toString=function(){return"Rect("+this.min+","+this.max+")"},t.fromPoints=function(n,e){var i=new r(Math.min(n.x,e.x),Math.min(n.y,e.y)),o=new r(Math.max(n.x,e.x),Math.max(n.y,e.y));return new t(i,o)},t.empty=function(){return new t(new r(0,0),new r(0,0))},t}();n.exports=e},{"./Point":6}],8:[function(t,n){"use strict";var r=t("./Transform"),e=function(){function t(){this.strokes=[],this.isRenderQueued=!1,this.devicePixelRatio=1,this.transform=r.identity(),this.width=0,this.height=0;var t=this.view=document.createElement("canvas"),n=t.style;n.webkitTransform=n.transform="translate3d(0,0,0)",this.context=this.view.getContext("2d"),window.addEventListener("resize",this.onResize.bind(this)),this.onResize()}return t.prototype.add=function(t){this.strokes.push(t)},t.prototype.update=function(){var t=this;this.isRenderQueued||(this.isRenderQueued=!0,requestAnimationFrame(function(){t.clear(),t.render(),t.isRenderQueued=!1}))},t.prototype.clear=function(){this.clearTransform(),this.context.clearRect(0,0,this.width*this.devicePixelRatio,this.height*this.devicePixelRatio),this.setTransform()},t.prototype.clearStrokes=function(){this.clearTransform();var t=this.strokes.map(function(t){return t.boundingRect()}).reduce(function(t,n){return t.union(n)}).transform(this.createTransform()).boundingIntegerRect();console.log("clearing "+t),this.context.clearRect(t.x,t.y,t.width,t.height),this.setTransform()},t.prototype.drawOther=function(t){this.clearTransform(),this.context.drawImage(t.view,0,0),this.setTransform()},t.prototype.render=function(){this.strokes.forEach(this.renderStroke.bind(this))},t.prototype.renderStroke=function(t,n){void 0===n&&(n=!0);var r=t.points.length;if(0!==r){var e=this.context;if(e.globalCompositeOperation=t.composition,e.lineCap="round",e.lineJoin="round",this.setTransform(),1===r){var i=t.points[0];e.fillStyle=t.color.toString(),e.beginPath(),e.arc(i.x,i.y,t.width/2,0,2*Math.PI),e.fill()}r>1&&(e.lineWidth=t.width,e.strokeStyle=t.color.toString(),e.beginPath(),t.points.forEach(function(n,r){if(0===r)e.moveTo(n.x,n.y);else{var i=t.curveAt(r);e.bezierCurveTo(i.control1.x,i.control1.y,i.control2.x,i.control2.y,i.end.x,i.end.y)}}),e.stroke())}},t.prototype.clearTransform=function(){this.context.setTransform(1,0,0,1,0,0)},t.prototype.createTransform=function(){return this.transform.merge(r.scale(this.devicePixelRatio))},t.prototype.setTransform=function(){var t=this.createTransform();this.context.setTransform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy)},t.prototype.onResize=function(){var t=this.width=window.innerWidth,n=this.height=window.innerHeight,r=this.devicePixelRatio=window.devicePixelRatio||1;console.log("resized to "+t+" * "+n+", pixel ratio "+r),this.view.width=t*r,this.view.height=n*r,this.update()},t}();n.exports=e},{"./Transform":10}],9:[function(t,n){"use strict";var r=t("./Point"),e=t("./Curve"),i=t("./Color"),o=t("./Rect"),u=t("lodash"),a=function(){function t(){this.points=[],this.color=new i(0,0,0,1),this.composition="source-over",this.width=1}return t.prototype.toCurves=function(){var t=this;return this.points.length<=1?[]:u.times(this.points.length-1,function(n){return t.curveAt(n+1)})},t.prototype.boundingRect=function(){if(0===this.points.length)return o.empty();if(1===this.points.length){var t=this.points[0],n=.5*this.width;return new o(t.sub(new r(n,n)),t.add(new r(n,n)))}return this.toCurves().map(function(t){return t.boundingRect()}).reduce(function(t,n){return t.union(n)}).outset(.5*this.width)},t.prototype.curveAt=function(t){var n=this.points[t-2],r=this.points[t-1],i=this.points[t],o=this.points[t+1];return e.bSpline(n||r,r,i,o||i)},t}();n.exports=a},{"./Color":4,"./Curve":5,"./Point":6,"./Rect":7,lodash:2}],10:[function(t,n){"use strict";var r=function(){function t(t,n,r,e,i,o){this.m11=t,this.m12=n,this.m21=r,this.m22=e,this.dx=i,this.dy=o}return t.prototype.merge=function(n){var r=n.m11*this.m11+n.m21*this.m12,e=n.m11*this.m21+n.m21*this.m22,i=n.m12*this.m11+n.m22*this.m12,o=n.m12*this.m21+n.m22*this.m22,u=n.m11*this.dx+n.m21*this.dy+n.dx,a=n.m12*this.dx+n.m22*this.dy+n.dy;return new t(r,e,i,o,u,a)},t.prototype.invert=function(){var n=this.m11*this.m22-this.m12*this.m21,r=this.m22/n,e=-this.m12/n,i=-this.m21/n,o=this.m11/n,u=-(r*this.dx+i*this.dy),a=-(e*this.dx+o*this.dy);return new t(r,e,i,o,u,a)},t.prototype.translate=function(n){return new t(this.m11,this.m12,this.m21,this.m22,this.dx+n.x,this.dy+n.y)},t.prototype.scale=function(n){return new t(this.m11*n,this.m12*n,this.m21*n,this.m22*n,this.dx*n,this.dy*n)},t.identity=function(){return new t(1,0,0,1,0,0)},t.scale=function(n){return new t(n,0,0,n,0,0)},t.translation=function(n){return new t(1,0,0,1,n.x,n.y)},t}();n.exports=r},{}],11:[function(n,r){!function(){"use strict";var n=Math.abs,e=Math.min,i=Math.max,o=Math.cos,u=Math.sin,a=Math.acos,f=(Math.asin,Math.atan2),s=Math.sqrt,c=function(t){return 0>t?-Math.pow(-t,1/3):Math.pow(t,1/3)},l=Math.PI,h=2*l,p={x:0,y:0,z:0},v={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,n,r){var e=r(n);return e=e.x*e.x+e.y*e.y,"undefined"!=typeof e.z&&(e+=e.z*e.z),s(e)},length:function(t,n){var r,e,i=.5,o=0,u=this.Tvalues.length;for(r=0;u>r;r++)e=i*this.Tvalues[r]+i,o+=this.Cvalues[r]*this.arcfn(t,e,n);return i*o},map:function(t,n,r,e,i){var o=r-n,u=i-e,a=t-n,f=a/o;return e+u*f},lerp:function(t,n,r){var e={x:n.x+t*(r.x-n.x),y:n.y+t*(r.y-n.y)};return n.z&&r.z&&(e.z=n.z+t*(r.z-n.z)),e},pointToString:function(t){var n=t.x+"/"+t.y;return"undefined"!=typeof t.z&&(n+="/"+t.z),n},pointsToString:function(t){return"["+t.map(this.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,n,r){var e,i=n.x-t.x,o=n.y-t.y,u=r.x-t.x,a=r.y-t.y,c=i*a-o*u,l=s(i*i+o*o),h=s(u*u+a*a);return i/=l,o/=l,u/=h,a/=h,e=i*u+o*a,f(c,e)},lli8:function(t,n,r,e,i,o,u,a){var f=(t*e-n*r)*(i-u)-(t-r)*(i*a-o*u),s=(t*e-n*r)*(o-a)-(n-e)*(i*a-o*u),c=(t-r)*(o-a)-(n-e)*(i-u);return 0==c?!1:{x:f/c,y:s/c}},lli4:function(t,n,r,e){var i=t.x,o=t.y,u=n.x,a=n.y,f=r.x,s=r.y,c=e.x,l=e.y;return this.lli8(i,o,u,a,f,s,c,l)},lli:function(t,n){return this.lli4(t,t.c,n,n.c)},makeline:function(t,n){var r=t.x,e=t.y,i=n.x,o=n.y,u=(i-r)/3,a=(o-e)/3;return new y(r,e,r+u,e+a,r+2*u,e+2*a,i,o)},findbbox:function(t){var n=99999999,r=n,e=-n,i=e;return t.forEach(function(t){var o=t.bbox();n>o.x.min&&(n=o.x.min),r>o.y.min&&(r=o.y.min),e<o.x.max&&(e=o.x.max),i<o.y.max&&(i=o.y.max)}),{x:{min:n,mid:(n+e)/2,max:e,size:e-n},y:{min:r,mid:(r+i)/2,max:i,size:i-r}}},shapeintersections:function(t,n,r,e){if(!this.bboxoverlap(n,e))return[];var i=[],o=[t.startcap,t.forward,t.back,t.endcap],u=[r.startcap,r.forward,r.back,r.endcap];return o.forEach(function(n){n.virtual||u.forEach(function(e){if(!e.virtual){var o=n.intersects(e);o.length>0&&(o.c1=n,o.c2=e,o.s1=t,o.s2=r,i.push(o))}})}),i},makeshape:function(t,n){var r=n.points.length,e=t.points.length,i=this.makeline(n.points[r-1],t.points[0]),o=this.makeline(t.points[e-1],n.points[0]),u={startcap:i,forward:t,back:n,endcap:o,bbox:this.findbbox([i,t,n,o])},a=this;return u.intersections=function(t){return a.shapeintersections(u,u.bbox,t,t.bbox)},u},getminmax:function(t,n,r){if(!r)return{min:0,max:0};var e,i,o=0x10000000000000000,u=-o;-1===r.indexOf(0)&&(r=[0].concat(r)),-1===r.indexOf(1)&&r.push(1);for(var a=0,f=r.length;f>a;a++)e=r[a],i=t.get(e),i[n]<o&&(o=i[n]),i[n]>u&&(u=i[n]);return{min:o,mid:(o+u)/2,max:u,size:u-o}},align:function(t,n){var r=n.p1.x,e=n.p1.y,i=-f(n.p2.y-e,n.p2.x-r),a=function(t){return{x:(t.x-r)*o(i)-(t.y-e)*u(i),y:(t.x-r)*u(i)+(t.y-e)*o(i)}
};return t.map(a)},roots:function(t,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};var r=t.length-1,e=this.align(t,n),i=function(t){return t>=0&&1>=t};if(2===r){var u=e[0].y,f=e[1].y,l=e[2].y,p=u-2*f+l;if(0!==p){var v=-s(f*f-u*l),d=-u+f,y=-(v+d)/p,g=-(-v+d)/p;return[y,g].filter(i)}return f!==l&&0===p?[(2*f-l)/2*(f-l)].filter(i):[]}var m,y,_,x,w,b=e[0].y,z=e[1].y,k=e[2].y,E=e[3].y,p=-b+3*z-3*k+E,u=(3*b-6*z+3*k)/p,f=(-3*b+3*z)/p,l=b/p,e=(3*f-u*u)/3,S=e/3,R=(2*u*u*u-9*u*f+27*l)/27,T=R/2,A=T*T+S*S*S;if(0>A){var j=-e/3,O=j*j*j,C=s(O),M=-R/(2*C),I=-1>M?-1:M>1?1:M,P=a(I),L=c(C),N=2*L;return _=N*o(P/3)-u/3,x=N*o((P+h)/3)-u/3,w=N*o((P+2*h)/3)-u/3,[_,x,w].filter(i)}if(0===A)return m=0>T?c(-T):-c(T),_=2*m-u/3,x=-m-u/3,[_,x].filter(i);var W=s(A);return m=c(-T+W),y=c(T+W),[m-y-u/3].filter(i)},droots:function(t){if(3===t.length){var n=t[0],r=t[1],e=t[2],i=n-2*r+e;if(0!==i){var o=-s(r*r-n*e),u=-n+r,a=-(o+u)/i,f=-(-o+u)/i;return[a,f]}return r!==e&&0===i?[(2*r-e)/(2*(r-e))]:[]}if(2===t.length){var n=t[0],r=t[1];return n!==r?[n/(n-r)]:[]}},bboxoverlap:function(t,r){var e,i,o,u,a,f=["x","y"],s=f.length;for(e=0;s>e;e++)if(i=f[e],o=t[i].mid,u=r[i].mid,a=(t[i].size+r[i].size)/2,n(o-u)>=a)return!1;return!0},expandbox:function(t,n){n.x.min<t.x.min&&(t.x.min=n.x.min),n.y.min<t.y.min&&(t.y.min=n.y.min),n.z&&n.z.min<t.z.min&&(t.z.min=n.z.min),n.x.max>t.x.max&&(t.x.max=n.x.max),n.y.max>t.y.max&&(t.y.max=n.y.max),n.z&&n.z.max>t.z.max&&(t.z.max=n.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,n){var r=t.bbox(),e=n.bbox(),i=1e5,o=.5;if(r.x.size+r.y.size<o&&e.x.size+e.y.size<o)return[(i*(t._t1+t._t2)/2|0)/i+"/"+(i*(n._t1+n._t2)/2|0)/i];var u=t.split(.5),a=n.split(.5),f=[{left:u.left,right:a.left},{left:u.left,right:a.right},{left:u.right,right:a.right},{left:u.right,right:a.left}];f=f.filter(function(t){return v.bboxoverlap(t.left.bbox(),t.right.bbox())});var s=[];return 0===f.length?s:(f.forEach(function(t){s=s.concat(v.pairiteration(t.left,t.right))}),s=s.filter(function(t,n){return s.indexOf(t)===n}))}},d=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};d.prototype={valueOf:function(){return this.toString()},toString:function(){return v.pointsToString(this.points)},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map(function(t){return t.length()}).reduce(function(t,n){return t+n})},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,n=t[0].bbox(),r=1;r<t.length;r++)v.expandbox(n,t[r].bbox());return n},offset:function(t){var n=[];return this.curves.forEach(function(r){n=n.concat(r.offset(t))}),new d(n)}};var y=function(t){var r=t&&t.forEach?t:arguments;if("object"==typeof r[0]){r=[];for(var e=0;e<t.length;e++)["x","y","z"].forEach(function(n){"undefined"!=typeof t[e][n]&&r.push(t[e][n])})}var i=r.length;if(6!==i&&8!==i&&9!==i&&12!==i)throw new Error("This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)");var o=9===i||12===i;this._3d=o;for(var u=[],a=0,f=o?3:2;i>a;a+=f){var s={x:r[a],y:r[a+1]};o&&(s.z=r[a+2]),u.push(s)}this.order=u.length-1,this.points=u;var c=["x","y"];o&&c.push("z"),this.dims=c,this.dimlen=c.length,function(t){for(var r=v.align(u,{p1:u[0],p2:u[t.order]}),e=0;e<r.length;e++)if(n(r[e].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};y.utils=v,y.prototype={valueOf:function(){return this.toString()},toString:function(){return v.pointsToString(this.points)},toSVG:function(){if(this._3d)return!1;for(var t=this.points,n=t[0].x,r=t[0].y,e="M "+n+" "+r+" "+(2===this.order?"Q ":"C "),i=1,o=t.length;o>i;i++)e+=t[i].x+" "+t[i].y;return e},update:function(){this.dpoints=[];for(var t=this.points,n=t.length,r=n-1;n>1;n--,r--){for(var e,i=[],o=0;r>o;o++)e={x:r*(t[o+1].x-t[o].x),y:r*(t[o+1].y-t[o].y)},this._3d&&(e.z=r*(t[o+1].z-t[o].z)),i.push(e);this.dpoints.push(i),t=i}this.computedirection()},computedirection:function(){var t=this.points,n=v.angle(t[0],t[this.order],t[1]);this.clockwise=n>0},length:function(){return v.length(this.points,this.derivative.bind(this))},getLUT:function(t){t=t||100;for(var n=[],r=0;t>=r;r++)n.push(this.compute(r/t));return n},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){if(0===t)return this.points[0];if(1===t)return this.points[this.order];var n,r,e,i=1-t,o=i*i,u=t*t,a=0,f=this.points;2===this.order&&(f=[f[0],f[1],f[2],p],n=o,r=i*t*2,e=u),3===this.order&&(n=o*i,r=o*t*3,e=i*u*3,a=t*u);var s={x:n*f[0].x+r*f[1].x+e*f[2].x+a*f[3].x,y:n*f[0].y+r*f[1].y+e*f[2].y+a*f[3].y};return this._3d&&(s.z=n*f[0].z+r*f[1].z+e*f[2].z+a*f[3].z),s},raise:function(){for(var t,n,r,e=this.points,i=[e[0]],o=e.length,t=1;o>t;t++)n=e[t],r=e[t-1],i[t]={x:(o-t)/o*n.x+t/o*r.x,y:(o-t)/o*n.y+t/o*r.y};return i[o]=e[o-1],new y(i)},derivative:function(t){var n,r,e=1-t,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],p],n=e,r=t),3===this.order&&(n=e*e,r=e*t*2,i=t*t);var u={x:n*o[0].x+r*o[1].x+i*o[2].x,y:n*o[0].y+r*o[1].y+i*o[2].y};return this._3d&&(u.z=n*o[0].z+r*o[1].z+i*o[2].z),u},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var n=this.derivative(t),r=s(n.x*n.x+n.y*n.y);return{x:-n.y/r,y:n.x/r}},__normal3:function(){var n=this.derivative(t),r=this.derivative(t+.01),e=s(n.x*n.x+n.y*n.y+n.z*n.z),i=s(r.x*r.x+r.y*r.y+r.z*r.z);n.x/=e,n.y/=e,n.z/=e,r.x/=i,r.y/=i,r.z/=i;var o={x:r.y*n.z-r.z*n.y,y:r.z*n.x-r.x*n.z,z:r.x*n.y-r.y*n.x},u=s(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=u,o.y/=u,o.z/=u;var a=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z],f={x:a[0]*n.x+a[1]*n.y+a[2]*n.z,y:a[3]*n.x+a[4]*n.y+a[5]*n.z,z:a[6]*n.x+a[7]*n.y+a[8]*n.z};return f},split:function(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;var r,e=this.points,i=[],o=[],u=0,a=0,f=0;for(o[u++]=e[0],o[u++]=e[1],o[u++]=e[2],3===this.order&&(o[u++]=e[3]);e.length>1;){for(i=[],a=0,f=e.length-1;f>a;a++)r=v.lerp(t,e[a],e[a+1]),o[u++]=r,i.push(r);e=i}var s={left:new y(2===this.order?[o[0],o[3],o[5]]:[o[0],o[4],o[7],o[9]]),right:new y(2===this.order?[o[5],o[4],o[2]]:[o[9],o[8],o[6],o[3]]),span:o};if(s.left._t1=v.map(0,0,1,this._t1,this._t2),s.left._t2=v.map(t,0,1,this._t1,this._t2),s.right._t1=v.map(t,0,1,this._t1,this._t2),s.right._t2=v.map(1,0,1,this._t1,this._t2),!n)return s;n=v.map(n,t,1,0,1);var c=s.right.split(n);return c.left},inflections:function(){var t,n,r=this.dims,e=(this.dimlen,{}),i=[];return r.forEach(function(r){n=function(t){return t[r]},t=this.dpoints[0].map(n),e[r]=v.droots(t),3===this.order&&(t=this.dpoints[1].map(n),e[r]=e[r].concat(v.droots(t))),e[r]=e[r].filter(function(t){return t>=0&&1>=t}),i=i.concat(e[r].sort())}.bind(this)),i.sort(),e.values=i,e},bbox:function(){var t=this.inflections(),n={};return this.dims.forEach(function(r){n[r]=v.getminmax(this,r,t[r])}.bind(this)),n},overlaps:function(t){var n=this.bbox(),r=t.bbox();return v.bboxoverlap(n,r)},offset:function(t,n){if("undefined"!=typeof n){var r=this.get(t),e=this.normal(t),i={c:r,n:e,x:r.x+e.x*n,y:r.y+e.y*n};return this._3d&&(i.z=r.z+e.z*n),i}if(this._linear){var o=this.normal(0),u=this.points.map(function(n){var r={x:n.x+t*o.x,y:n.y+t*o.y};return n.z&&e.z&&(r.z=n.z+t*o.z),r});return[new y(u)]}var a=this.reduce();return a.map(function(n){return n.scale(t)})},simple:function(){if(3===this.order){var t=v.angle(this.points[0],this.points[3],this.points[1]),r=v.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&0>r||0>t&&r>0)return!1}var e=this.normal(0),i=this.normal(1),o=e.x*i.x+e.y*i.y;this._3d&&(o+=e.z*i.z);var u=n(a(o));return l/3>u},reduce:function(){var t,r,e=0,i=0,o=.01,u=[],a=[],f=this.inflections().values;for(-1===f.indexOf(0)&&(f=[0].concat(f)),-1===f.indexOf(1)&&f.push(1),e=f[0],t=1;t<f.length;t++)i=f[t],r=this.split(e,i),r._t1=e,r._t2=i,u.push(r),e=i;return u.forEach(function(t){for(e=0,i=0;1>=i;)for(i=e+o;1+o>=i;i+=o)if(r=t.split(e,i),!r.simple()){if(i-=o,n(e-i)<o)return[];r=t.split(e,i),r._t1=v.map(e,0,1,t._t1,t._t2),r._t2=v.map(i,0,1,t._t1,t._t2),a.push(r),e=i;break}1>e&&(r=t.split(e,1),r._t1=v.map(e,0,1,t._t1,t._t2),r._t2=t._t2,a.push(r))}),a},scale:function(t){var n=this.order,r=!1;if("function"==typeof t&&(r=t),r&&2===n)return this.raise().scale(r);var e=this.clockwise,i=r?r(0):t,o=r?r(1):t,u=[this.offset(0,10),this.offset(1,10)],a=v.lli4(u[0],u[0].c,u[1],u[1].c);if(!a)throw"cannot scale this curve. Try reducing it first.";var f=this.points,c=[];return[0,1].forEach(function(t){var r=c[t*n]=v.copy(f[t*n]);r.x+=(t?o:i)*u[t].n.x,r.y+=(t?o:i)*u[t].n.y}.bind(this)),r?([0,1].forEach(function(i){if(2!==this.order||!i){var o=f[i+1],u={x:o.x-a.x,y:o.y-a.y},l=r?r((i+1)/n):t;r&&!e&&(l=-l);var h=s(u.x*u.x+u.y*u.y);u.x/=h,u.y/=h,c[i+1]={x:o.x+l*u.x,y:o.y+l*u.y}}}.bind(this)),new y(c)):([0,1].forEach(function(t){if(2!==this.order||!t){var r=c[t*n],e=this.derivative(t),i={x:r.x+e.x,y:r.y+e.y};c[t+1]=v.lli4(r,i,a,f[t+1])}}.bind(this)),new y(c))},outline:function(t,n,r,e){function i(t,n,r,e,i){return function(o){var u=e/r,a=(e+i)/r,f=n-t;return v.map(o,0,1,t+u*f,t+a*f)}}n="undefined"==typeof n?t:n;var o,u=this.reduce(),a=u.length,f=(this.order,[]),s=[],c=0,l=this.length(),h="undefined"!=typeof r&&"undefined"!=typeof e;u.forEach(function(o){b=o.length(),h?(f.push(o.scale(i(t,r,l,c,b))),s.push(o.scale(i(-n,-e,l,c,b)))):(f.push(o.scale(t)),s.push(o.scale(-n))),c+=b}),s=s.map(function(t){return o=t.points,t.points=o[3]?[o[3],o[2],o[1],o[0]]:[o[2],o[1],o[0]],t}).reverse();var p=f[0].points[0],y=f[a-1].points[f[a-1].points.length-1],g=s[a-1].points[s[a-1].points.length-1],m=s[0].points[0],_=v.makeline(g,p),x=v.makeline(y,m),w=[_].concat(f).concat([x]).concat(s),b=w.length;return new d(w)},outlineshapes:function(t,n){n=n||t;for(var r=this.outline(t,n).curves,e=[],i=1,o=r.length;o/2>i;i++){var u=v.makeshape(r[i],r[o-i]);u.startcap.virtual=i>1,u.endcap.virtual=o/2-1>i,e.push(u)}return e},intersects:function(t){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof y&&(t=t.reduce()),this.curveintersects(this.reduce(),t)):this.selfintersects()},lineIntersects:function(t){var n=e(t.p1.x,t.p2.x),r=e(t.p1.y,t.p2.y),o=i(t.p1.x,t.p2.x),u=i(t.p1.y,t.p2.y),a=this;return v.roots(this.points,t).filter(function(t){var e=a.get(t);return n<=e.x&&e.x<=o&&r<=e.y&&e.y<=u})},selfintersects:function(){var t,n,r,e,i=this.reduce(),o=i.length-2,u=[];for(t=0;o>t;t++)r=i.slice(t,t+1),e=i.slice(t+2),n=this.curveintersects(r,e),u=u.concat(n);return u},curveintersects:function(t,n){var r=[];t.forEach(function(t){n.forEach(function(n){t.overlaps(n)&&r.push({left:t,right:n})})});var e=[];return r.forEach(function(t){var n=v.pairiteration(t.left,t.right);n.length>0&&(e=e.concat(n))}),e}},"undefined"!=typeof r&&r.exports?r.exports=y:"undefined"!=typeof define?define(function(){return y}):"undefined"!=typeof window&&(window.Bezier=y)}()},{}]},{},[1]);
//# sourceMappingURL=bundle.js.map