!function n(t,r,e){function i(u,a){if(!r[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var c=r[u]={exports:{}};t[u][0].call(c.exports,function(n){var r=t[u][1][n];return i(r?r:n)},c,c.exports,n,t,r,e)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<e.length;u++)i(e[u]);return i}({1:[function(t){"use strict";var n=t("./CanvasController");document.addEventListener("DOMContentLoaded",function(){var t=new n;document.body.appendChild(t.element)})},{"./CanvasController":4}],2:[function(t,n){function r(){if(!u){u=!0;for(var t,n=o.length;n;){t=o,o=[];for(var r=-1;++r<n;)t[r]();n=o.length}u=!1}}function e(){}var i=n.exports={},o=[],u=!1;i.nextTick=function(t){o.push(t),u||setTimeout(r,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.on=e,i.addListener=e,i.once=e,i.off=e,i.removeListener=e,i.removeAllListeners=e,i.emit=e,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(t,n,r){(function(t){(function(){function e(t,n){if(t!==n){var r=t===t,e=n===n;if(t>n||!r||"undefined"==typeof t&&e)return 1;if(n>t||!e||"undefined"==typeof n&&r)return-1}return 0}function i(t,n,r){if(n!==n)return y(t,r);for(var e=(r||0)-1,i=t.length;++e<i;)if(t[e]===n)return e;return-1}function o(t){return"function"==typeof t||!1}function u(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}function a(t){return"string"==typeof t?t:null==t?"":t+""}function s(t){return t.charCodeAt(0)}function f(t,n){for(var r=-1,e=t.length;++r<e&&n.indexOf(t.charAt(r))>-1;);return r}function c(t,n){for(var r=t.length;r--&&n.indexOf(t.charAt(r))>-1;);return r}function l(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function h(t,n){for(var r=-1,i=t.criteria,o=n.criteria,u=i.length;++r<u;){var a=e(i[r],o[r]);if(a)return a}return t.index-n.index}function p(t){return qn[t]}function d(t){return $n[t]}function v(t){return"\\"+Vn[t]}function y(t,n,r){for(var e=t.length,i=r?n||e:(n||0)-1;r?i--:++i<e;){var o=t[i];if(o!==o)return i}return-1}function g(t){return t&&"object"==typeof t||!1}function m(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function _(t,n){for(var r=-1,e=t.length,i=-1,o=[];++r<e;)t[r]===n&&(t[r]=$,o[++i]=r);return o}function x(t,n){for(var r,e=-1,i=t.length,o=-1,u=[];++e<i;){var a=t[e],s=n?n(a,e,t):a;e&&r===s||(r=s,u[++o]=a)}return u}function w(t){for(var n=-1,r=t.length;++n<r&&m(t.charCodeAt(n)););return n}function b(t){for(var n=t.length;n--&&m(t.charCodeAt(n)););return n}function R(t){return Yn[t]}function z(t){function n(t){if(g(t)&&!Ha(t)&&!(t instanceof G)){if(t instanceof m)return t;if(ra.call(t,"__chain__")&&ra.call(t,"__wrapped__"))return Le(t)}return new m(t)}function r(){}function m(t,n,r){this.__wrapped__=t,this.__actions__=r||[],this.__chain__=!!n}function G(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Oa,this.__views__=null}function nn(){var t=this.__actions__,n=this.__iteratees__,r=this.__views__,e=new G(this.__wrapped__);return e.__actions__=t?tr(t):null,e.__dir__=this.__dir__,e.__dropCount__=this.__dropCount__,e.__filtered__=this.__filtered__,e.__iteratees__=n?tr(n):null,e.__takeCount__=this.__takeCount__,e.__views__=r?tr(r):null,e}function en(){if(this.__filtered__){var t=new G(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function qn(){var t=this.__wrapped__.value();if(!Ha(t))return Gr(t,this.__actions__);var n=this.__dir__,r=0>n,e=xe(0,t.length,this.__views__),i=e.start,o=e.end,u=o-i,a=this.__dropCount__,s=ka(u,this.__takeCount__),f=r?o:i-1,c=this.__iteratees__,l=c?c.length:0,h=0,p=[];t:for(;u--&&s>h;){f+=n;for(var d=-1,v=t[f];++d<l;){var y=c[d],g=y.iteratee,m=g(v,f,t),_=y.type;if(_==U)v=m;else if(!m){if(_==D)continue t;break t}}a?a--:p[h++]=v}return p}function $n(){this.__data__={}}function Yn(t){return this.has(t)&&delete this.__data__[t]}function Qn(t){return"__proto__"==t?E:this.__data__[t]}function Vn(t){return"__proto__"!=t&&ra.call(this.__data__,t)}function Jn(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this}function Kn(t){var n=t?t.length:0;for(this.data={hash:ba(null),set:new va};n--;)this.push(t[n])}function Gn(t,n){var r=t.data,e="string"==typeof n||jo(n)?r.set.has(n):r.hash[n];return e?0:-1}function Hn(t){var n=this.data;"string"==typeof t||jo(t)?n.set.add(t):n.hash[t]=!0}function tr(t,n){var r=-1,e=t.length;for(n||(n=Uu(e));++r<e;)n[r]=t[r];return n}function nr(t,n){for(var r=-1,e=t.length;++r<e&&n(t[r],r,t)!==!1;);return t}function rr(t,n){for(var r=t.length;r--&&n(t[r],r,t)!==!1;);return t}function er(t,n){for(var r=-1,e=t.length;++r<e;)if(!n(t[r],r,t))return!1;return!0}function ir(t,n){for(var r=-1,e=t.length,i=-1,o=[];++r<e;){var u=t[r];n(u,r,t)&&(o[++i]=u)}return o}function or(t,n){for(var r=-1,e=t.length,i=Uu(e);++r<e;)i[r]=n(t[r],r,t);return i}function ur(t){for(var n=-1,r=t.length,e=Ca;++n<r;){var i=t[n];i>e&&(e=i)}return e}function ar(t){for(var n=-1,r=t.length,e=Oa;++n<r;){var i=t[n];e>i&&(e=i)}return e}function sr(t,n,r,e){var i=-1,o=t.length;for(e&&o&&(r=t[++i]);++i<o;)r=n(r,t[i],i,t);return r}function fr(t,n,r,e){var i=t.length;for(e&&i&&(r=t[--i]);i--;)r=n(r,t[i],i,t);return r}function cr(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}function lr(t,n){return"undefined"==typeof t?n:t}function hr(t,n,r,e){return"undefined"!=typeof t&&ra.call(e,r)?t:n}function pr(t,n,r){var e=es(n);if(!r)return vr(n,t,e);for(var i=-1,o=e.length;++i<o;){var u=e[i],a=t[u],s=r(a,n[u],u,t,n);(s===s?s===a:a!==a)&&("undefined"!=typeof a||u in t)||(t[u]=s)}return t}function dr(t,n){for(var r=-1,e=t.length,i=Se(e),o=n.length,u=Uu(o);++r<o;){var a=n[r];i?(a=parseFloat(a),u[r]=Ee(a,e)?t[a]:E):u[r]=t[a]}return u}function vr(t,n,r){r||(r=n,n={});for(var e=-1,i=r.length;++e<i;){var o=r[e];n[o]=t[o]}return n}function yr(t,n){for(var r=-1,e=n.length;++r<e;){var i=n[r];t[i]=pe(t[i],S,t)}return t}function gr(t,n,r){var e=typeof t;return"function"==e?"undefined"!=typeof n&&ze(t)?te(t,n,r):t:null==t?Au:"object"==e?Wr(t):"undefined"==typeof n?qr(t+""):Dr(t+"",n)}function mr(t,n,r,e,i,o,u){var a;if(r&&(a=i?r(t,e,i):r(t)),"undefined"!=typeof a)return a;if(!jo(t))return t;var s=Ha(t);if(s){if(a=we(t),!n)return tr(t,a)}else{var f=ia.call(t),c=f==K;if(f!=Z&&f!=Y&&(!c||i))return Un[f]?Re(t,f,n):i?t:{};if(a=be(c?{}:t),!n)return vr(t,a,es(t))}o||(o=[]),u||(u=[]);for(var l=o.length;l--;)if(o[l]==t)return u[l];return o.push(t),u.push(a),(s?nr:Cr)(t,function(e,i){a[i]=mr(e,n,r,i,t,o,u)}),a}function _r(t,n,r,e){if("function"!=typeof t)throw new Ku(q);return ya(function(){t.apply(E,Vr(r,e))},n)}function xr(t,n){var r=t?t.length:0,e=[];if(!r)return e;var o=-1,u=_e(),a=u==i,s=a&&n.length>=200&&Fa(n),f=n.length;s&&(u=Gn,a=!1,n=s);t:for(;++o<r;){var c=t[o];if(a&&c===c){for(var l=f;l--;)if(n[l]===c)continue t;e.push(c)}else u(n,c)<0&&e.push(c)}return e}function wr(t,n){var r=t?t.length:0;if(!Se(r))return Cr(t,n);for(var e=-1,i=Be(t);++e<r&&n(i[e],e,i)!==!1;);return t}function br(t,n){var r=t?t.length:0;if(!Se(r))return Or(t,n);for(var e=Be(t);r--&&n(e[r],r,e)!==!1;);return t}function Rr(t,n){var r=!0;return wr(t,function(t,e,i){return r=!!n(t,e,i)}),r}function zr(t,n,r,e){var i=t.length;for(r=null==r?0:+r||0,0>r&&(r=-r>i?0:i+r),e="undefined"==typeof e||e>i?i:+e||0,0>e&&(e+=i),i=r>e?0:e>>>0,r>>>=0;i>r;)t[r++]=n;return t}function Er(t,n){var r=[];return wr(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r}function kr(t,n,r,e){var i;return r(t,function(t,r,o){return n(t,r,o)?(i=e?r:t,!1):void 0}),i}function Sr(t,n,r,e){for(var i=(e||0)-1,o=t.length,u=-1,a=[];++i<o;){var s=t[i];if(g(s)&&Se(s.length)&&(Ha(s)||bo(s))){n&&(s=Sr(s,n,r));var f=-1,c=s.length;for(a.length+=c;++f<c;)a[++u]=s[f]}else r||(a[++u]=s)}return a}function Tr(t,n,r){for(var e=-1,i=Be(t),o=r(t),u=o.length;++e<u;){var a=o[e];if(n(i[a],a,i)===!1)break}return t}function jr(t,n,r){for(var e=Be(t),i=r(t),o=i.length;o--;){var u=i[o];if(n(e[u],u,e)===!1)break}return t}function Ar(t,n){return Tr(t,n,Ho)}function Cr(t,n){return Tr(t,n,es)}function Or(t,n){return jr(t,n,es)}function Mr(t,n){for(var r=-1,e=n.length,i=-1,o=[];++r<e;){var u=n[r];ts(t[u])&&(o[++i]=u)}return o}function Pr(t,n,r){var e=-1,i="function"==typeof n,o=t?t.length:0,u=Se(o)?Uu(o):[];return wr(t,function(t){var o=i?n:null!=t&&t[n];u[++e]=o?o.apply(t,r):E}),u}function Ir(t,n,r,e,i,o){if(t===n)return 0!==t||1/t==1/n;var u=typeof t,a=typeof n;return"function"!=u&&"object"!=u&&"function"!=a&&"object"!=a||null==t||null==n?t!==t&&n!==n:Br(t,n,Ir,r,e,i,o)}function Br(t,n,r,e,i,o,u){var a=Ha(t),s=Ha(n),f=Q,c=Q;a||(f=ia.call(t),f==Y?f=Z:f!=Z&&(a=Lo(t))),s||(c=ia.call(n),c==Y?c=Z:c!=Z&&(s=Lo(n)));var l=f==Z,h=c==Z,p=f==c;if(p&&!a&&!l)return ve(t,n,f);var d=l&&ra.call(t,"__wrapped__"),v=h&&ra.call(n,"__wrapped__");if(d||v)return r(d?t.value():t,v?n.value():n,e,i,o,u);if(!p)return!1;o||(o=[]),u||(u=[]);for(var y=o.length;y--;)if(o[y]==t)return u[y]==n;o.push(t),u.push(n);var g=(a?de:ye)(t,n,r,e,i,o,u);return o.pop(),u.pop(),g}function Lr(t,n,r,e,i){var o=n.length;if(null==t)return!o;for(var u=-1,a=!i;++u<o;)if(a&&e[u]?r[u]!==t[n[u]]:!ra.call(t,n[u]))return!1;for(u=-1;++u<o;){var s=n[u];if(a&&e[u])var f=ra.call(t,s);else{var c=t[s],l=r[u];f=i?i(c,l,s):E,"undefined"==typeof f&&(f=Ir(l,c,i,!0))}if(!f)return!1}return!0}function Nr(t,n){var r=[];return wr(t,function(t,e,i){r.push(n(t,e,i))}),r}function Wr(t){var n=es(t),r=n.length;if(1==r){var e=n[0],i=t[e];if(Te(i))return function(t){return null!=t&&t[e]===i&&ra.call(t,e)}}for(var o=Uu(r),u=Uu(r);r--;)i=t[n[r]],o[r]=i,u[r]=Te(i);return function(t){return Lr(t,n,o,u)}}function Dr(t,n){return Te(n)?function(r){return null!=r&&r[t]===n}:function(r){return null!=r&&Ir(n,r[t],null,!0)}}function Ur(t,n,r,e,i){if(!jo(t))return t;var o=Se(n.length)&&(Ha(n)||Lo(n));return(o?nr:Cr)(n,function(n,u,a){if(g(n))return e||(e=[]),i||(i=[]),Fr(t,a,u,Ur,r,e,i);var s=t[u],f=r?r(s,n,u,t,a):E,c="undefined"==typeof f;c&&(f=n),!o&&"undefined"==typeof f||!c&&(f===f?f===s:s!==s)||(t[u]=f)}),t}function Fr(t,n,r,e,i,o,u){for(var a=o.length,s=n[r];a--;)if(o[a]==s)return void(t[r]=u[a]);var f=t[r],c=i?i(f,s,r,t,n):E,l="undefined"==typeof c;l&&(c=s,Se(s.length)&&(Ha(s)||Lo(s))?c=Ha(f)?f:f?tr(f):[]:ns(s)||bo(s)?c=bo(f)?Do(f):ns(f)?f:{}:l=!1),o.push(s),u.push(c),l?t[r]=e(c,s,i,o,u):(c===c?c!==f:f===f)&&(t[r]=c)}function qr(t){return function(n){return null==n?E:n[t]}}function $r(t,n){var r=n.length,i=dr(t,n);for(n.sort(e);r--;){var o=parseFloat(n[r]);if(o!=u&&Ee(o)){var u=o;ga.call(t,o,1)}}return i}function Yr(t,n){return t+la(Aa()*(n-t+1))}function Qr(t,n,r,e,i){return i(t,function(t,i,o){r=e?(e=!1,t):n(r,t,i,o)}),r}function Vr(t,n,r){var e=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r="undefined"==typeof r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Uu(i);++e<i;)o[e]=t[e+n];return o}function Xr(t,n){var r;return wr(t,function(t,e,i){return r=n(t,e,i),!r}),!!r}function Jr(t,n){var r=-1,e=_e(),o=t.length,u=e==i,a=u&&o>=200,s=a&&Fa(),f=[];s?(e=Gn,u=!1):(a=!1,s=n?[]:f);t:for(;++r<o;){var c=t[r],l=n?n(c,r,t):c;if(u&&c===c){for(var h=s.length;h--;)if(s[h]===l)continue t;n&&s.push(l),f.push(c)}else e(s,l)<0&&((n||a)&&s.push(l),f.push(c))}return f}function Kr(t,n){for(var r=-1,e=n.length,i=Uu(e);++r<e;)i[r]=t[n[r]];return i}function Gr(t,n){var r=t;r instanceof G&&(r=r.value());for(var e=-1,i=n.length;++e<i;){var o=[r],u=n[e];pa.apply(o,u.args),r=u.func.apply(u.thisArg,o)}return r}function Hr(t,n,r){var e=0,i=t?t.length:e;if("number"==typeof n&&n===n&&Ia>=i){for(;i>e;){var o=e+i>>>1,u=t[o];(r?n>=u:n>u)?e=o+1:i=o}return i}return Zr(t,n,Au,r)}function Zr(t,n,r,e){n=r(n);for(var i=0,o=t?t.length:0,u=n!==n,a="undefined"==typeof n;o>i;){var s=la((i+o)/2),f=r(t[s]),c=f===f;if(u)var l=c||e;else l=a?c&&(e||"undefined"!=typeof f):e?n>=f:n>f;l?i=s+1:o=s}return ka(o,Pa)}function te(t,n,r){if("function"!=typeof t)return Au;if("undefined"==typeof n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,e,i){return t.call(n,r,e,i)};case 4:return function(r,e,i,o){return t.call(n,r,e,i,o)};case 5:return function(r,e,i,o,u){return t.call(n,r,e,i,o,u)}}return function(){return t.apply(n,arguments)}}function ne(t){return sa.call(t,0)}function re(t,n,r){for(var e=r.length,i=-1,o=Ea(t.length-e,0),u=-1,a=n.length,s=Uu(o+a);++u<a;)s[u]=n[u];for(;++i<e;)s[r[i]]=t[i];for(;o--;)s[u++]=t[i++];return s}function ee(t,n,r){for(var e=-1,i=r.length,o=-1,u=Ea(t.length-i,0),a=-1,s=n.length,f=Uu(u+s);++o<u;)f[o]=t[o];for(var c=o;++a<s;)f[c+a]=n[a];for(;++e<i;)f[c+r[e]]=t[o++];return f}function ie(t,n){return function(r,e,i){var o=n?n():{};if(e=me(e,i,3),Ha(r))for(var u=-1,a=r.length;++u<a;){var s=r[u];t(o,s,e(s,u,r),r)}else wr(r,function(n,r,i){t(o,n,e(n,r,i),i)});return o}}function oe(t){return function(){var n=arguments.length,r=arguments[0];if(2>n||null==r)return r;if(n>3&&ke(arguments[1],arguments[2],arguments[3])&&(n=2),n>3&&"function"==typeof arguments[n-2])var e=te(arguments[--n-1],arguments[n--],5);else n>2&&"function"==typeof arguments[n-1]&&(e=arguments[--n]);for(var i=0;++i<n;){var o=arguments[i];o&&t(r,o,e)}return r}}function ue(t,n){function r(){return(this instanceof r?e:t).apply(n,arguments)}var e=se(t);return r}function ae(t){return function(n){for(var r=-1,e=ku(cu(n)),i=e.length,o="";++r<i;)o=t(o,e[r],r);return o}}function se(t){return function(){var n=Da(t.prototype),r=t.apply(n,arguments);return jo(r)?r:n}}function fe(t,n){return function(r,e,i){i&&ke(r,e,i)&&(e=null);var o=me(),u=null==e;if(o===gr&&u||(u=!1,e=o(e,i,3)),u){var a=Ha(r);if(a||!Bo(r))return t(a?r:Ie(r));e=s}return ge(r,e,n)}}function ce(t,n,r,e,i,o,u,a,s,f){function c(){for(var x=arguments.length,w=x,b=Uu(x);w--;)b[w]=arguments[w];if(e&&(b=re(b,e,i)),o&&(b=ee(b,o,u)),d||y){var R=c.placeholder,z=_(b,R);if(x-=z.length,f>x){var E=a?tr(a):null,k=Ea(f-x,0),j=d?z:null,A=d?null:z,C=d?b:null,P=d?null:b;n|=d?O:M,n&=~(d?M:O),v||(n&=~(S|T));var I=ce(t,n,r,C,j,P,A,E,s,k);return I.placeholder=R,I}}var B=h?r:this;return p&&(t=B[m]),a&&(b=Oe(b,a)),l&&s<b.length&&(b.length=s),(this instanceof c?g||se(t):t).apply(B,b)}var l=n&I,h=n&S,p=n&T,d=n&A,v=n&j,y=n&C,g=!p&&se(t),m=t;return c}function le(t,n,r){var e=t.length;if(n=+n,e>=n||!Ra(n))return"";var i=n-e;return r=null==r?" ":r+"",mu(r,fa(i/r.length)).slice(0,i)}function he(t,n,r,e){function i(){for(var n=-1,a=arguments.length,s=-1,f=e.length,c=Uu(a+f);++s<f;)c[s]=e[s];for(;a--;)c[s++]=arguments[++n];return(this instanceof i?u:t).apply(o?r:this,c)}var o=n&S,u=se(t);return i}function pe(t,n,r,e,i,o,u,a){var s=n&T;if(!s&&"function"!=typeof t)throw new Ku(q);var f=e?e.length:0;if(f||(n&=~(O|M),e=i=null),f-=i?i.length:0,n&M){var c=e,l=i;e=i=null}var h=!s&&qa(t),p=[t,n,r,e,i,c,l,o,u,a];if(h&&h!==!0&&(je(p,h),n=p[1],a=p[9]),p[9]=null==a?s?0:t.length:Ea(a-f,0)||0,n==S)var d=ue(p[0],p[2]);else d=n!=O&&n!=(S|O)||p[4].length?ce.apply(E,p):he.apply(E,p);var v=h?Ua:$a;return v(d,p)}function de(t,n,r,e,i,o,u){var a=-1,s=t.length,f=n.length,c=!0;if(s!=f&&!(i&&f>s))return!1;for(;c&&++a<s;){var l=t[a],h=n[a];if(c=E,e&&(c=i?e(h,l,a):e(l,h,a)),"undefined"==typeof c)if(i)for(var p=f;p--&&(h=n[p],!(c=l&&l===h||r(l,h,e,i,o,u))););else c=l&&l===h||r(l,h,e,i,o,u)}return!!c}function ve(t,n,r){switch(r){case V:case X:return+t==+n;case J:return t.name==n.name&&t.message==n.message;case H:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case tn:case rn:return t==n+""}return!1}function ye(t,n,r,e,i,o,u){var a=es(t),s=a.length,f=es(n),c=f.length;if(s!=c&&!i)return!1;for(var l,h=-1;++h<s;){var p=a[h],d=ra.call(n,p);if(d){var v=t[p],y=n[p];d=E,e&&(d=i?e(y,v,p):e(v,y,p)),"undefined"==typeof d&&(d=v&&v===y||r(v,y,e,i,o,u))}if(!d)return!1;l||(l="constructor"==p)}if(!l){var g=t.constructor,m=n.constructor;if(g!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0}function ge(t,n,r){var e=r?Oa:Ca,i=e,o=i;return wr(t,function(t,u,a){var s=n(t,u,a);((r?i>s:s>i)||s===e&&s===o)&&(i=s,o=t)}),o}function me(t,r,e){var i=n.callback||Tu;return i=i===Tu?gr:i,e?i(t,r,e):i}function _e(t,r,e){var o=n.indexOf||Ge;return o=o===Ge?i:o,t?o(t,r,e):o}function xe(t,n,r){for(var e=-1,i=r?r.length:0;++e<i;){var o=r[e],u=o.size;switch(o.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=ka(n,t+u);break;case"takeRight":t=Ea(t,n-u)}}return{start:t,end:n}}function we(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&ra.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function be(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Vu),new n}function Re(t,n,r){var e=t.constructor;switch(n){case on:return ne(t);case V:case X:return new e(+t);case un:case an:case sn:case fn:case cn:case ln:case hn:case pn:case dn:var i=t.buffer;return new e(r?ne(i):i,t.byteOffset,t.length);case H:case rn:return new e(t);case tn:var o=new e(t.source,kn.exec(t));o.lastIndex=t.lastIndex}return o}function ze(t){var r=n.support,e=!(r.funcNames?t.name:r.funcDecomp);if(!e){var i=ta.call(t);r.funcNames||(e=!Sn.test(i)),e||(e=Pn.test(i)||Oo(t),Ua(t,e))}return e}function Ee(t,n){return t=+t,n=null==n?La:n,t>-1&&t%1==0&&n>t}function ke(t,n,r){if(!jo(r))return!1;var e=typeof n;if("number"==e)var i=r.length,o=Se(i)&&Ee(n,i);else o="string"==e&&n in r;var u=r[n];return o&&(t===t?t===u:u!==u)}function Se(t){return"number"==typeof t&&t>-1&&t%1==0&&La>=t}function Te(t){return t===t&&(0===t?1/t>0:!jo(t))}function je(t,n){var r=t[1],e=n[1],i=r|e,o=I|P,u=S|T,a=o|u|j|C,s=r&I&&!(e&I),f=r&P&&!(e&P),c=(f?t:n)[7],l=(s?t:n)[8],h=!(r>=P&&e>u||r>u&&e>=P),p=i>=o&&a>=i&&(P>r||(f||s)&&c.length<=l);if(!h&&!p)return t;e&S&&(t[2]=n[2],i|=r&S?0:j);var d=n[3];if(d){var v=t[3];t[3]=v?re(v,d,n[4]):tr(d),t[4]=v?_(t[3],$):tr(n[4])}return d=n[5],d&&(v=t[5],t[5]=v?ee(v,d,n[6]):tr(d),t[6]=v?_(t[5],$):tr(n[6])),d=n[7],d&&(t[7]=tr(d)),e&I&&(t[8]=null==t[8]?n[8]:ka(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function Ae(t,n){t=Be(t);for(var r=-1,e=n.length,i={};++r<e;){var o=n[r];o in t&&(i[o]=t[o])}return i}function Ce(t,n){var r={};return Ar(t,function(t,e,i){n(t,e,i)&&(r[e]=t)}),r}function Oe(t,n){for(var r=t.length,e=ka(n.length,r),i=tr(t);e--;){var o=n[e];t[e]=Ee(o,r)?i[o]:E}return t}function Me(t){{var r;n.support}if(!g(t)||ia.call(t)!=Z||!ra.call(t,"constructor")&&(r=t.constructor,"function"==typeof r&&!(r instanceof r)))return!1;var e;return Ar(t,function(t,n){e=n}),"undefined"==typeof e||ra.call(t,e)}function Pe(t){for(var r=Ho(t),e=r.length,i=e&&t.length,o=n.support,u=i&&Se(i)&&(Ha(t)||o.nonEnumArgs&&bo(t)),a=-1,s=[];++a<e;){var f=r[a];(u&&Ee(f,i)||ra.call(t,f))&&s.push(f)}return s}function Ie(t){return null==t?[]:Se(t.length)?jo(t)?t:Vu(t):ou(t)}function Be(t){return jo(t)?t:Vu(t)}function Le(t){return t instanceof G?t.clone():new m(t.__wrapped__,t.__chain__,tr(t.__actions__))}function Ne(t,n,r){n=(r?ke(t,n,r):null==n)?1:Ea(+n||1,1);for(var e=0,i=t?t.length:0,o=-1,u=Uu(fa(i/n));i>e;)u[++o]=Vr(t,e,e+=n);return u}function We(t){for(var n=-1,r=t?t.length:0,e=-1,i=[];++n<r;){var o=t[n];o&&(i[++e]=o)}return i}function De(){for(var t=-1,n=arguments.length;++t<n;){var r=arguments[t];if(Ha(r)||bo(r))break}return xr(r,Sr(arguments,!1,!0,++t))}function Ue(t,n,r){var e=t?t.length:0;return e?((r?ke(t,n,r):null==n)&&(n=1),Vr(t,0>n?0:n)):[]}function Fe(t,n,r){var e=t?t.length:0;return e?((r?ke(t,n,r):null==n)&&(n=1),n=e-(+n||0),Vr(t,0,0>n?0:n)):[]}function qe(t,n,r){var e=t?t.length:0;if(!e)return[];for(n=me(n,r,3);e--&&n(t[e],e,t););return Vr(t,0,e+1)}function $e(t,n,r){var e=t?t.length:0;if(!e)return[];var i=-1;for(n=me(n,r,3);++i<e&&n(t[i],i,t););return Vr(t,i)}function Ye(t,n,r,e){var i=t?t.length:0;return i?(r&&"number"!=typeof r&&ke(t,n,r)&&(r=0,e=i),zr(t,n,r,e)):[]}function Qe(t,n,r){var e=-1,i=t?t.length:0;for(n=me(n,r,3);++e<i;)if(n(t[e],e,t))return e;return-1}function Ve(t,n,r){var e=t?t.length:0;for(n=me(n,r,3);e--;)if(n(t[e],e,t))return e;return-1}function Xe(t){return t?t[0]:E}function Je(t,n,r){var e=t?t.length:0;return r&&ke(t,n,r)&&(n=!1),e?Sr(t,n):[]}function Ke(t){var n=t?t.length:0;return n?Sr(t,!0):[]}function Ge(t,n,r){var e=t?t.length:0;if(!e)return-1;if("number"==typeof r)r=0>r?Ea(e+r,0):r||0;else if(r){var o=Hr(t,n),u=t[o];return(n===n?n===u:u!==u)?o:-1}return i(t,n,r)}function He(t){return Fe(t,1)}function Ze(){for(var t=[],n=-1,r=arguments.length,e=[],o=_e(),u=o==i;++n<r;){var a=arguments[n];(Ha(a)||bo(a))&&(t.push(a),e.push(u&&a.length>=120&&Fa(n&&a)))}r=t.length;var s=t[0],f=-1,c=s?s.length:0,l=[],h=e[0];t:for(;++f<c;)if(a=s[f],(h?Gn(h,a):o(l,a))<0){for(n=r;--n;){var p=e[n];if((p?Gn(p,a):o(t[n],a))<0)continue t}h&&h.push(a),l.push(a)}return l}function ti(t){var n=t?t.length:0;return n?t[n-1]:E}function ni(t,n,r){var e=t?t.length:0;if(!e)return-1;var i=e;if("number"==typeof r)i=(0>r?Ea(e+r,0):ka(r||0,e-1))+1;else if(r){i=Hr(t,n,!0)-1;var o=t[i];return(n===n?n===o:o!==o)?i:-1}if(n!==n)return y(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1}function ri(){var t=arguments[0];if(!t||!t.length)return t;for(var n=0,r=_e(),e=arguments.length;++n<e;)for(var i=0,o=arguments[n];(i=r(t,o,i))>-1;)ga.call(t,i,1);return t}function ei(t){return $r(t||[],Sr(arguments,!1,!1,1))}function ii(t,n,r){var e=-1,i=t?t.length:0,o=[];for(n=me(n,r,3);++e<i;){var u=t[e];n(u,e,t)&&(o.push(u),ga.call(t,e--,1),i--)}return o}function oi(t){return Ue(t,1)}function ui(t,n,r){var e=t?t.length:0;return e?(r&&"number"!=typeof r&&ke(t,n,r)&&(n=0,r=e),Vr(t,n,r)):[]}function ai(t,n,r,e){var i=me(r);return i===gr&&null==r?Hr(t,n):Zr(t,n,i(r,e,1))}function si(t,n,r,e){var i=me(r);return i===gr&&null==r?Hr(t,n,!0):Zr(t,n,i(r,e,1),!0)}function fi(t,n,r){var e=t?t.length:0;return e?((r?ke(t,n,r):null==n)&&(n=1),Vr(t,0,0>n?0:n)):[]}function ci(t,n,r){var e=t?t.length:0;return e?((r?ke(t,n,r):null==n)&&(n=1),n=e-(+n||0),Vr(t,0>n?0:n)):[]}function li(t,n,r){var e=t?t.length:0;if(!e)return[];for(n=me(n,r,3);e--&&n(t[e],e,t););return Vr(t,e+1)}function hi(t,n,r){var e=t?t.length:0;if(!e)return[];var i=-1;for(n=me(n,r,3);++i<e&&n(t[i],i,t););return Vr(t,0,i)}function pi(){return Jr(Sr(arguments,!1,!0))}function di(t,n,r,e){var o=t?t.length:0;if(!o)return[];null!=n&&"boolean"!=typeof n&&(e=r,r=ke(t,n,e)?null:n,n=!1);var u=me();return(u!==gr||null!=r)&&(r=u(r,e,3)),n&&_e()==i?x(t,r):Jr(t,r)}function vi(t){for(var n=-1,r=(t&&t.length&&ur(or(t,na)))>>>0,e=Uu(r);++n<r;)e[n]=or(t,qr(n));return e}function yi(t){return xr(t,Vr(arguments,1))}function gi(){for(var t=-1,n=arguments.length;++t<n;){var r=arguments[t];if(Ha(r)||bo(r))var e=e?xr(e,r).concat(xr(r,e)):r}return e?Jr(e):[]}function mi(){for(var t=arguments.length,n=Uu(t);t--;)n[t]=arguments[t];return vi(n)}function _i(t,n){var r=-1,e=t?t.length:0,i={};for(!e||n||Ha(t[0])||(n=[]);++r<e;){var o=t[r];n?i[o]=n[r]:o&&(i[o[0]]=o[1])}return i}function xi(t){var r=n(t);return r.__chain__=!0,r}function wi(t,n,r){return n.call(r,t),t}function bi(t,n,r){return n.call(r,t)}function Ri(){return xi(this)}function zi(){return new m(this.value(),this.__chain__)}function Ei(t){for(var n,e=this;e instanceof r;){var i=Le(e);n?o.__wrapped__=i:n=i;var o=i;e=e.__wrapped__}return o.__wrapped__=t,n}function ki(){var t=this.__wrapped__;return t instanceof G?(this.__actions__.length&&(t=new G(this)),new m(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Si(){return this.value()+""}function Ti(){return Gr(this.__wrapped__,this.__actions__)}function ji(t){var n=t?t.length:0;return Se(n)&&(t=Ie(t)),dr(t,Sr(arguments,!1,!1,1))}function Ai(t,n,r){var e=Ha(t)?er:Rr;return("function"!=typeof n||"undefined"!=typeof r)&&(n=me(n,r,3)),e(t,n)}function Ci(t,n,r){var e=Ha(t)?ir:Er;return n=me(n,r,3),e(t,n)}function Oi(t,n,r){if(Ha(t)){var e=Qe(t,n,r);return e>-1?t[e]:E}return n=me(n,r,3),kr(t,n,wr)}function Mi(t,n,r){return n=me(n,r,3),kr(t,n,br)}function Pi(t,n){return Oi(t,Wr(n))}function Ii(t,n,r){return"function"==typeof n&&"undefined"==typeof r&&Ha(t)?nr(t,n):wr(t,te(n,r,3))}function Bi(t,n,r){return"function"==typeof n&&"undefined"==typeof r&&Ha(t)?rr(t,n):br(t,te(n,r,3))}function Li(t,n,r){var e=t?t.length:0;return Se(e)||(t=ou(t),e=t.length),e?(r="number"==typeof r?0>r?Ea(e+r,0):r||0:0,"string"==typeof t||!Ha(t)&&Bo(t)?e>r&&t.indexOf(n,r)>-1:_e(t,n,r)>-1):!1}function Ni(t,n){return Pr(t,n,Vr(arguments,2))}function Wi(t,n,r){var e=Ha(t)?or:Nr;return n=me(n,r,3),e(t,n)}function Di(t,n){return Wi(t,qr(n))}function Ui(t,n,r,e){var i=Ha(t)?sr:Qr;return i(t,me(n,e,4),r,arguments.length<3,wr)}function Fi(t,n,r,e){var i=Ha(t)?fr:Qr;return i(t,me(n,e,4),r,arguments.length<3,br)}function qi(t,n,r){var e=Ha(t)?ir:Er;return n=me(n,r,3),e(t,function(t,r,e){return!n(t,r,e)})}function $i(t,n,r){if(r?ke(t,n,r):null==n){t=Ie(t);var e=t.length;return e>0?t[Yr(0,e-1)]:E}var i=Yi(t);return i.length=ka(0>n?0:+n||0,i.length),i}function Yi(t){t=Ie(t);for(var n=-1,r=t.length,e=Uu(r);++n<r;){var i=Yr(0,n);n!=i&&(e[n]=e[i]),e[i]=t[n]}return e}function Qi(t){var n=t?t.length:0;return Se(n)?n:es(t).length}function Vi(t,n,r){var e=Ha(t)?cr:Xr;return("function"!=typeof n||"undefined"!=typeof r)&&(n=me(n,r,3)),e(t,n)}function Xi(t,n,r){var e=-1,i=t?t.length:0,o=Se(i)?Uu(i):[];return r&&ke(t,n,r)&&(n=null),n=me(n,r,3),wr(t,function(t,r,i){o[++e]={criteria:n(t,r,i),index:e,value:t}}),u(o,l)}function Ji(t){var n=arguments;n.length>3&&ke(n[1],n[2],n[3])&&(n=[t,n[1]]);var r=-1,e=t?t.length:0,i=Sr(n,!1,!1,1),o=Se(e)?Uu(e):[];return wr(t,function(t){for(var n=i.length,e=Uu(n);n--;)e[n]=null==t?E:t[i[n]];o[++r]={criteria:e,index:r,value:t}}),u(o,h)}function Ki(t,n){return Ci(t,Wr(n))}function Gi(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Ku(q);var r=t;t=n,n=r}return t=Ra(t=+t)?t:0,function(){return--t<1?n.apply(this,arguments):void 0}}function Hi(t,n,r){return r&&ke(t,n,r)&&(n=null),n=t&&null==n?t.length:Ea(+n||0,0),pe(t,I,null,null,null,null,n)}function Zi(t,n){var r;if("function"!=typeof n){if("function"!=typeof t)throw new Ku(q);var e=t;t=n,n=e}return function(){return--t>0?r=n.apply(this,arguments):n=null,r}}function to(t,n){var r=S;if(arguments.length>2){var e=Vr(arguments,2),i=_(e,to.placeholder);r|=O}return pe(t,r,n,e,i)}function no(t){return yr(t,arguments.length>1?Sr(arguments,!1,!1,1):Jo(t))}function ro(t,n){var r=S|T;if(arguments.length>2){var e=Vr(arguments,2),i=_(e,ro.placeholder);r|=O}return pe(n,r,t,e,i)}function eo(t,n,r){r&&ke(t,n,r)&&(n=null);var e=pe(t,A,null,null,null,null,null,n);return e.placeholder=eo.placeholder,e}function io(t,n,r){r&&ke(t,n,r)&&(n=null);var e=pe(t,C,null,null,null,null,null,n);return e.placeholder=io.placeholder,e}function oo(t,n,r){function e(){h&&ca(h),s&&ca(s),s=h=p=E}function i(){var r=n-(Ga()-c);if(0>=r||r>n){s&&ca(s);var e=p;s=h=p=E,e&&(d=Ga(),f=t.apply(l,a),h||s||(a=l=null))}else h=ya(i,r)}function o(){h&&ca(h),s=h=p=E,(y||v!==n)&&(d=Ga(),f=t.apply(l,a),h||s||(a=l=null))}function u(){if(a=arguments,c=Ga(),l=this,p=y&&(h||!g),v===!1)var r=g&&!h;else{s||g||(d=c);var e=v-(c-d),u=0>=e||e>v;u?(s&&(s=ca(s)),d=c,f=t.apply(l,a)):s||(s=ya(o,e))}return u&&h?h=ca(h):h||n===v||(h=ya(i,n)),r&&(u=!0,f=t.apply(l,a)),!u||h||s||(a=l=null),f}var a,s,f,c,l,h,p,d=0,v=!1,y=!0;if("function"!=typeof t)throw new Ku(q);if(n=0>n?0:n,r===!0){var g=!0;y=!1}else jo(r)&&(g=r.leading,v="maxWait"in r&&Ea(+r.maxWait||0,n),y="trailing"in r?r.trailing:y);return u.cancel=e,u}function uo(t){return _r(t,1,arguments,1)}function ao(t,n){return _r(t,n,arguments,2)}function so(){var t=arguments,n=t.length;if(!n)return function(){return arguments[0]};if(!er(t,o))throw new Ku(q);return function(){for(var r=0,e=t[r].apply(this,arguments);++r<n;)e=t[r].call(this,e);return e}}function fo(){var t=arguments,n=t.length-1;if(0>n)return function(){return arguments[0]};if(!er(t,o))throw new Ku(q);return function(){for(var r=n,e=t[r].apply(this,arguments);r--;)e=t[r].call(this,e);return e}}function co(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Ku(q);var r=function(){var e=r.cache,i=n?n.apply(this,arguments):arguments[0];if(e.has(i))return e.get(i);var o=t.apply(this,arguments);return e.set(i,o),o};return r.cache=new co.Cache,r}function lo(t){if("function"!=typeof t)throw new Ku(q);return function(){return!t.apply(this,arguments)}}function ho(t){return Zi(t,2)}function po(t){var n=Vr(arguments,1),r=_(n,po.placeholder);return pe(t,O,null,n,r)}function vo(t){var n=Vr(arguments,1),r=_(n,vo.placeholder);return pe(t,M,null,n,r)}function yo(t){var n=Sr(arguments,!1,!1,1);return pe(t,P,null,null,null,n)}function go(t){if("function"!=typeof t)throw new Ku(q);return function(n){return t.apply(this,n)}}function mo(t,n,r){var e=!0,i=!0;if("function"!=typeof t)throw new Ku(q);return r===!1?e=!1:jo(r)&&(e="leading"in r?!!r.leading:e,i="trailing"in r?!!r.trailing:i),Fn.leading=e,Fn.maxWait=+n,Fn.trailing=i,oo(t,n,Fn)}function _o(t,n){return n=null==n?Au:n,pe(n,O,null,[t],[])}function xo(t,n,r,e){return n&&"boolean"!=typeof n&&ke(t,n,r)?n=!1:"function"==typeof n&&(e=r,r=n,n=!1),r="function"==typeof r&&te(r,e,1),mr(t,n,r)}function wo(t,n,r){return n="function"==typeof n&&te(n,r,1),mr(t,!0,n)}function bo(t){var n=g(t)?t.length:E;return Se(n)&&ia.call(t)==Y||!1}function Ro(t){return t===!0||t===!1||g(t)&&ia.call(t)==V||!1}function zo(t){return g(t)&&ia.call(t)==X||!1}function Eo(t){return t&&1===t.nodeType&&g(t)&&ia.call(t).indexOf("Element")>-1||!1}function ko(t){if(null==t)return!0;var n=t.length;return Se(n)&&(Ha(t)||Bo(t)||bo(t)||g(t)&&ts(t.splice))?!n:!es(t).length}function So(t,n,r,e){if(r="function"==typeof r&&te(r,e,3),!r&&Te(t)&&Te(n))return t===n;var i=r?r(t,n):E;return"undefined"==typeof i?Ir(t,n,r):!!i}function To(t){return g(t)&&"string"==typeof t.message&&ia.call(t)==J||!1}function jo(t){var n=typeof t;return"function"==n||t&&"object"==n||!1}function Ao(t,n,r,e){var i=es(n),o=i.length;if(r="function"==typeof r&&te(r,e,3),!r&&1==o){var u=i[0],a=n[u];if(Te(a))return null!=t&&a===t[u]&&ra.call(t,u)}for(var s=Uu(o),f=Uu(o);o--;)a=s[o]=n[i[o]],f[o]=Te(a);return Lr(t,i,s,f,r)}function Co(t){return Po(t)&&t!=+t}function Oo(t){return null==t?!1:ia.call(t)==K?ua.test(ta.call(t)):g(t)&&jn.test(t)||!1}function Mo(t){return null===t}function Po(t){return"number"==typeof t||g(t)&&ia.call(t)==H||!1}function Io(t){return g(t)&&ia.call(t)==tn||!1}function Bo(t){return"string"==typeof t||g(t)&&ia.call(t)==rn||!1}function Lo(t){return g(t)&&Se(t.length)&&Dn[ia.call(t)]||!1}function No(t){return"undefined"==typeof t}function Wo(t){var n=t?t.length:0;return Se(n)?n?tr(t):[]:ou(t)}function Do(t){return vr(t,Ho(t))}function Uo(t,n,r){var e=Da(t);return r&&ke(t,n,r)&&(n=null),n?vr(n,e,es(n)):e}function Fo(t){if(null==t)return t;var n=tr(arguments);return n.push(lr),rs.apply(E,n)}function qo(t,n,r){return n=me(n,r,3),kr(t,n,Cr,!0)}function $o(t,n,r){return n=me(n,r,3),kr(t,n,Or,!0)}function Yo(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=te(n,r,3)),Tr(t,n,Ho)}function Qo(t,n,r){return n=te(n,r,3),jr(t,n,Ho)}function Vo(t,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=te(n,r,3)),Cr(t,n)}function Xo(t,n,r){return n=te(n,r,3),jr(t,n,es)}function Jo(t){return Mr(t,Ho(t))}function Ko(t,n){return t?ra.call(t,n):!1}function Go(t,n,r){r&&ke(t,n,r)&&(n=null);for(var e=-1,i=es(t),o=i.length,u={};++e<o;){var a=i[e],s=t[a];n?ra.call(u,s)?u[s].push(a):u[s]=[a]:u[s]=a}return u}function Ho(t){if(null==t)return[];jo(t)||(t=Vu(t));var n=t.length;n=n&&Se(n)&&(Ha(t)||Wa.nonEnumArgs&&bo(t))&&n||0;for(var r=t.constructor,e=-1,i="function"==typeof r&&r.prototype===t,o=Uu(n),u=n>0;++e<n;)o[e]=e+"";for(var a in t)u&&Ee(a,n)||"constructor"==a&&(i||!ra.call(t,a))||o.push(a);return o}function Zo(t,n,r){var e={};return n=me(n,r,3),Cr(t,function(t,r,i){e[r]=n(t,r,i)}),e}function tu(t,n,r){if(null==t)return{};
if("function"!=typeof n){var e=or(Sr(arguments,!1,!1,1),Ju);return Ae(t,xr(Ho(t),e))}return n=te(n,r,3),Ce(t,function(t,r,e){return!n(t,r,e)})}function nu(t){for(var n=-1,r=es(t),e=r.length,i=Uu(e);++n<e;){var o=r[n];i[n]=[o,t[o]]}return i}function ru(t,n,r){return null==t?{}:"function"==typeof n?Ce(t,te(n,r,3)):Ae(t,Sr(arguments,!1,!1,1))}function eu(t,n,r){var e=null==t?E:t[n];return"undefined"==typeof e&&(e=r),ts(e)?e.call(t):e}function iu(t,n,r,e){var i=Ha(t)||Lo(t);if(n=me(n,e,4),null==r)if(i||jo(t)){var o=t.constructor;r=i?Ha(t)?new o:[]:Da(ts(o)&&o.prototype)}else r={};return(i?nr:Cr)(t,function(t,e,i){return n(r,t,e,i)}),r}function ou(t){return Kr(t,es(t))}function uu(t){return Kr(t,Ho(t))}function au(t,n,r){return n=+n||0,"undefined"==typeof r?(r=n,n=0):r=+r||0,t>=n&&r>t}function su(t,n,r){r&&ke(t,n,r)&&(n=r=null);var e=null==t,i=null==n;if(null==r&&(i&&"boolean"==typeof t?(r=t,t=1):"boolean"==typeof n&&(r=n,i=!0)),e&&i&&(n=1,i=!1),t=+t||0,i?(n=t,t=0):n=+n||0,r||t%1||n%1){var o=Aa();return ka(t+o*(n-t+parseFloat("1e-"+((o+"").length-1))),n)}return Yr(t,n)}function fu(t){return t=a(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function cu(t){return t=a(t),t&&t.replace(An,p)}function lu(t,n,r){t=a(t),n+="";var e=t.length;return r=("undefined"==typeof r?e:ka(0>r?0:+r||0,e))-n.length,r>=0&&t.indexOf(n,r)==r}function hu(t){return t=a(t),t&&wn.test(t)?t.replace(_n,d):t}function pu(t){return t=a(t),t&&Mn.test(t)?t.replace(On,"\\$&"):t}function du(t,n,r){t=a(t),n=+n;var e=t.length;if(e>=n||!Ra(n))return t;var i=(n-e)/2,o=la(i),u=fa(i);return r=le("",u,r),r.slice(0,o)+t+r}function vu(t,n,r){return t=a(t),t&&le(t,n,r)+t}function yu(t,n,r){return t=a(t),t&&t+le(t,n,r)}function gu(t,n,r){return r&&ke(t,n,r)&&(n=0),ja(t,n)}function mu(t,n){var r="";if(t=a(t),n=+n,1>n||!t||!Ra(n))return r;do n%2&&(r+=t),n=la(n/2),t+=t;while(n);return r}function _u(t,n,r){return t=a(t),r=null==r?0:ka(0>r?0:+r||0,t.length),t.lastIndexOf(n,r)==r}function xu(t,r,e){var i=n.templateSettings;e&&ke(t,r,e)&&(r=e=null),t=a(t),r=pr(pr({},e||r),i,hr);var o,u,s=pr(pr({},r.imports),i.imports,hr),f=es(s),c=Kr(s,f),l=0,h=r.interpolate||Cn,p="__p += '",d=Xu((r.escape||Cn).source+"|"+h.source+"|"+(h===zn?En:Cn).source+"|"+(r.evaluate||Cn).source+"|$","g"),y="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++Wn+"]")+"\n";t.replace(d,function(n,r,e,i,a,s){return e||(e=i),p+=t.slice(l,s).replace(In,v),r&&(o=!0,p+="' +\n__e("+r+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),e&&(p+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=s+n.length,n}),p+="';\n";var g=r.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(vn,""):p).replace(yn,"$1").replace(gn,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Su(function(){return $u(f,y+"return "+p).apply(E,c)});if(m.source=p,To(m))throw m;return m}function wu(t,n,r){var e=t;return(t=a(t))?(r?ke(e,n,r):null==n)?t.slice(w(t),b(t)+1):(n+="",t.slice(f(t,n),c(t,n)+1)):t}function bu(t,n,r){var e=t;return t=a(t),t?t.slice((r?ke(e,n,r):null==n)?w(t):f(t,n+"")):t}function Ru(t,n,r){var e=t;return t=a(t),t?(r?ke(e,n,r):null==n)?t.slice(0,b(t)+1):t.slice(0,c(t,n+"")+1):t}function zu(t,n,r){r&&ke(t,n,r)&&(n=null);var e=B,i=L;if(null!=n)if(jo(n)){var o="separator"in n?n.separator:o;e="length"in n?+n.length||0:e,i="omission"in n?a(n.omission):i}else e=+n||0;if(t=a(t),e>=t.length)return t;var u=e-i.length;if(1>u)return i;var s=t.slice(0,u);if(null==o)return s+i;if(Io(o)){if(t.slice(u).search(o)){var f,c,l=t.slice(0,u);for(o.global||(o=Xu(o.source,(kn.exec(o)||"")+"g")),o.lastIndex=0;f=o.exec(l);)c=f.index;s=s.slice(0,null==c?u:c)}}else if(t.indexOf(o,u)!=u){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+i}function Eu(t){return t=a(t),t&&xn.test(t)?t.replace(mn,R):t}function ku(t,n,r){return r&&ke(t,n,r)&&(n=null),t=a(t),t.match(n||Bn)||[]}function Su(){var t=arguments.length,n=arguments[0];try{for(var r=Uu(t?t-1:0);--t>0;)r[t-1]=arguments[t];return n.apply(E,r)}catch(e){return To(e)?e:new qu(e)}}function Tu(t,n,r){return r&&ke(t,n,r)&&(n=null),g(t)?Cu(t):gr(t,n)}function ju(t){return function(){return t}}function Au(t){return t}function Cu(t){return Wr(mr(t,!0))}function Ou(t,n){return Dr(t+"",mr(n,!0))}function Mu(t,n,r){if(null==r){var e=jo(n),i=e&&es(n),o=i&&i.length&&Mr(n,i);(o?o.length:e)||(o=!1,r=n,n=t,t=this)}o||(o=Mr(n,es(n)));var u=!0,a=-1,s=ts(t),f=o.length;r===!1?u=!1:jo(r)&&"chain"in r&&(u=r.chain);for(;++a<f;){var c=o[a],l=n[c];t[c]=l,s&&(t.prototype[c]=function(n){return function(){var r=this.__chain__;if(u||r){var e=t(this.__wrapped__);return(e.__actions__=tr(this.__actions__)).push({func:n,args:arguments,thisArg:t}),e.__chain__=r,e}var i=[this.value()];return pa.apply(i,arguments),n.apply(t,i)}}(l))}return t}function Pu(){return t._=oa,this}function Iu(){}function Bu(t){return qr(t+"")}function Lu(t){return function(n){return null==t?E:t[n]}}function Nu(t,n,r){r&&ke(t,n,r)&&(n=r=null),t=+t||0,r=null==r?1:+r||0,null==n?(n=t,t=0):n=+n||0;for(var e=-1,i=Ea(fa((n-t)/(r||1)),0),o=Uu(i);++e<i;)o[e]=t,t+=r;return o}function Wu(t,n,r){if(t=+t,1>t||!Ra(t))return[];var e=-1,i=Uu(ka(t,Ma));for(n=te(n,r,1);++e<t;)Ma>e?i[e]=n(e):n(e);return i}function Du(t){var n=++ea;return a(t)+n}t=t?Zn.defaults(Xn.Object(),t,Zn.pick(Xn,Nn)):Xn;var Uu=t.Array,Fu=t.Date,qu=t.Error,$u=t.Function,Yu=t.Math,Qu=t.Number,Vu=t.Object,Xu=t.RegExp,Ju=t.String,Ku=t.TypeError,Gu=Uu.prototype,Hu=Vu.prototype,Zu=(Zu=t.window)&&Zu.document,ta=$u.prototype.toString,na=qr("length"),ra=Hu.hasOwnProperty,ea=0,ia=Hu.toString,oa=t._,ua=Xu("^"+pu(ia).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=Oo(aa=t.ArrayBuffer)&&aa,sa=Oo(sa=aa&&new aa(0).slice)&&sa,fa=Yu.ceil,ca=t.clearTimeout,la=Yu.floor,ha=Oo(ha=Vu.getPrototypeOf)&&ha,pa=Gu.push,da=Hu.propertyIsEnumerable,va=Oo(va=t.Set)&&va,ya=t.setTimeout,ga=Gu.splice,ma=Oo(ma=t.Uint8Array)&&ma,_a=Oo(_a=t.WeakMap)&&_a,xa=function(){try{var n=Oo(n=t.Float64Array)&&n,r=new n(new aa(10),0,1)&&n}catch(e){}return r}(),wa=Oo(wa=Uu.isArray)&&wa,ba=Oo(ba=Vu.create)&&ba,Ra=t.isFinite,za=Oo(za=Vu.keys)&&za,Ea=Yu.max,ka=Yu.min,Sa=Oo(Sa=Fu.now)&&Sa,Ta=Oo(Ta=Qu.isFinite)&&Ta,ja=t.parseInt,Aa=Yu.random,Ca=Qu.NEGATIVE_INFINITY,Oa=Qu.POSITIVE_INFINITY,Ma=Yu.pow(2,32)-1,Pa=Ma-1,Ia=Ma>>>1,Ba=xa?xa.BYTES_PER_ELEMENT:0,La=Yu.pow(2,53)-1,Na=_a&&new _a,Wa=n.support={};!function(){Wa.funcDecomp=!Oo(t.WinRTError)&&Pn.test(z),Wa.funcNames="string"==typeof $u.name;try{Wa.dom=11===Zu.createDocumentFragment().nodeType}catch(n){Wa.dom=!1}try{Wa.nonEnumArgs=!da.call(arguments,1)}catch(n){Wa.nonEnumArgs=!0}}(0,0),n.templateSettings={escape:bn,evaluate:Rn,interpolate:zn,variable:"",imports:{_:n}};var Da=function(){function n(){}return function(r){if(jo(r)){n.prototype=r;var e=new n;n.prototype=null}return e||t.Object()}}(),Ua=Na?function(t,n){return Na.set(t,n),t}:Au;sa||(ne=aa&&ma?function(t){var n=t.byteLength,r=xa?la(n/Ba):0,e=r*Ba,i=new aa(n);if(r){var o=new xa(i,0,r);o.set(new xa(t,0,r))}return n!=e&&(o=new ma(i,e),o.set(new ma(t,e))),i}:ju(null));var Fa=ba&&va?function(t){return new Kn(t)}:ju(null),qa=Na?function(t){return Na.get(t)}:Iu,$a=function(){var t=0,n=0;return function(r,e){var i=Ga(),o=W-(i-n);if(n=i,o>0){if(++t>=N)return r}else t=0;return Ua(r,e)}}(),Ya=ie(function(t,n,r){ra.call(t,r)?++t[r]:t[r]=1}),Qa=ie(function(t,n,r){ra.call(t,r)?t[r].push(n):t[r]=[n]}),Va=ie(function(t,n,r){t[r]=n}),Xa=fe(ur),Ja=fe(ar,!0),Ka=ie(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),Ga=Sa||function(){return(new Fu).getTime()},Ha=wa||function(t){return g(t)&&Se(t.length)&&ia.call(t)==Q||!1};Wa.dom||(Eo=function(t){return t&&1===t.nodeType&&g(t)&&!ns(t)||!1});var Za=Ta||function(t){return"number"==typeof t&&Ra(t)},ts=o(/x/)||ma&&!o(ma)?function(t){return ia.call(t)==K}:o,ns=ha?function(t){if(!t||ia.call(t)!=Z)return!1;var n=t.valueOf,r=Oo(n)&&(r=ha(n))&&ha(r);return r?t==r||ha(t)==r:Me(t)}:Me,rs=oe(pr),es=za?function(t){if(t)var n=t.constructor,r=t.length;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&r&&Se(r)?Pe(t):jo(t)?za(t):[]}:Pe,is=oe(Ur),os=ae(function(t,n,r){return n=n.toLowerCase(),t+(r?n.charAt(0).toUpperCase()+n.slice(1):n)}),us=ae(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()});8!=ja(Ln+"08")&&(gu=function(t,n,r){return(r?ke(t,n,r):null==n)?n=0:n&&(n=+n),t=wu(t),ja(t,n||(Tn.test(t)?16:10))});var as=ae(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),ss=ae(function(t,n,r){return t+(r?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))});return n.prototype=r.prototype,m.prototype=Da(r.prototype),m.prototype.constructor=m,G.prototype=Da(r.prototype),G.prototype.constructor=G,$n.prototype["delete"]=Yn,$n.prototype.get=Qn,$n.prototype.has=Vn,$n.prototype.set=Jn,Kn.prototype.push=Hn,co.Cache=$n,n.after=Gi,n.ary=Hi,n.assign=rs,n.at=ji,n.before=Zi,n.bind=to,n.bindAll=no,n.bindKey=ro,n.callback=Tu,n.chain=xi,n.chunk=Ne,n.compact=We,n.constant=ju,n.countBy=Ya,n.create=Uo,n.curry=eo,n.curryRight=io,n.debounce=oo,n.defaults=Fo,n.defer=uo,n.delay=ao,n.difference=De,n.drop=Ue,n.dropRight=Fe,n.dropRightWhile=qe,n.dropWhile=$e,n.fill=Ye,n.filter=Ci,n.flatten=Je,n.flattenDeep=Ke,n.flow=so,n.flowRight=fo,n.forEach=Ii,n.forEachRight=Bi,n.forIn=Yo,n.forInRight=Qo,n.forOwn=Vo,n.forOwnRight=Xo,n.functions=Jo,n.groupBy=Qa,n.indexBy=Va,n.initial=He,n.intersection=Ze,n.invert=Go,n.invoke=Ni,n.keys=es,n.keysIn=Ho,n.map=Wi,n.mapValues=Zo,n.matches=Cu,n.matchesProperty=Ou,n.memoize=co,n.merge=is,n.mixin=Mu,n.negate=lo,n.omit=tu,n.once=ho,n.pairs=nu,n.partial=po,n.partialRight=vo,n.partition=Ka,n.pick=ru,n.pluck=Di,n.property=Bu,n.propertyOf=Lu,n.pull=ri,n.pullAt=ei,n.range=Nu,n.rearg=yo,n.reject=qi,n.remove=ii,n.rest=oi,n.shuffle=Yi,n.slice=ui,n.sortBy=Xi,n.sortByAll=Ji,n.spread=go,n.take=fi,n.takeRight=ci,n.takeRightWhile=li,n.takeWhile=hi,n.tap=wi,n.throttle=mo,n.thru=bi,n.times=Wu,n.toArray=Wo,n.toPlainObject=Do,n.transform=iu,n.union=pi,n.uniq=di,n.unzip=vi,n.values=ou,n.valuesIn=uu,n.where=Ki,n.without=yi,n.wrap=_o,n.xor=gi,n.zip=mi,n.zipObject=_i,n.backflow=fo,n.collect=Wi,n.compose=fo,n.each=Ii,n.eachRight=Bi,n.extend=rs,n.iteratee=Tu,n.methods=Jo,n.object=_i,n.select=Ci,n.tail=oi,n.unique=di,Mu(n,n),n.attempt=Su,n.camelCase=os,n.capitalize=fu,n.clone=xo,n.cloneDeep=wo,n.deburr=cu,n.endsWith=lu,n.escape=hu,n.escapeRegExp=pu,n.every=Ai,n.find=Oi,n.findIndex=Qe,n.findKey=qo,n.findLast=Mi,n.findLastIndex=Ve,n.findLastKey=$o,n.findWhere=Pi,n.first=Xe,n.has=Ko,n.identity=Au,n.includes=Li,n.indexOf=Ge,n.inRange=au,n.isArguments=bo,n.isArray=Ha,n.isBoolean=Ro,n.isDate=zo,n.isElement=Eo,n.isEmpty=ko,n.isEqual=So,n.isError=To,n.isFinite=Za,n.isFunction=ts,n.isMatch=Ao,n.isNaN=Co,n.isNative=Oo,n.isNull=Mo,n.isNumber=Po,n.isObject=jo,n.isPlainObject=ns,n.isRegExp=Io,n.isString=Bo,n.isTypedArray=Lo,n.isUndefined=No,n.kebabCase=us,n.last=ti,n.lastIndexOf=ni,n.max=Xa,n.min=Ja,n.noConflict=Pu,n.noop=Iu,n.now=Ga,n.pad=du,n.padLeft=vu,n.padRight=yu,n.parseInt=gu,n.random=su,n.reduce=Ui,n.reduceRight=Fi,n.repeat=mu,n.result=eu,n.runInContext=z,n.size=Qi,n.snakeCase=as,n.some=Vi,n.sortedIndex=ai,n.sortedLastIndex=si,n.startCase=ss,n.startsWith=_u,n.template=xu,n.trim=wu,n.trimLeft=bu,n.trimRight=Ru,n.trunc=zu,n.unescape=Eu,n.uniqueId=Du,n.words=ku,n.all=Ai,n.any=Vi,n.contains=Li,n.detect=Oi,n.foldl=Ui,n.foldr=Fi,n.head=Xe,n.include=Li,n.inject=Ui,Mu(n,function(){var t={};return Cr(n,function(r,e){n.prototype[e]||(t[e]=r)}),t}(),!1),n.sample=$i,n.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return $i(n,t)}):$i(this.value())},n.VERSION=k,nr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),nr(["filter","map","takeWhile"],function(t,n){var r=n==D,e=n==F;G.prototype[t]=function(t,i){var o=this.clone(),u=o.__filtered__,a=o.__iteratees__||(o.__iteratees__=[]);return o.__filtered__=u||r||e&&o.__dir__<0,a.push({iteratee:me(t,i,3),type:n}),o}}),nr(["drop","take"],function(t,n){var r="__"+t+"Count__",e=t+"While";G.prototype[t]=function(e){e=null==e?1:Ea(la(e)||0,0);var i=this.clone();if(i.__filtered__){var o=i[r];i[r]=n?ka(o,e):o+e}else{var u=i.__views__||(i.__views__=[]);u.push({size:e,type:t+(i.__dir__<0?"Right":"")})}return i},G.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()},G.prototype[t+"RightWhile"]=function(t,n){return this.reverse()[e](t,n).reverse()}}),nr(["first","last"],function(t,n){var r="take"+(n?"Right":"");G.prototype[t]=function(){return this[r](1).value()[0]}}),nr(["initial","rest"],function(t,n){var r="drop"+(n?"":"Right");G.prototype[t]=function(){return this[r](1)}}),nr(["pluck","where"],function(t,n){var r=n?"filter":"map",e=n?Wr:qr;G.prototype[t]=function(t){return this[r](e(t))}}),G.prototype.compact=function(){return this.filter(Au)},G.prototype.dropWhile=function(t,n){var r;return t=me(t,n,3),this.filter(function(n,e,i){return r||(r=!t(n,e,i))})},G.prototype.reject=function(t,n){return t=me(t,n,3),this.filter(function(n,r,e){return!t(n,r,e)})},G.prototype.slice=function(t,n){t=null==t?0:+t||0;var r=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof n&&(n=+n||0,r=0>n?r.dropRight(-n):r.take(n-t)),r},G.prototype.toArray=function(){return this.drop(0)},Cr(G.prototype,function(t,r){var e=n[r],i=/^(?:first|last)$/.test(r);n.prototype[r]=function(){var r=this.__wrapped__,o=arguments,u=this.__chain__,a=!!this.__actions__.length,s=r instanceof G,f=s&&!a;if(i&&!u)return f?t.call(r):e.call(n,this.value());var c=function(t){var r=[t];return pa.apply(r,o),e.apply(n,r)};if(s||Ha(r)){var l=f?r:new G(this),h=t.apply(l,o);if(!i&&(a||h.__actions__)){var p=h.__actions__||(h.__actions__=[]);p.push({func:bi,args:[c],thisArg:n})}return new m(h,u)}return this.thru(c)}}),nr(["concat","join","pop","push","shift","sort","splice","unshift"],function(t){var r=Gu[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?r.apply(this.value(),t):this[e](function(n){return r.apply(n,t)})}}),G.prototype.clone=nn,G.prototype.reverse=en,G.prototype.value=qn,n.prototype.chain=Ri,n.prototype.commit=zi,n.prototype.plant=Ei,n.prototype.reverse=ki,n.prototype.toString=Si,n.prototype.run=n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Ti,n.prototype.collect=n.prototype.map,n.prototype.head=n.prototype.first,n.prototype.select=n.prototype.filter,n.prototype.tail=n.prototype.rest,n}var E,k="3.3.0",S=1,T=2,j=4,A=8,C=16,O=32,M=64,P=128,I=256,B=30,L="...",N=150,W=16,D=0,U=1,F=2,q="Expected a function",$="__lodash_placeholder__",Y="[object Arguments]",Q="[object Array]",V="[object Boolean]",X="[object Date]",J="[object Error]",K="[object Function]",G="[object Map]",H="[object Number]",Z="[object Object]",tn="[object RegExp]",nn="[object Set]",rn="[object String]",en="[object WeakMap]",on="[object ArrayBuffer]",un="[object Float32Array]",an="[object Float64Array]",sn="[object Int8Array]",fn="[object Int16Array]",cn="[object Int32Array]",ln="[object Uint8Array]",hn="[object Uint8ClampedArray]",pn="[object Uint16Array]",dn="[object Uint32Array]",vn=/\b__p \+= '';/g,yn=/\b(__p \+=) '' \+/g,gn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mn=/&(?:amp|lt|gt|quot|#39|#96);/g,_n=/[&<>"'`]/g,xn=RegExp(mn.source),wn=RegExp(_n.source),bn=/<%-([\s\S]+?)%>/g,Rn=/<%([\s\S]+?)%>/g,zn=/<%=([\s\S]+?)%>/g,En=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/\w*$/,Sn=/^\s*function[ \n\r\t]+\w/,Tn=/^0[xX]/,jn=/^\[object .+?Constructor\]$/,An=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Cn=/($^)/,On=/[.*+?^${}()|[\]\/\\]/g,Mn=RegExp(On.source),Pn=/\bthis\b/,In=/['\n\r\u2028\u2029\\]/g,Bn=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"{2,}(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")}(),Ln=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Nn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Wn=-1,Dn={};Dn[un]=Dn[an]=Dn[sn]=Dn[fn]=Dn[cn]=Dn[ln]=Dn[hn]=Dn[pn]=Dn[dn]=!0,Dn[Y]=Dn[Q]=Dn[on]=Dn[V]=Dn[X]=Dn[J]=Dn[K]=Dn[G]=Dn[H]=Dn[Z]=Dn[tn]=Dn[nn]=Dn[rn]=Dn[en]=!1;var Un={};Un[Y]=Un[Q]=Un[on]=Un[V]=Un[X]=Un[un]=Un[an]=Un[sn]=Un[fn]=Un[cn]=Un[H]=Un[Z]=Un[tn]=Un[rn]=Un[ln]=Un[hn]=Un[pn]=Un[dn]=!0,Un[J]=Un[K]=Un[G]=Un[nn]=Un[en]=!1;var Fn={leading:!1,maxWait:0,trailing:!1},qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},$n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Yn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Qn={"function":!0,object:!0},Vn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xn=Qn[typeof window]&&window!==(this&&this.window)?window:this,Jn=Qn[typeof r]&&r&&!r.nodeType&&r,Kn=Qn[typeof n]&&n&&!n.nodeType&&n,Gn=Jn&&Kn&&"object"==typeof t&&t;!Gn||Gn.global!==Gn&&Gn.window!==Gn&&Gn.self!==Gn||(Xn=Gn);var Hn=Kn&&Kn.exports===Jn&&Jn,Zn=z();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Xn._=Zn,define(function(){return Zn})):Jn&&Kn?Hn?(Kn.exports=Zn)._=Zn:Jn._=Zn:Xn._=Zn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,n){(function(r){"use strict";function e(t){return new a(t.clientX,t.clientY)}var i,o=t("./Renderer"),u=t("./Stroke"),a=t("./Point"),s=t("./Color"),f=t("./Transform");!function(t){t[t.None=0]="None",t[t.Pressed=1]="Pressed",t[t.Pinching=2]="Pinching"}(i||(i={}));var c=function(){function t(){this.interactionState=0,this.transform=f.identity(),this.initialTransform=f.identity(),this.isStroking=!1,this.strokeWidth=4,this.strokeColor=new s(0,0,0,1),this.renderer=new o({tiled:!1}),this.currentStrokeRenderer=new o({tiled:!0});var t=this.element=document.createElement("div");t.className="canvas-area",t.appendChild(this.renderer.element),t.appendChild(this.currentStrokeRenderer.element),t.addEventListener("mousemove",this.onMouseMove.bind(this)),t.addEventListener("mousedown",this.onMouseDown.bind(this)),t.addEventListener("mouseup",this.onMouseUp.bind(this)),t.addEventListener("touchmove",this.onTouchMove.bind(this)),t.addEventListener("touchstart",this.onTouchStart.bind(this)),t.addEventListener("touchend",this.onTouchEnd.bind(this)),t.addEventListener("wheel",this.onWheel.bind(this))}return t.prototype.pinchStart=function(t){this.interactionState=2,this.pinchStartPoints=t,this.initialTransform=this.transform},t.prototype.pinchMove=function(t){2!==this.interactionState&&this.pinchStart(t);var n=t[0].sub(t[1]).length/this.pinchStartPoints[0].sub(this.pinchStartPoints[1]).length,r=this.pinchStartPoints[0].add(this.pinchStartPoints[1]).mul(.5),e=t[0].add(t[1]).mul(.5),i=e.sub(r.mul(n)),o=f.scale(n).merge(f.translation(i)),o=this.initialTransform.merge(o);this.updateTransform(o),this.renderer.update()},t.prototype.pinchEnd=function(){this.interactionState=0},t.prototype.pressStart=function(t){this.interactionState=1,t=t.transform(this.transform.invert());var n=this.currentStroke=new u;n.width=this.strokeWidth,n.color=this.strokeColor,n.addPoint(t),this.currentStrokeRenderer.strokes=[n];var r=this.currentStrokeRenderer;r.addDirtyRect(n.lastCurveBoundingRect),r.update()},t.prototype.pressMove=function(t){if(1===this.interactionState){t=t.transform(this.transform.invert());var n=this.currentStroke,r=this.currentStrokeRenderer;r.addDirtyRect(n.lastCurveBoundingRect),n.addPoint(t),r.addDirtyRect(n.lastCurveBoundingRect),r.update()}},t.prototype.pressEnd=function(){var t=this;1===this.interactionState&&(this.renderer.strokes.push(this.currentStroke),r.nextTick(function(){t.renderer.addDirtyRect(t.currentStroke.boundingRect),t.renderer.drawOther(t.currentStrokeRenderer),t.currentStrokeRenderer.strokes=[],t.currentStrokeRenderer.addDirtyRect(t.currentStroke.boundingRect),t.currentStrokeRenderer.clear(),t.currentStrokeRenderer.tiles.forEach(function(t){t.isBlank=!0})}),this.interactionState=0)},t.prototype.updateTransform=function(t){this.transform=t,this.renderer.transform=t,this.currentStrokeRenderer.transform=t},t.prototype.onMouseMove=function(t){this.pressMove(new a(t.clientX,t.clientY))},t.prototype.onMouseDown=function(t){this.pressStart(new a(t.clientX,t.clientY))},t.prototype.onMouseUp=function(){this.pressEnd()},t.prototype.onTouchMove=function(t){if(1===t.touches.length){var n=t.touches[0];this.pressMove(e(n))}else 2===t.touches.length&&this.pinchMove([0,1].map(function(n){return e(t.touches[n])}));t.preventDefault()},t.prototype.onTouchStart=function(t){if(1===t.touches.length){var n=t.touches[0];this.pressStart(e(n))}else 2===t.touches.length&&this.pinchStart([0,1].map(function(n){return e(t.touches[n])}));t.preventDefault()},t.prototype.onTouchEnd=function(t){this.pressEnd(),this.pinchEnd(),t.preventDefault()},t.prototype.onWheel=function(t){var n=this.transform.translate(new a(-t.deltaX,-t.deltaY));this.updateTransform(n),this.renderer.update(),t.preventDefault()},t}();n.exports=c}).call(this,t("_process"))},{"./Color":5,"./Point":7,"./Renderer":9,"./Stroke":11,"./Transform":12,_process:2}],5:[function(t,n){"use strict";var r=function(){function t(t,n,r,e){this.r=t,this.g=n,this.b=r,this.a=e}return t.prototype.toString=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},t}();n.exports=r},{}],6:[function(t,n){"use strict";var r=t("./Point"),e=t("./Rect"),i=t("./vendor/bezier"),o=function(){function t(t,n,r,e){this.start=t,this.control1=n,this.control2=r,this.end=e,this.boundingRect=this.calcBoundingRect()}return t.prototype.calcBoundingRect=function(){var t=new i([this.start,this.control1,this.control2,this.end]),n=t.bbox();return new e(new r(n.x.min,n.y.min),new r(n.x.max,n.y.max))},t.catmullRom=function(n,r,e,i){return new t(r,r.add(e.sub(n).div(6)),e.sub(i.sub(r).div(6)),e)},t.bSpline=function(n,r,e,i){return new t(n.add(r.mul(4)).add(e).div(6),r.mul(2).add(e).div(3),e.mul(2).add(r).div(3),i.add(e.mul(4)).add(r).div(6))},t}();n.exports=o},{"./Point":7,"./Rect":8,"./vendor/bezier":13}],7:[function(t,n){"use strict";var r=function(){function t(t,n){this.x=t,this.y=n}return t.prototype.add=function(n){return new t(this.x+n.x,this.y+n.y)},t.prototype.sub=function(n){return new t(this.x-n.x,this.y-n.y)},t.prototype.mul=function(n){return new t(this.x*n,this.y*n)},t.prototype.div=function(n){return new t(this.x/n,this.y/n)},t.prototype.negate=function(){return new t(-this.x,-this.y)},Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!0,configurable:!0}),t.prototype.floor=function(){return new t(Math.floor(this.x),Math.floor(this.y))},t.prototype.ceil=function(){return new t(Math.ceil(this.x),Math.ceil(this.y))},t.prototype.transform=function(n){var r=n.m11*this.x+n.m21*this.y+n.dx,e=n.m12*this.x+n.m22*this.y+n.dy;return new t(r,e)},t.prototype.toString=function(){return"Point("+this.x+","+this.y+")"},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},t}();n.exports=r},{}],8:[function(t,n){"use strict";var r=t("./Point"),e=function(){function t(t,n){this.min=t,this.max=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this.min.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.min.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.max.x-this.min.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.max.y-this.min.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.max.x<this.min.x||this.max.y<this.min.y},enumerable:!0,configurable:!0}),t.prototype.union=function(n){if(this.isEmpty)return n;if(n.isEmpty)return this;var e=new r(Math.min(this.min.x,n.min.x),Math.min(this.min.y,n.min.y)),i=new r(Math.max(this.max.x,n.max.x),Math.max(this.max.y,n.max.y));return new t(e,i)},t.prototype.intersection=function(n){if(this.isEmpty||n.isEmpty)return t.empty;var e=new r(Math.max(this.min.x,n.min.x),Math.max(this.min.y,n.min.y)),i=new r(Math.min(this.max.x,n.max.x),Math.min(this.max.y,n.max.y));return new t(e,i)},t.prototype.outset=function(n){var e=new r(n,n);return new t(this.min.sub(e),this.max.add(e))},t.prototype.translate=function(n){return new t(this.min.add(n),this.max.add(n))},t.prototype.transform=function(n){var r=this.min.transform(n),e=this.max.transform(n);return t.fromPoints(r,e)},t.prototype.boundingIntegerRect=function(){return new t(this.min.floor(),this.max.ceil())},t.prototype.toString=function(){return"Rect("+this.min+","+this.max+")"},t.prototype.equals=function(t){return this.min.equals(t.min)&&this.max.equals(t.max)},t.fromPoints=function(n,e){var i=new r(Math.min(n.x,e.x),Math.min(n.y,e.y)),o=new r(Math.max(n.x,e.x),Math.max(n.y,e.y));return new t(i,o)},t.fromMetrics=function(n,e,i,o){return new t(new r(n,e),new r(n+i,e+o))},Object.defineProperty(t,"empty",{get:function(){return new t(new r(0,0),new r(-1,-1))},enumerable:!0,configurable:!0}),t}();n.exports=e},{"./Point":7}],9:[function(t,n){(function(r){"use strict";var e=t("lodash"),i=t("./Point"),o=t("./Rect"),u=t("./Transform"),a=t("./RendererTile"),s=256,f=function(){function t(t){this.isTiled=!0,this.element=document.createElement("div"),this.tiles=[],this.strokes=[],this.isRenderQueued=!1,this.devicePixelRatio=1,this.width=0,this.height=0,this.dirtyRect=o.empty,this._transform=u.identity(),this.transformToPixel=u.identity();var n={tiled:!0};e.assign(n,t),this.isTiled=n.tiled,this.element.className="canvas-area__renderer",window.addEventListener("resize",this.onResize.bind(this)),this.onResize()}return Object.defineProperty(t.prototype,"transform",{get:function(){return this._transform},set:function(t){this._transform=t,this.transformToPixel=t.scale(this.devicePixelRatio),this.dirtyWhole(),this.updateTileTransforms()},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.strokes.push(t)},t.prototype.addDirtyRect=function(t){this.dirtyRect=this.dirtyRect.union(t.transform(this.transformToPixel).boundingIntegerRect())},t.prototype.dirtyWhole=function(){this.dirtyRect=o.fromMetrics(0,0,this.width*this.devicePixelRatio,this.height*this.devicePixelRatio)},t.prototype.update=function(){var t=this;this.isRenderQueued||(this.isRenderQueued=!0,r.nextTick(function(){t.beginRendering(),t.render(),t.isRenderQueued=!1}))},t.prototype.clear=function(){this.beginRendering()},t.prototype.beginRendering=function(t){var n=this;void 0===t&&(t=!0),this.tiles.forEach(function(r){r.beginRendering(n.dirtyRect,t)}),this.dirtyRect=o.empty},t.prototype.drawOther=function(t){this.beginRendering(!1),this.tiles.forEach(function(n){t.tiles.forEach(function(t){n.drawOther(t)})})},t.prototype.render=function(){var t=this;this.tiles.forEach(function(n){t.strokes.forEach(function(t){n.drawStroke(t)})})},t.prototype.updateTileTransforms=function(){var t=this;this.tiles.forEach(function(n){n.setRendererTransform(t.transformToPixel)})},t.prototype.onResize=function(){var t=this.width=window.innerWidth,n=this.height=window.innerHeight,r=this.devicePixelRatio=window.devicePixelRatio||1;this.transformToPixel=this.transform.scale(r),console.log("resized to "+t+" * "+n+", pixel ratio "+r),this.rebuildTiles(),this.update()},t.prototype.rebuildTiles=function(){var t,n=this,r=this.devicePixelRatio,e=this.width*r,u=this.height*r;if(this.isTiled){var r=this.devicePixelRatio;for(t=Math.floor(s/r)*r;Math.floor(t)!==t;)t-=r}else t=Math.max(e,u);var f=Math.ceil(e/t),c=Math.ceil(u/t);this.tiles.forEach(function(t){n.element.removeChild(t.element)}),this.tiles=[];for(var l=0;c>l;++l){var h;l===c-1?(h=u%t,0===h&&(h=t)):h=t;for(var p=0;f>p;++p){var d;p===f-1?(d=e%t,0===d&&(d=t)):d=t;var v=new i(p,l).mul(t),y=v.add(new i(d,h)),g=new a(new o(v,y));this.tiles.push(g),this.element.appendChild(g.element)}}this.updateTileTransforms(),this.update()},t}();n.exports=f}).call(this,t("_process"))},{"./Point":7,"./Rect":8,"./RendererTile":10,"./Transform":12,_process:2,lodash:3}],10:[function(t,n){"use strict";var r=t("./Rect"),e=t("./Transform"),i=function(){function t(t){this.rect=r.empty,this.rendererTransform=e.identity(),this.transform=e.identity(),this.isBlank=!0,this.renderingRect=r.empty,this.rect=t;var n=this.element=document.createElement("canvas");n.width=t.width,n.height=t.height;var i=window.devicePixelRatio||0;n.className="canvas-area__renderer-tile";var o=n.style;o.left=""+t.x/i+"px",o.top=""+t.y/i+"px",o.width=""+t.width/i+"px",o.height=""+t.height/i+"px",this.context=n.getContext("2d"),this.context.save()}return t.prototype.setRendererTransform=function(t){this.rendererTransform=t,this.transform=t.translate(this.rect.min.negate())},t.prototype.beginRendering=function(t,n){void 0===n&&(n=!0);var e=this.rect.intersection(t);if(e.isEmpty)return void(this.renderingRect=r.empty);var i=this.renderingRect=e.translate(this.rect.min.negate()),o=this.context;o.restore(),o.save(),!this.isBlank&&n&&(o.clearRect(i.x,i.y,i.width,i.height),e.equals(this.rect)&&(this.isBlank=!0)),o.beginPath(),o.rect(i.x,i.y,i.width,i.height),o.closePath(),o.clip()},t.prototype.drawOther=function(t){if(!t.isBlank){this.isBlank=!1;var n=this.context;n.setTransform(1,0,0,1,0,0);var r=t.rect.min.sub(this.rect.min);n.drawImage(t.element,r.x,r.y)}},t.prototype.drawStroke=function(t){if(!this.renderingRect.isEmpty){var n=t.boundingRect.transform(this.rendererTransform);if(!this.rect.intersection(n).isEmpty){this.isBlank=!1;var r=t.points.length;if(0!==r){var e=this.context;e.globalCompositeOperation=t.composition,e.lineCap="round",e.lineJoin="round";var i=this.transform;e.setTransform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy);var o=t.points[0];1===r&&(e.fillStyle=t.color.toString(),e.beginPath(),e.arc(o.x,o.y,t.width/2,0,2*Math.PI),e.fill()),r>1&&(e.lineWidth=t.width,e.strokeStyle=t.color.toString(),e.beginPath(),e.moveTo(o.x,o.y),t.curves.forEach(function(t){e.bezierCurveTo(t.control1.x,t.control1.y,t.control2.x,t.control2.y,t.end.x,t.end.y)}),e.stroke())}}}},t}();n.exports=i},{"./Rect":8,"./Transform":12}],11:[function(t,n){"use strict";var r=t("./Point"),e=t("./Curve"),i=t("./Color"),o=t("./Rect"),u=function(){function t(){this.points=[],this.color=new i(0,0,0,1),this.composition="source-over",this.width=1,this.curves=[],this.finalizedBoundingRect=o.empty,this.lastCurveBoundingRect=o.empty}return Object.defineProperty(t.prototype,"boundingRect",{get:function(){return this.finalizedBoundingRect.union(this.lastCurveBoundingRect)},enumerable:!0,configurable:!0}),t.prototype.addPoint=function(t){this.points.push(t);var n=this.points.length;if(1===n){var e=.5*this.width,i=new o(t.sub(new r(e,e)),t.add(new r(e,e)));this.finalizedBoundingRect=this.lastCurveBoundingRect=i}else{if(n>=3){var u=this.curves[n-3]=this.curveAt(n-3),i=u.boundingRect.outset(.5*this.width);this.finalizedBoundingRect=this.finalizedBoundingRect.union(i)}if(n>=2){var u=this.curveAt(n-2);this.curves.push(u),this.lastCurveBoundingRect=u.boundingRect.outset(.5*this.width)}}},t.prototype.curveAt=function(t){var n=this.points[t-1],r=this.points[t],i=this.points[t+1],o=this.points[t+2];return e.bSpline(n||r,r,i,o||i)},t}();n.exports=u},{"./Color":5,"./Curve":6,"./Point":7,"./Rect":8}],12:[function(t,n){"use strict";
var r=function(){function t(t,n,r,e,i,o){this.m11=t,this.m12=n,this.m21=r,this.m22=e,this.dx=i,this.dy=o}return t.prototype.merge=function(n){var r=n.m11*this.m11+n.m21*this.m12,e=n.m11*this.m21+n.m21*this.m22,i=n.m12*this.m11+n.m22*this.m12,o=n.m12*this.m21+n.m22*this.m22,u=n.m11*this.dx+n.m21*this.dy+n.dx,a=n.m12*this.dx+n.m22*this.dy+n.dy;return new t(r,e,i,o,u,a)},t.prototype.invert=function(){var n=this.m11*this.m22-this.m12*this.m21,r=this.m22/n,e=-this.m12/n,i=-this.m21/n,o=this.m11/n,u=-(r*this.dx+i*this.dy),a=-(e*this.dx+o*this.dy);return new t(r,e,i,o,u,a)},t.prototype.translate=function(n){return new t(this.m11,this.m12,this.m21,this.m22,this.dx+n.x,this.dy+n.y)},t.prototype.scale=function(n){return new t(this.m11*n,this.m12*n,this.m21*n,this.m22*n,this.dx*n,this.dy*n)},t.identity=function(){return new t(1,0,0,1,0,0)},t.scale=function(n){return new t(n,0,0,n,0,0)},t.translation=function(n){return new t(1,0,0,1,n.x,n.y)},t}();n.exports=r},{}],13:[function(n,r){!function(){"use strict";var n=Math.abs,e=Math.min,i=Math.max,o=Math.cos,u=Math.sin,a=Math.acos,s=(Math.asin,Math.atan2),f=Math.sqrt,c=function(t){return 0>t?-Math.pow(-t,1/3):Math.pow(t,1/3)},l=Math.PI,h=2*l,p={x:0,y:0,z:0},d={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,n,r){var e=r(n);return e=e.x*e.x+e.y*e.y,"undefined"!=typeof e.z&&(e+=e.z*e.z),f(e)},length:function(t,n){var r,e,i=.5,o=0,u=this.Tvalues.length;for(r=0;u>r;r++)e=i*this.Tvalues[r]+i,o+=this.Cvalues[r]*this.arcfn(t,e,n);return i*o},map:function(t,n,r,e,i){var o=r-n,u=i-e,a=t-n,s=a/o;return e+u*s},lerp:function(t,n,r){var e={x:n.x+t*(r.x-n.x),y:n.y+t*(r.y-n.y)};return n.z&&r.z&&(e.z=n.z+t*(r.z-n.z)),e},pointToString:function(t){var n=t.x+"/"+t.y;return"undefined"!=typeof t.z&&(n+="/"+t.z),n},pointsToString:function(t){return"["+t.map(this.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,n,r){var e,i=n.x-t.x,o=n.y-t.y,u=r.x-t.x,a=r.y-t.y,c=i*a-o*u,l=f(i*i+o*o),h=f(u*u+a*a);return i/=l,o/=l,u/=h,a/=h,e=i*u+o*a,s(c,e)},lli8:function(t,n,r,e,i,o,u,a){var s=(t*e-n*r)*(i-u)-(t-r)*(i*a-o*u),f=(t*e-n*r)*(o-a)-(n-e)*(i*a-o*u),c=(t-r)*(o-a)-(n-e)*(i-u);return 0==c?!1:{x:s/c,y:f/c}},lli4:function(t,n,r,e){var i=t.x,o=t.y,u=n.x,a=n.y,s=r.x,f=r.y,c=e.x,l=e.y;return this.lli8(i,o,u,a,s,f,c,l)},lli:function(t,n){return this.lli4(t,t.c,n,n.c)},makeline:function(t,n){var r=t.x,e=t.y,i=n.x,o=n.y,u=(i-r)/3,a=(o-e)/3;return new y(r,e,r+u,e+a,r+2*u,e+2*a,i,o)},findbbox:function(t){var n=99999999,r=n,e=-n,i=e;return t.forEach(function(t){var o=t.bbox();n>o.x.min&&(n=o.x.min),r>o.y.min&&(r=o.y.min),e<o.x.max&&(e=o.x.max),i<o.y.max&&(i=o.y.max)}),{x:{min:n,mid:(n+e)/2,max:e,size:e-n},y:{min:r,mid:(r+i)/2,max:i,size:i-r}}},shapeintersections:function(t,n,r,e){if(!this.bboxoverlap(n,e))return[];var i=[],o=[t.startcap,t.forward,t.back,t.endcap],u=[r.startcap,r.forward,r.back,r.endcap];return o.forEach(function(n){n.virtual||u.forEach(function(e){if(!e.virtual){var o=n.intersects(e);o.length>0&&(o.c1=n,o.c2=e,o.s1=t,o.s2=r,i.push(o))}})}),i},makeshape:function(t,n){var r=n.points.length,e=t.points.length,i=this.makeline(n.points[r-1],t.points[0]),o=this.makeline(t.points[e-1],n.points[0]),u={startcap:i,forward:t,back:n,endcap:o,bbox:this.findbbox([i,t,n,o])},a=this;return u.intersections=function(t){return a.shapeintersections(u,u.bbox,t,t.bbox)},u},getminmax:function(t,n,r){if(!r)return{min:0,max:0};var e,i,o=0x10000000000000000,u=-o;-1===r.indexOf(0)&&(r=[0].concat(r)),-1===r.indexOf(1)&&r.push(1);for(var a=0,s=r.length;s>a;a++)e=r[a],i=t.get(e),i[n]<o&&(o=i[n]),i[n]>u&&(u=i[n]);return{min:o,mid:(o+u)/2,max:u,size:u-o}},align:function(t,n){var r=n.p1.x,e=n.p1.y,i=-s(n.p2.y-e,n.p2.x-r),a=function(t){return{x:(t.x-r)*o(i)-(t.y-e)*u(i),y:(t.x-r)*u(i)+(t.y-e)*o(i)}};return t.map(a)},roots:function(t,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};var r=t.length-1,e=this.align(t,n),i=function(t){return t>=0&&1>=t};if(2===r){var u=e[0].y,s=e[1].y,l=e[2].y,p=u-2*s+l;if(0!==p){var d=-f(s*s-u*l),v=-u+s,y=-(d+v)/p,g=-(-d+v)/p;return[y,g].filter(i)}return s!==l&&0===p?[(2*s-l)/2*(s-l)].filter(i):[]}var m,y,_,x,w,b=e[0].y,R=e[1].y,z=e[2].y,E=e[3].y,p=-b+3*R-3*z+E,u=(3*b-6*R+3*z)/p,s=(-3*b+3*R)/p,l=b/p,e=(3*s-u*u)/3,k=e/3,S=(2*u*u*u-9*u*s+27*l)/27,T=S/2,j=T*T+k*k*k;if(0>j){var A=-e/3,C=A*A*A,O=f(C),M=-S/(2*O),P=-1>M?-1:M>1?1:M,I=a(P),B=c(O),L=2*B;return _=L*o(I/3)-u/3,x=L*o((I+h)/3)-u/3,w=L*o((I+2*h)/3)-u/3,[_,x,w].filter(i)}if(0===j)return m=0>T?c(-T):-c(T),_=2*m-u/3,x=-m-u/3,[_,x].filter(i);var N=f(j);return m=c(-T+N),y=c(T+N),[m-y-u/3].filter(i)},droots:function(t){if(3===t.length){var n=t[0],r=t[1],e=t[2],i=n-2*r+e;if(0!==i){var o=-f(r*r-n*e),u=-n+r,a=-(o+u)/i,s=-(-o+u)/i;return[a,s]}return r!==e&&0===i?[(2*r-e)/(2*(r-e))]:[]}if(2===t.length){var n=t[0],r=t[1];return n!==r?[n/(n-r)]:[]}},bboxoverlap:function(t,r){var e,i,o,u,a,s=["x","y"],f=s.length;for(e=0;f>e;e++)if(i=s[e],o=t[i].mid,u=r[i].mid,a=(t[i].size+r[i].size)/2,n(o-u)>=a)return!1;return!0},expandbox:function(t,n){n.x.min<t.x.min&&(t.x.min=n.x.min),n.y.min<t.y.min&&(t.y.min=n.y.min),n.z&&n.z.min<t.z.min&&(t.z.min=n.z.min),n.x.max>t.x.max&&(t.x.max=n.x.max),n.y.max>t.y.max&&(t.y.max=n.y.max),n.z&&n.z.max>t.z.max&&(t.z.max=n.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,n){var r=t.bbox(),e=n.bbox(),i=1e5,o=.5;if(r.x.size+r.y.size<o&&e.x.size+e.y.size<o)return[(i*(t._t1+t._t2)/2|0)/i+"/"+(i*(n._t1+n._t2)/2|0)/i];var u=t.split(.5),a=n.split(.5),s=[{left:u.left,right:a.left},{left:u.left,right:a.right},{left:u.right,right:a.right},{left:u.right,right:a.left}];s=s.filter(function(t){return d.bboxoverlap(t.left.bbox(),t.right.bbox())});var f=[];return 0===s.length?f:(s.forEach(function(t){f=f.concat(d.pairiteration(t.left,t.right))}),f=f.filter(function(t,n){return f.indexOf(t)===n}))}},v=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};v.prototype={valueOf:function(){return this.toString()},toString:function(){return d.pointsToString(this.points)},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map(function(t){return t.length()}).reduce(function(t,n){return t+n})},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,n=t[0].bbox(),r=1;r<t.length;r++)d.expandbox(n,t[r].bbox());return n},offset:function(t){var n=[];return this.curves.forEach(function(r){n=n.concat(r.offset(t))}),new v(n)}};var y=function(t){var r=t&&t.forEach?t:arguments;if("object"==typeof r[0]){r=[];for(var e=0;e<t.length;e++)["x","y","z"].forEach(function(n){"undefined"!=typeof t[e][n]&&r.push(t[e][n])})}var i=r.length;if(6!==i&&8!==i&&9!==i&&12!==i)throw new Error("This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)");var o=9===i||12===i;this._3d=o;for(var u=[],a=0,s=o?3:2;i>a;a+=s){var f={x:r[a],y:r[a+1]};o&&(f.z=r[a+2]),u.push(f)}this.order=u.length-1,this.points=u;var c=["x","y"];o&&c.push("z"),this.dims=c,this.dimlen=c.length,function(t){for(var r=d.align(u,{p1:u[0],p2:u[t.order]}),e=0;e<r.length;e++)if(n(r[e].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};y.utils=d,y.prototype={valueOf:function(){return this.toString()},toString:function(){return d.pointsToString(this.points)},toSVG:function(){if(this._3d)return!1;for(var t=this.points,n=t[0].x,r=t[0].y,e="M "+n+" "+r+" "+(2===this.order?"Q ":"C "),i=1,o=t.length;o>i;i++)e+=t[i].x+" "+t[i].y;return e},update:function(){this.dpoints=[];for(var t=this.points,n=t.length,r=n-1;n>1;n--,r--){for(var e,i=[],o=0;r>o;o++)e={x:r*(t[o+1].x-t[o].x),y:r*(t[o+1].y-t[o].y)},this._3d&&(e.z=r*(t[o+1].z-t[o].z)),i.push(e);this.dpoints.push(i),t=i}this.computedirection()},computedirection:function(){var t=this.points,n=d.angle(t[0],t[this.order],t[1]);this.clockwise=n>0},length:function(){return d.length(this.points,this.derivative.bind(this))},getLUT:function(t){t=t||100;for(var n=[],r=0;t>=r;r++)n.push(this.compute(r/t));return n},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){if(0===t)return this.points[0];if(1===t)return this.points[this.order];var n,r,e,i=1-t,o=i*i,u=t*t,a=0,s=this.points;2===this.order&&(s=[s[0],s[1],s[2],p],n=o,r=i*t*2,e=u),3===this.order&&(n=o*i,r=o*t*3,e=i*u*3,a=t*u);var f={x:n*s[0].x+r*s[1].x+e*s[2].x+a*s[3].x,y:n*s[0].y+r*s[1].y+e*s[2].y+a*s[3].y};return this._3d&&(f.z=n*s[0].z+r*s[1].z+e*s[2].z+a*s[3].z),f},raise:function(){for(var t,n,r,e=this.points,i=[e[0]],o=e.length,t=1;o>t;t++)n=e[t],r=e[t-1],i[t]={x:(o-t)/o*n.x+t/o*r.x,y:(o-t)/o*n.y+t/o*r.y};return i[o]=e[o-1],new y(i)},derivative:function(t){var n,r,e=1-t,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],p],n=e,r=t),3===this.order&&(n=e*e,r=e*t*2,i=t*t);var u={x:n*o[0].x+r*o[1].x+i*o[2].x,y:n*o[0].y+r*o[1].y+i*o[2].y};return this._3d&&(u.z=n*o[0].z+r*o[1].z+i*o[2].z),u},normal:function(t){return this._3d?this.__normal3(t):this.__normal2(t)},__normal2:function(t){var n=this.derivative(t),r=f(n.x*n.x+n.y*n.y);return{x:-n.y/r,y:n.x/r}},__normal3:function(){var n=this.derivative(t),r=this.derivative(t+.01),e=f(n.x*n.x+n.y*n.y+n.z*n.z),i=f(r.x*r.x+r.y*r.y+r.z*r.z);n.x/=e,n.y/=e,n.z/=e,r.x/=i,r.y/=i,r.z/=i;var o={x:r.y*n.z-r.z*n.y,y:r.z*n.x-r.x*n.z,z:r.x*n.y-r.y*n.x},u=f(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=u,o.y/=u,o.z/=u;var a=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z],s={x:a[0]*n.x+a[1]*n.y+a[2]*n.z,y:a[3]*n.x+a[4]*n.y+a[5]*n.z,z:a[6]*n.x+a[7]*n.y+a[8]*n.z};return s},split:function(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;var r,e=this.points,i=[],o=[],u=0,a=0,s=0;for(o[u++]=e[0],o[u++]=e[1],o[u++]=e[2],3===this.order&&(o[u++]=e[3]);e.length>1;){for(i=[],a=0,s=e.length-1;s>a;a++)r=d.lerp(t,e[a],e[a+1]),o[u++]=r,i.push(r);e=i}var f={left:new y(2===this.order?[o[0],o[3],o[5]]:[o[0],o[4],o[7],o[9]]),right:new y(2===this.order?[o[5],o[4],o[2]]:[o[9],o[8],o[6],o[3]]),span:o};if(f.left._t1=d.map(0,0,1,this._t1,this._t2),f.left._t2=d.map(t,0,1,this._t1,this._t2),f.right._t1=d.map(t,0,1,this._t1,this._t2),f.right._t2=d.map(1,0,1,this._t1,this._t2),!n)return f;n=d.map(n,t,1,0,1);var c=f.right.split(n);return c.left},inflections:function(){var t,n,r=this.dims,e=(this.dimlen,{}),i=[];return r.forEach(function(r){n=function(t){return t[r]},t=this.dpoints[0].map(n),e[r]=d.droots(t),3===this.order&&(t=this.dpoints[1].map(n),e[r]=e[r].concat(d.droots(t))),e[r]=e[r].filter(function(t){return t>=0&&1>=t}),i=i.concat(e[r].sort())}.bind(this)),i.sort(),e.values=i,e},bbox:function(){var t=this.inflections(),n={};return this.dims.forEach(function(r){n[r]=d.getminmax(this,r,t[r])}.bind(this)),n},overlaps:function(t){var n=this.bbox(),r=t.bbox();return d.bboxoverlap(n,r)},offset:function(t,n){if("undefined"!=typeof n){var r=this.get(t),e=this.normal(t),i={c:r,n:e,x:r.x+e.x*n,y:r.y+e.y*n};return this._3d&&(i.z=r.z+e.z*n),i}if(this._linear){var o=this.normal(0),u=this.points.map(function(n){var r={x:n.x+t*o.x,y:n.y+t*o.y};return n.z&&e.z&&(r.z=n.z+t*o.z),r});return[new y(u)]}var a=this.reduce();return a.map(function(n){return n.scale(t)})},simple:function(){if(3===this.order){var t=d.angle(this.points[0],this.points[3],this.points[1]),r=d.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&0>r||0>t&&r>0)return!1}var e=this.normal(0),i=this.normal(1),o=e.x*i.x+e.y*i.y;this._3d&&(o+=e.z*i.z);var u=n(a(o));return l/3>u},reduce:function(){var t,r,e=0,i=0,o=.01,u=[],a=[],s=this.inflections().values;for(-1===s.indexOf(0)&&(s=[0].concat(s)),-1===s.indexOf(1)&&s.push(1),e=s[0],t=1;t<s.length;t++)i=s[t],r=this.split(e,i),r._t1=e,r._t2=i,u.push(r),e=i;return u.forEach(function(t){for(e=0,i=0;1>=i;)for(i=e+o;1+o>=i;i+=o)if(r=t.split(e,i),!r.simple()){if(i-=o,n(e-i)<o)return[];r=t.split(e,i),r._t1=d.map(e,0,1,t._t1,t._t2),r._t2=d.map(i,0,1,t._t1,t._t2),a.push(r),e=i;break}1>e&&(r=t.split(e,1),r._t1=d.map(e,0,1,t._t1,t._t2),r._t2=t._t2,a.push(r))}),a},scale:function(t){var n=this.order,r=!1;if("function"==typeof t&&(r=t),r&&2===n)return this.raise().scale(r);var e=this.clockwise,i=r?r(0):t,o=r?r(1):t,u=[this.offset(0,10),this.offset(1,10)],a=d.lli4(u[0],u[0].c,u[1],u[1].c);if(!a)throw"cannot scale this curve. Try reducing it first.";var s=this.points,c=[];return[0,1].forEach(function(t){var r=c[t*n]=d.copy(s[t*n]);r.x+=(t?o:i)*u[t].n.x,r.y+=(t?o:i)*u[t].n.y}.bind(this)),r?([0,1].forEach(function(i){if(2!==this.order||!i){var o=s[i+1],u={x:o.x-a.x,y:o.y-a.y},l=r?r((i+1)/n):t;r&&!e&&(l=-l);var h=f(u.x*u.x+u.y*u.y);u.x/=h,u.y/=h,c[i+1]={x:o.x+l*u.x,y:o.y+l*u.y}}}.bind(this)),new y(c)):([0,1].forEach(function(t){if(2!==this.order||!t){var r=c[t*n],e=this.derivative(t),i={x:r.x+e.x,y:r.y+e.y};c[t+1]=d.lli4(r,i,a,s[t+1])}}.bind(this)),new y(c))},outline:function(t,n,r,e){function i(t,n,r,e,i){return function(o){var u=e/r,a=(e+i)/r,s=n-t;return d.map(o,0,1,t+u*s,t+a*s)}}n="undefined"==typeof n?t:n;var o,u=this.reduce(),a=u.length,s=(this.order,[]),f=[],c=0,l=this.length(),h="undefined"!=typeof r&&"undefined"!=typeof e;u.forEach(function(o){b=o.length(),h?(s.push(o.scale(i(t,r,l,c,b))),f.push(o.scale(i(-n,-e,l,c,b)))):(s.push(o.scale(t)),f.push(o.scale(-n))),c+=b}),f=f.map(function(t){return o=t.points,t.points=o[3]?[o[3],o[2],o[1],o[0]]:[o[2],o[1],o[0]],t}).reverse();var p=s[0].points[0],y=s[a-1].points[s[a-1].points.length-1],g=f[a-1].points[f[a-1].points.length-1],m=f[0].points[0],_=d.makeline(g,p),x=d.makeline(y,m),w=[_].concat(s).concat([x]).concat(f),b=w.length;return new v(w)},outlineshapes:function(t,n){n=n||t;for(var r=this.outline(t,n).curves,e=[],i=1,o=r.length;o/2>i;i++){var u=d.makeshape(r[i],r[o-i]);u.startcap.virtual=i>1,u.endcap.virtual=o/2-1>i,e.push(u)}return e},intersects:function(t){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof y&&(t=t.reduce()),this.curveintersects(this.reduce(),t)):this.selfintersects()},lineIntersects:function(t){var n=e(t.p1.x,t.p2.x),r=e(t.p1.y,t.p2.y),o=i(t.p1.x,t.p2.x),u=i(t.p1.y,t.p2.y),a=this;return d.roots(this.points,t).filter(function(t){var e=a.get(t);return n<=e.x&&e.x<=o&&r<=e.y&&e.y<=u})},selfintersects:function(){var t,n,r,e,i=this.reduce(),o=i.length-2,u=[];for(t=0;o>t;t++)r=i.slice(t,t+1),e=i.slice(t+2),n=this.curveintersects(r,e),u=u.concat(n);return u},curveintersects:function(t,n){var r=[];t.forEach(function(t){n.forEach(function(n){t.overlaps(n)&&r.push({left:t,right:n})})});var e=[];return r.forEach(function(t){var n=d.pairiteration(t.left,t.right);n.length>0&&(e=e.concat(n))}),e}},"undefined"!=typeof r&&r.exports?r.exports=y:"undefined"!=typeof define?define(function(){return y}):"undefined"!=typeof window&&(window.Bezier=y)}()},{}]},{},[1]);
//# sourceMappingURL=bundle.js.map